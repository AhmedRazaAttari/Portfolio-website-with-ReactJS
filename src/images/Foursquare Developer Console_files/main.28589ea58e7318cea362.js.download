!function(e){function t(t){for(var n,i,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)i=l[p],r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([400,1]),a()}({377:function(e,t,a){var n=a(132);e.exports=function(e){var t=e.properties,a=e.geometry;if(!t.user_isCircle)return null;for(var r=[],o=a.coordinates[0].slice(0,-1),i=0;i<o.length;i+=Math.round(o.length/4))r.push(n(t.id,o[i],"0.".concat(i),!1));return r}},400:function(e,t,a){a(401),a(586),e.exports=a(717)},611:function(e,t,a){var n={"./af":234,"./af.js":234,"./ar":235,"./ar-dz":236,"./ar-dz.js":236,"./ar-kw":237,"./ar-kw.js":237,"./ar-ly":238,"./ar-ly.js":238,"./ar-ma":239,"./ar-ma.js":239,"./ar-sa":240,"./ar-sa.js":240,"./ar-tn":241,"./ar-tn.js":241,"./ar.js":235,"./az":242,"./az.js":242,"./be":243,"./be.js":243,"./bg":244,"./bg.js":244,"./bm":245,"./bm.js":245,"./bn":246,"./bn.js":246,"./bo":247,"./bo.js":247,"./br":248,"./br.js":248,"./bs":249,"./bs.js":249,"./ca":250,"./ca.js":250,"./cs":251,"./cs.js":251,"./cv":252,"./cv.js":252,"./cy":253,"./cy.js":253,"./da":254,"./da.js":254,"./de":255,"./de-at":256,"./de-at.js":256,"./de-ch":257,"./de-ch.js":257,"./de.js":255,"./dv":258,"./dv.js":258,"./el":259,"./el.js":259,"./en-SG":260,"./en-SG.js":260,"./en-au":261,"./en-au.js":261,"./en-ca":262,"./en-ca.js":262,"./en-gb":263,"./en-gb.js":263,"./en-ie":264,"./en-ie.js":264,"./en-il":265,"./en-il.js":265,"./en-nz":266,"./en-nz.js":266,"./eo":267,"./eo.js":267,"./es":268,"./es-do":269,"./es-do.js":269,"./es-us":270,"./es-us.js":270,"./es.js":268,"./et":271,"./et.js":271,"./eu":272,"./eu.js":272,"./fa":273,"./fa.js":273,"./fi":274,"./fi.js":274,"./fo":275,"./fo.js":275,"./fr":276,"./fr-ca":277,"./fr-ca.js":277,"./fr-ch":278,"./fr-ch.js":278,"./fr.js":276,"./fy":279,"./fy.js":279,"./ga":280,"./ga.js":280,"./gd":281,"./gd.js":281,"./gl":282,"./gl.js":282,"./gom-latn":283,"./gom-latn.js":283,"./gu":284,"./gu.js":284,"./he":285,"./he.js":285,"./hi":286,"./hi.js":286,"./hr":287,"./hr.js":287,"./hu":288,"./hu.js":288,"./hy-am":289,"./hy-am.js":289,"./id":290,"./id.js":290,"./is":291,"./is.js":291,"./it":292,"./it-ch":293,"./it-ch.js":293,"./it.js":292,"./ja":294,"./ja.js":294,"./jv":295,"./jv.js":295,"./ka":296,"./ka.js":296,"./kk":297,"./kk.js":297,"./km":298,"./km.js":298,"./kn":299,"./kn.js":299,"./ko":300,"./ko.js":300,"./ku":301,"./ku.js":301,"./ky":302,"./ky.js":302,"./lb":303,"./lb.js":303,"./lo":304,"./lo.js":304,"./lt":305,"./lt.js":305,"./lv":306,"./lv.js":306,"./me":307,"./me.js":307,"./mi":308,"./mi.js":308,"./mk":309,"./mk.js":309,"./ml":310,"./ml.js":310,"./mn":311,"./mn.js":311,"./mr":312,"./mr.js":312,"./ms":313,"./ms-my":314,"./ms-my.js":314,"./ms.js":313,"./mt":315,"./mt.js":315,"./my":316,"./my.js":316,"./nb":317,"./nb.js":317,"./ne":318,"./ne.js":318,"./nl":319,"./nl-be":320,"./nl-be.js":320,"./nl.js":319,"./nn":321,"./nn.js":321,"./pa-in":322,"./pa-in.js":322,"./pl":323,"./pl.js":323,"./pt":324,"./pt-br":325,"./pt-br.js":325,"./pt.js":324,"./ro":326,"./ro.js":326,"./ru":327,"./ru.js":327,"./sd":328,"./sd.js":328,"./se":329,"./se.js":329,"./si":330,"./si.js":330,"./sk":331,"./sk.js":331,"./sl":332,"./sl.js":332,"./sq":333,"./sq.js":333,"./sr":334,"./sr-cyrl":335,"./sr-cyrl.js":335,"./sr.js":334,"./ss":336,"./ss.js":336,"./sv":337,"./sv.js":337,"./sw":338,"./sw.js":338,"./ta":339,"./ta.js":339,"./te":340,"./te.js":340,"./tet":341,"./tet.js":341,"./tg":342,"./tg.js":342,"./th":343,"./th.js":343,"./tl-ph":344,"./tl-ph.js":344,"./tlh":345,"./tlh.js":345,"./tr":346,"./tr.js":346,"./tzl":347,"./tzl.js":347,"./tzm":348,"./tzm-latn":349,"./tzm-latn.js":349,"./tzm.js":348,"./ug-cn":350,"./ug-cn.js":350,"./uk":351,"./uk.js":351,"./ur":352,"./ur.js":352,"./uz":353,"./uz-latn":354,"./uz-latn.js":354,"./uz.js":353,"./vi":355,"./vi.js":355,"./x-pseudo":356,"./x-pseudo.js":356,"./yo":357,"./yo.js":357,"./zh-cn":358,"./zh-cn.js":358,"./zh-hk":359,"./zh-hk.js":359,"./zh-tw":360,"./zh-tw.js":360};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=611},703:function(e,t,a){var n=a(94),r=a(30),o=a(105),i=a(138).default,l=Object.assign({},n.modes.draw_polygon);l.onSetup=function(e){var t=this.newFeature({type:r.geojsonTypes.FEATURE,properties:{isCircle:!0,center:[]},geometry:{type:r.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),o.disable(this),this.updateUIClasses({mouse:r.cursors.ADD}),this.activateUIButton(r.types.POLYGON),this.setActionableState({trash:!0}),{initialRadiusInKm:e.initialRadiusInKm||.1,polygon:t,currentVertexPosition:0}},l.clickAnywhere=function(e,t){if(0===e.currentVertexPosition){e.currentVertexPosition++;var a=[t.lngLat.lng,t.lngLat.lat],n=i(a,e.initialRadiusInKm);e.polygon.incomingCoords(n.geometry.coordinates),e.polygon.properties.center=a,e.polygon.properties.radiusInKm=e.initialRadiusInKm}return this.changeMode(r.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},e.exports=l},704:function(e,t,a){var n=a(94),r=a(131),o=a(133),i=a(30),l=a(189),s=a(705).default,c=a(106),u=a(138).default,p=a(377),d=Object.assign({},n.modes.direct_select);d.dragFeature=function(e,t,a){o(this.getSelected(),a),this.getSelected().filter(function(e){return e.properties.isCircle}).map(function(e){return e.properties.center}).forEach(function(e){e[0]+=a.lng,e[1]+=a.lat}),e.dragMoveLocation=t.lngLat},d.dragVertex=function(e,t,a){if(e.feature.properties.isCircle){var n=e.feature.properties.center,r=[t.lngLat.lng,t.lngLat.lat],o=s(c.point(n),c.point(r),{units:"kilometers"}),p=u(n,o);e.feature.incomingCoords(p.geometry.coordinates),e.feature.properties.radiusInKm=o}else for(var d=e.selectedCoordPaths.map(function(t){return e.feature.getCoordinate(t)}),m=d.map(function(e){return{type:i.geojsonTypes.FEATURE,properties:{},geometry:{type:i.geojsonTypes.POINT,coordinates:e}}}),g=l(m,a),h=0;h<d.length;h++){var f=d[h];e.feature.updateCoordinate(e.selectedCoordPaths[h],f[0]+g.lng,f[1]+g.lat)}},d.toDisplayFeatures=function(e,t,a){e.featureId===t.properties.id?(t.properties.active=i.activeStates.ACTIVE,a(t),(t.properties.user_isCircle?p(t):r(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths})).forEach(a)):(t.properties.active=i.activeStates.INACTIVE,a(t));this.fireActionable(e)},e.exports=d},706:function(e,t,a){var n=a(94),r=a(131),o=a(133),i=a(30),l=a(377),s=Object.assign({},n.modes.simple_select);s.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var a={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};o(this.getSelected(),a),this.getSelected().filter(function(e){return e.properties.isCircle}).map(function(e){return e.properties.center}).forEach(function(e){e[0]+=a.lng,e[1]+=a.lat}),e.dragMoveLocation=t.lngLat},s.toDisplayFeatures=function(e,t,a){(t.properties.active=this.isSelected(t.properties.id)?i.activeStates.ACTIVE:i.activeStates.INACTIVE,a(t),this.fireActionable(),t.properties.active===i.activeStates.ACTIVE&&t.geometry.type!==i.geojsonTypes.POINT)&&(t.properties.user_isCircle?l(t):r(t)).forEach(a)},e.exports=s},717:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a(37),l=a.n(i),s=a(139),c=a.n(s),u=a(67),p=a(20),d=a.n(p),m=a(5),g=a.n(m),h=a(11),f=a.n(h),b=a(21),v=a.n(b),y=a(6),E=a.n(y),x=a(59),w=a.n(x),C=a(60),I=a.n(C),k=a(51),S=a.n(k),R=a(31),T=a.n(R),O=a(61),L=a.n(O),_=a(379),A=function(e){function t(e){var a,n;w()(this,t);for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n=I()(this,(a=S()(t)).call.apply(a,[this].concat(o))),Error.captureStackTrace&&Error.captureStackTrace(T()(n),t),n.response=e,n}return L()(t,e),t}(a.n(_)()(Error));function P(e,t){var a=fourSq.config.api.API_BASE_OVERRIDE||fourSq.config.api.API_BASE,n=g()({v:fourSq.config.api.CLIENT_VERSION},t);void 0===n.client_id&&void 0===n.client_secret&&(n.oauth_token=fourSq.config.api.API_TOKEN);var r=Object.keys(n).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(n[e]))}).join("&");return"".concat(a).concat(e,"?").concat(r)}function N(e){var t=fourSq.config.api.API_BASE_OVERRIDE||fourSq.config.api.API_BASE;return"".concat(t).concat(e)}function j(e){var t=new FormData;return t.append("v",fourSq.config.api.CLIENT_VERSION),Object.entries(e).forEach(function(e){var a,n=E()(e,2),r=n[0],o=n[1];a="file"===r?o:null==o?"":o.toString(),t.append(r,a)}),e.client_id&&e.client_secret||t.append("oauth_token",fourSq.api.services.getCommonParams_().oauth_token),t}function F(e){return D.apply(this,arguments)}function D(){return(D=v()(f.a.mark(function e(t){var a,n,r,o,i=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=g()({type:"json",credentials:"same-origin"},a),e.next=4,fetch(t,n);case 4:return r=e.sent,e.next=7,r.json();case 7:if(o=e.sent,!(r.status>=200&&r.status<300)){e.next=11;break}return e.abrupt("return",o.response?o.response:o);case 11:throw new A(o.response,o.meta.errorDetail);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t,a){return U.apply(this,arguments)}function U(){return(U=v()(f.a.mark(function e(t,a,n){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t,a),e.abrupt("return",F(r,g()({method:"GET"},n)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return(B=v()(f.a.mark(function e(t){var a,n,r,o=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2?o[2]:void 0,r=N(t),e.abrupt("return",F(r,g()({method:"POST",body:j(a)},n)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G=function(){return q("v2/billing")},H=function(){return q("v2/billing/cards")},z=function(){return M("v2/billing/cards/add",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},V=function(e){return M("v2/billing/cards/".concat(e,"/unlink"))},W=function(e){return M("v2/billing/cards/".concat(e,"/setAsDefault"))},K=function(e){return M("v2/apps/unsubscribe",e)},Y=function(){return q("v2/billing/credits")},Q=function(){return M("v2/billing/credits/add",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},$=function(e){return q("v2/billing/credits/transactions",e)},Z=function(){return M("v2/billing/credits/autorecharge",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},J=a(108),X=a(2),ee=a(62),te={BROWN_PRO_BOLD:"Brown-Pro-Bold, sans-serif",BROWN_PRO_REGULAR:"Brown-Pro-Regular, sans-serif",BROWN_PRO_LIGHT:"Brown-Pro-Light, sans-serif"},ae={WHITE:"#fff",LIGHT_BLUE:Object(ee.b)(-.8,"#0732a2"),BLUE:"#0732a2",DARK_BLUE:"#00113d",DARK_BLUE_15:Object(ee.b)(-.85,"#00113d"),DARK_BLUE_55:Object(ee.b)(-.45,"#00113d"),BLUE_GREY:"#d5d8e3",LIGHT_GREY:"#f0f3fa",HOVER_GREY:"#ced7ed",TURQUOISE:"#7bf0eb",ERROR_RED:"rgb(173,6,50)",ERROR_RED_10:"rgba(173, 6, 50, 0.1)",LIGHT_GREEN:"#bbf9f5",GREEN:"#14e6dd"},ne="rgb(249,202, 72)",re="rgb(255,75, 62)",oe=(Object(ee.b)(-.85,"#fff"),"rgba(183, 187, 199, 0.4)"),ie="#FFF",le="rgba(20, 230, 221, 0.3)",se="rgba(20, 230, 221, 0.5)",ce="rgba(20, 230, 221, 1)",ue="#00113d",pe={container:function(e,t){var a=ae.LIGHT_GREY,n=ae.LIGHT_GREY;return"hasError"===t.className&&(a=ae.ERROR_RED_10,n=ae.ERROR_RED),t.isFocused&&(n=ae.BLUE),g()({},e,{width:"100%",minWidth:"250px",color:t.isFocused?ae.DARK_BLUE:ae.DARK_BLUE_55,backgroundColor:a,borderBottom:n,borderRadius:"4px",outline:"none",opacity:t.isDisabled?"0.5":"1",filter:t.isDisabled?"grayscale(100%)":"none",transition:"border 200ms"})},control:function(e,t){return g()({},e,{color:t.isFocused?ae.DARK_BLUE:ae.DARK_BLUE_55,background:"none",borderStyle:"none",boxShadow:"none"})},multiValue:function(e){return g()({},e,{background:"#d5d9e3"})},valueContainer:function(e){return g()({},e,{borderStyle:"none"})},indicatorSeparator:function(){}},de=X.b.div.withConfig({displayName:"toast__Wrapper",componentId:"v2z06f-0"})(["display:flex;color:",";font-family:",";> img{width:16px;height:16px;margin-right:16px;}> span{word-break:break-all;}"],ae.DARK_BLUE,te.BROWN_PRO_REGULAR),me={success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Your changes have been saved.",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J.b.success(r.a.createElement(de,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/success.png",alt:"uptick"}),r.a.createElement("span",null,e)),g()({},t))},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"There was an issue fetching your data.",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J.b.error(r.a.createElement(de,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/error.png",alt:"info"}),r.a.createElement("span",null,e)),g()({},t))}},ge="developers/apps/FETCH_BILLING_SUMMARY_REQUEST",he="developers/apps/FETCH_BILLING_SUMMARY_SUCCESS",fe="developers/apps/FETCH_BILLING_SUMMARY_FAILURE",be="developers/apps/FETCH_CARDS_REQUEST",ve="developers/apps/FETCH_CARDS_SUCCESS",ye="developers/apps/FETCH_CARDS_FAILURE",Ee="developers/apps/ADD_CARD_SUCCESS",xe="developers/apps/REMOVE_CARD_SUCCESS",we="developers/apps/SET_CARD_AS_DEFAULT_SUCCESS",Ce="developers/apps/FETCH_CREDITS_TRANSACTION_REQUEST",Ie="developers/apps/FETCH_CREDITS_TRANSACTION_SUCCESS",ke="developers/apps/FETCH_CREDIT_TRANSACTION_FAILURE",Se="developers/apps/FETCH_CREDITS_REQUEST",Re="developers/apps/FETCH_CREDITS_SUCCESS",Te="developers/apps/FETCH_CREDITS_FAILURE",Oe="developers/apps/UPDATE_AUTOPAYMENT_REQUEST",Le="developers/apps/UPDATE_AUTOPAYMENT_SUCCESS",_e="developers/apps/UPDATE_AUTOPAYMENT_FAILURE",Ae="developers/apps/ADD_CREDITS_REQUEST",Pe="developers/apps/ADD_CREDITS_SUCCESS",Ne="developers/apps/ADD_CREDITS_FAILURE",je=function(){return function(){var e=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ge}),e.next=4,G();case 4:a=e.sent,t({type:he,billingSummary:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:fe}),me.error();case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Fe=function(){return function(){var e=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:be}),e.next=4,H();case 4:a=e.sent,t({type:ve,cards:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ye}),me.error();case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},De=function(e){return function(){var t=v()(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"developers/apps/ADD_CARD_REQUEST"}),t.next=4,z(e);case 4:return n=t.sent,a({type:Ee,card:n}),me.success("Card successfully added."),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(0),a({type:"developers/apps/ADD_CARD_FAILURE"}),me.error(t.t0.message),t.t0;case 15:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(){var t=v()(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"developers/apps/REMOVE_CARD_REQUEST"}),t.next=4,V(e);case 4:a({type:xe,cardId:e}),me.success(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"developers/apps/REMOVE_CARD_FAILURE"}),me.error();case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Ue=function(e){return function(){var t=v()(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"developers/apps/SET_CARD_AS_DEFAULT_REQUEST"}),t.next=4,W(e);case 4:a({type:we,cardId:e}),me.success(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"developers/apps/SET_CARD_AS_DEFAULT_FAILURE"}),me.error();case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Me=function(){return function(){var e=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Se}),e.next=4,Y();case 4:a=e.sent,t({type:Re,credits:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:Te}),me.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Be=function(){return function(){var e=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ce}),e.next=4,$();case 4:a=e.sent,t({type:Ie,transactions:a.items}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ke}),me.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},Ge=function(e){return function(){var t=v()(f.a.mark(function t(a,n){var r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().account.credits,t.prev=1,a({type:Ae}),t.next=5,Q(e);case 5:return o={amount:e.amount,balance:r.balance+e.amount,date:Date.now(),intermediate:!0,quantity:0,type:"Manual Credit Purchase"},a({type:Pe,newTransaction:o}),a(Me()),me.success("Successfully Added ".concat(e.amount," credits")),t.abrupt("return",!0);case 12:throw t.prev=12,t.t0=t.catch(1),a({type:Ne}),me.error(t.t0.message),t.t0;case 17:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e,a){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=v()(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Oe}),t.next=4,Z(e);case 4:n={autorenewEnabled:e.enable,autorenewAmount:e.amount},a({type:Le,autoPaymentInfo:n}),me.success("Successfully updated autopayment"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:_e}),me.error(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},ze={isFetching:!1,billingSummary:{},cards:{},credits:{},transactions:[]};var Ve=a(18),We=a.n(Ve),Ke=a(13),Ye=a.n(Ke),Qe=a(4),$e=a.n(Qe),Ze=a(24),Je=a.n(Ze),Xe=a(381),et=a.n(Xe),tt={getApps:function(){return q("v2/apps/created")},getAppSettings:function(e){return q("v2/apps/".concat(e,"/privileged"))},updateAppSettings:function(e,t){return M("v2/apps/".concat(e,"/edit"),t)},createNewApp:function(e){return M("v2/apps/create",e)},deleteApp:function(e,t){return M("v2/apps/".concat(e,"/delete"),t)},resetAppSecret:function(e,t){return M("v2/apps/".concat(e,"/resetSecrets"),t)},testPush:function(e,t){return M("v2/apps/".concat(e,"/testPush"),t)},resendPush:function(e,t){return M("v2/apps/".concat(e,"/resendPush"),t)}},at={getPilgrimSettings:function(e){return q("v2/apps/".concat(e,"/pilgrim"))},getGeofencesVisualizer:function(e,t){var a=E()(t,4),n=a[0],r=a[1],o=a[2],i=a[3];return q("v2/apps/".concat(e,"/geofences/visualizer"),{ne:"".concat(i,",").concat(o),sw:"".concat(r,",").concat(n)})},updatePilgrimSettings:function(e,t,a){if(!["debugevents","integrations","snaptoplace","webhook"].includes(t))throw new Error("Only support to update pilgrim debugevents, integrations, snaptoplace, or webhook");return M("v2/pilgrim/config/".concat(e,"/").concat(t),a)},createNewGeofence:function(e,t){return M("v2/apps/".concat(e,"/geofences/add"),t)},editGeofence:function(e,t,a){return M("v2/apps/".concat(e,"/geofence/").concat(t,"/update"),a)},deleteGeofence:function(e,t){return M("v2/apps/".concat(e,"/geofence/").concat(t,"/delete"))},testAmazonS3Bucket:function(e,t){return M("v2/apps/".concat(e,"/testS3Bucket"),{s3Path:t})},getPilgrimDebugEvents:function(e,t,a,n){var r={client_id:e,client_secret:t};return a&&(r.limit=a),n&&(r.offset=n),q("v2/pilgrim/debugevents",r)},getAllPilgrimDebugEvents:function(e,t){return q("v2/pilgrim/debugevents",{client_id:e,client_secret:t})},getAllPilgrimStats:function(e,t){return q("v2/pilgrim/stats/".concat(e),t)},requestPilgrimAccess:function(e){return M("v2/enrollment/sdk",e)}},nt="developers/apps/SET_API_VERIFICATION_CODE",rt="developers/apps/FETCH_APPS_REQUEST",ot="developers/apps/FETCH_APPS_SUCCESS",it="developers/apps/FETCH_APPS_FAILURE",lt="developers/apps/FETCH_APP_SETTINGS_REQUEST",st="developers/apps/FETCH_APP_SETTINGS_SUCCESS",ct="developers/apps/FETCH_APP_SETTINGS_FAILURE",ut="developers/apps/UPDATE_APP_SETTINGS_SUCCESS",pt="developers/apps/DELETE_APP_SUCCESS",dt="developers/apps/RESET_APP_SECRET_SUCCESS",mt="developers/apps/UPDATE_APP_PILGRIM_SETTINGS_SUCCESS",gt="developers/apps/UNSUBSCRIBE_SUCCESS",ht=function(e){return function(){var t=v()(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:lt,appId:e}),t.next=4,tt.getAppSettings(e);case 4:n=t.sent,a({type:st,data:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:ct,appId:e}),me.error();case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},ft=function(e,t){return function(){var a=v()(f.a.mark(function a(n,r){var o,i,l,s;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().apps.csrfToken,i=g()({code:o},t),a.prev=2,n({type:"developers/apps/UPDATE_APP_SETTINGS_REQUEST",appId:e}),a.next=6,tt.updateAppSettings(e,i);case 6:return l=a.sent,n({type:ut,data:l,appId:e}),me.success(),a.abrupt("return",l);case 12:throw a.prev=12,a.t0=a.catch(2),n({type:"developers/apps/UPDATE_APP_SETTINGS_FAILURE",appId:e}),s=Je()(a.t0,"response.validationErrors"),me.error(s?s.map(function(e){return e.errors}):void 0),a.t0;case 18:case"end":return a.stop()}},a,null,[[2,12]])}));return function(e,t){return a.apply(this,arguments)}}()},bt=function(e){return function(){var t=v()(f.a.mark(function t(a,n){var r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().apps.csrfToken,t.prev=1,a({type:"developers/apps/DELETE_APP_REQUEST",appId:e}),t.next=5,tt.deleteApp(e,{code:r});case 5:return o=t.sent,a({type:pt,data:o,appId:e}),me.success(),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(1),a({type:"developers/apps/DELETE_APP_FAILURE"}),me.error(t.t0.message),t.t0;case 16:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e,a){return t.apply(this,arguments)}}()},vt=function(e){return function(){var t=v()(f.a.mark(function t(a,n){var r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().apps.csrfToken,t.prev=1,a({type:"developers/apps/RESET_APP_SECRET_REQUEST",appId:e}),t.next=5,tt.resetAppSecret(e,{code:r});case 5:o=t.sent,a({type:dt,appId:e,secret:o.app.secret}),me.success(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"developers/apps/RESET_APP_SECRET_FAILURE",appId:e}),me.error("There was an issue to reset the client secret.");case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,a){return t.apply(this,arguments)}}()},yt=function(e,t,a){return function(){var n=v()(f.a.mark(function n(r,o){var i,l;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=o().apps.csrfToken,n.prev=1,r({type:"developers/apps/UPDATE_APP_PILGRIM_SETTINGS_REQUEST",appId:e}),n.next=5,at.updatePilgrimSettings(e,t,g()({code:i},a));case 5:return l=n.sent,r({type:mt,appId:e,pilgrim:l}),me.success(),n.abrupt("return",l);case 11:throw n.prev=11,n.t0=n.catch(1),r({type:"developers/apps/UPDATE_APP_PILGRIM_SETTINGS_FAILURE",appId:e}),me.error("There was an issue to process the data."),n.t0;case 16:case"end":return n.stop()}},n,null,[[1,11]])}));return function(e,t){return n.apply(this,arguments)}}()},Et=function(){return function(){var e=v()(f.a.mark(function e(t,a){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().apps.csrfToken,e.prev=1,t({type:"developers/apps/UNSUBSCRIBE_REQUEST"}),e.next=5,K({code:n});case 5:t({type:gt}),me.success("Successfully unsubscribed"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"developers/apps/NSUBSCRIBE_FAILURE"}),me.error(e.t0.message);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}()},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,t){return g()({},e,Ye()({},t.id,t))},t)},wt=function(e,t,a){return g()({},e.byId,Ye()({},t,g()({},e.byId[t]||{},a)))},Ct={isFetching:!1,byId:{},csrfToken:null,verificationCodeTS:null,availableGeofenceFields:[],availableMMAFields:[],chainsLookup:{},venuesLookup:{},verified:!1,verifiedEmail:!1,hasError:!1,showIntegrationWebhookStatus:!1};var It=function(e,t){return q("v2/apps/dailystats",{days:t,consumerIds:e,byEndpoint:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]})},kt="developers/stats/FETCH_ALL_PLACES_STATS_REQUEST",St="developers/stats/FETCH_ALL_PLACES_STATS_SUCCESS",Rt="developers/stats/FETCH_ALL_PLACES_STATS_FAILURE",Tt={allStatsByDays:{},usageCSVById:{},isFetching:!1};var Ot=function(e,t){return function(){var a=v()(f.a.mark(function a(n){var r;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:kt}),a.next=4,It(e,t);case 4:return r=a.sent,n({type:St,days:t,stats:r}),a.abrupt("return",r);case 9:throw a.prev=9,a.t0=a.catch(0),n({type:Rt}),me.error(),a.t0;case 14:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},Lt=a(142),_t=a.n(Lt),At="developers/apps/FETCH_PILGRIM_EVENTS_REQUEST",Pt="developers/apps/FETCH_PILGRIM_EVENTS_SUCCESS",Nt="developers/apps/FETCH_PILGRIM_EVENTS_FAILURE",jt="developers/apps/FETCH_PILGRIM_STATS_REQUEST",Ft="developers/apps/FETCH_PILGRIM_STATS_SUCCESS",Dt="developers/apps/FETCH_PILGRIM_STATS_FAILURE",qt=function(e,t){return function(){var a=v()(f.a.mark(function a(n){var r,o,i;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:At,appId:e}),a.next=4,at.getPilgrimDebugEvents(e,t);case 4:r=a.sent,o=r.events,i=r.total,n({type:Pt,appId:e,events:o,total:i}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:Nt,appId:e}),me.error();case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},Ut=function(e,t){return function(){var a=v()(f.a.mark(function a(n){var r;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:jt,appId:e}),a.next=4,at.getAllPilgrimStats(e,t);case 4:r=a.sent,n({type:Ft,appId:e,stats:r,params:t}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:Dt,appId:e}),me.error();case 12:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},Mt={eventsById:{},statsById:{}};function Bt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=v()(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("v2/chains/search/",{query:t,approvedOnly:!0});case 2:return a=e.sent,n=a.results,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ht(){return zt.apply(this,arguments)}function zt(){return(zt=v()(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("v2/venues/categories");case 2:return t=e.sent,a=t.categories,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=v()(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("v2/venues/".concat(t));case 2:return a=e.sent,n=a.venue,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Kt(){return(Kt=v()(f.a.mark(function e(t,a,n){var r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("v2/venues/search",{query:t,near:a,nearGeoId:n,intent:"browse"});case 2:return r=e.sent,o=r.venues,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yt(){return(Yt=v()(f.a.mark(function e(t){var a,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("v2/geo/geocode",{query:t,autocomplete:!0,allowCountry:!1,maxInterpretations:5});case 2:return a=e.sent,n=a.geocode,r=n.interpretations,e.abrupt("return",r.items||[]);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Qt="developes/typeaheads/SET_SEARCH_GEO",$t="developers/typeaheads/FETCH_VENUECHAINS",Zt="developers/typeaheads/FETCH_VENUECHAINS_SUCCESS",Jt="developers/typeaheads/FETCH_VENUECHAINS_FAILURE",Xt="developers/typeaheads/FETCH_CATEGORIES",ea="developers/typeaheads/FETCH_CATEGORIES_SUCCESS",ta="developers/typeaheads/FETCH_CATEGORIES_FAILURE",aa={chains:[],isFetchingChains:!1,categoriesLookup:{},flattenCategories:[],isFetchingCategories:!1};function na(e){var t=function e(t,a){return t.reduce(function(t,n){var r=n.categories,o=n.parentIds,i=n.id,l=We()(n,["categories","parentIds","id"]);return t.push(g()({id:i,parentIds:[].concat(d()(o||[]),d()(a)),childrenIds:r.map(function(e){return e.id})},l)),r&&t.push.apply(t,d()(e(r,[].concat(d()(o||[]),d()(a),[i])))),t},[])}(e,[]);return[t,t.reduce(function(e,t){return g()({},e,Ye()({},t.id,{id:t.id,name:t.name,parentIds:t.parentIds,childrenIds:t.childrenIds}))},{})]}var ra=function(){return function(){var e=v()(f.a.mark(function e(t,a){var n,r,o,i,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),r=n.typeaheads,!r.isFetchingCategories){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,t({type:Xt}),e.next=8,Ht();case 8:o=e.sent,i=na(o),l=E()(i,2),s=l[0],c=l[1],t({type:ea,categoriesLookup:c,flattenCategories:s}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:ta}),me.error();case 17:case"end":return e.stop()}},e,null,[[4,13]])}));return function(t,a){return e.apply(this,arguments)}}()},oa=function(e){return{type:Qt,searchGeo:e}},ia=Object(u.c)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:case be:case Se:case Ce:case Ae:case Oe:return g()({},e,{isFetching:!0});case he:return g()({},e,{isFetching:!1,billingSummary:t.billingSummary});case ve:return g()({},e,{isFetching:!1,cards:t.cards});case fe:case ye:case Te:case ke:case Ne:case _e:return g()({},e,{isFetching:!1});case xe:return g()({},e,{cards:g()({},e.cards,{profiles:e.cards.profiles.filter(function(e){return e.id!==t.cardId})})});case Ee:return g()({},e,{cards:g()({},e.cards,{profiles:[].concat(d()(e.cards.profiles),[t.card])})});case we:return g()({},e,{cards:g()({},e.cards,{profiles:e.cards.profiles.map(function(e){return g()({},e,{isDefault:e.id===t.cardId})})})});case Re:return g()({},e,{credits:t.credits,isFetching:!1});case Ie:return g()({},e,{transactions:t.transactions,isFetching:!1});case Pe:return g()({},e,{transactions:[t.newTransaction].concat(d()(e.transactions)),isFetching:!1});case Le:return g()({},e,{credits:g()({},e.credits,t.autoPaymentInfo),isFetching:!1});default:return e}},apps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return g()({},e,{csrfToken:t.code,verificationCodeTS:$e()()});case rt:return g()({},e,{isFetching:!0});case ot:var a=t.data,n=a.apps,r=We()(a,["apps"]);return g()({},e,r,{isFetching:!1,byId:g()({},xt(n.items),e.byId)});case it:return g()({},e,{isFetching:!1,hasError:!0});case lt:return g()({},e,{byId:wt(e,t.appId,{isFetching:!0})});case st:var o=t.data,i=o.app,l=o.availableGeofenceFields,s=o.availableMMAFields,c=o.chains,u=o.venues,p=o.showIntegrationWebhookStatus;return g()({},e,{byId:g()({},e.byId,Ye()({},i.id,i)),availableGeofenceFields:l,availableMMAFields:s,chainsLookup:xt(c||[],e.chainsLookup),venuesLookup:xt(u||[],e.venuesLookup),showIntegrationWebhookStatus:p});case ct:return g()({},e,{byId:wt(e,t.appId,{isFetching:!1})});case ut:var d=t.data,m=d.app,h=d.availableGeofenceFields,f=d.availableMMAFields,b=d.chains,v=d.venues,y=d.showIntegrationWebhookStatus;return g()({},e,{byId:g()({},e.byId,Ye()({},m.id,m)),availableGeofenceFields:h,availableMMAFields:f,chainsLookup:xt(b||[],e.chainsLookup),venuesLookup:xt(v||[],e.venuesLookup),showIntegrationWebhookStatus:y});case dt:return g()({},e,{byId:wt(e,t.appId,{secret:t.secret})});case mt:return g()({},e,{byId:wt(e,t.appId,{pilgrim:t.pilgrim})});case pt:return g()({},e,{byId:et()(e.byId,t.appId)});case gt:return g()({},e,{accountType:"sandbox"});default:return e}},places:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:return g()({},e,{isFetching:!0});case St:return g()({},e,{allStatsByDays:g()({},e.allStatsByDays,Ye()({},t.days,t.stats)),isFetching:!1});case Rt:return g()({},e,{isFetching:!1});default:return e}},pilgrimExtras:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return g()({},e,{eventsById:g()({},e.eventsById,Ye()({},t.appId,g()({},e.eventsById[t.appId],{isFetching:!0})))});case Nt:return g()({},e,{eventsById:g()({},e.eventsById,Ye()({},t.appId,g()({},e.eventsById[t.appId],{isFetching:!1})))});case Pt:return g()({},e,{eventsById:g()({},e.eventsById,Ye()({},t.appId,{isFetching:!1,lastUpdated:$e()().format("YYYY-MM-DD hh:mm A"),events:t.events,total:t.total}))});case jt:return g()({},e,{statsById:g()({},e.statsById,Ye()({},t.appId,g()({},e.statsById[t.appId],{isFetching:!0})))});case Dt:return g()({},e,{statsById:g()({},e.statsById,Ye()({},t.appId,g()({},e.statsById[t.appId],{isFetching:!1})))});case Ft:var a;return g()({},e,{statsById:g()({},e.statsById,Ye()({},t.appId,g()({},e.statsById[t.appId],(a={},Ye()(a,_t.a.stringify(t.params),t.stats),Ye()(a,"isFetching",!1),a))))});default:return e}},typeaheads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt:return g()({},e,{searchGeo:t.searchGeo});case $t:return g()({},e,{isFetchingChains:!0});case Zt:return g()({},e,{isFetchingChains:!1,chains:t.chains});case Jt:return g()({},e,{isFetchingChains:!1});case Xt:return g()({},e,{isFetchingCategories:!0});case ea:return g()({},e,{isFetchingCategories:!1,categoriesLookup:t.categoriesLookup,flattenCategories:t.flattenCategories});case ta:return g()({},e,{isFetchingCategories:!1});default:return e}}}),la=a(382),sa="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d;var ca=a(1),ua=a.n(ca),pa=a(73),da=a(14),ma=a(383),ga=a.n(ma);function ha(){var e=ga()(["\n  ","\n\n  @import url('https://ss0.4sqi.net/fonts/foursquare_icons/sprite.css');\n  @import url('https://fonts.googleapis.com/css?family=Open+Sans:600,700');\n  @import url('https://ss0.4sqi.net/fonts/ll_brown/stylesheet.css');\n\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #appContainer {\n    min-height: 100vh;\n    background: #efeff4;\n  }\n\n  body {\n    line-height: 1.25;\n    font-size: 14px;\n    font-family: ",";\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: ",";\n    &.ReactModal__Body--open {\n      overflow: hidden;\n    }\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    font-weight: 400;\n    font-family: ",";\n  }\n\n  .Select {\n    &.is-open {\n      > .Select-control {\n        border-bottom-left-radius: 8px;\n        border-bottom-right-radius: 8px;\n      }\n    }\n    &.is-focused,\n    &.is-focused:not(.is-open) {\n      > .Select-control {\n        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n      }\n    }\n  }\n\n  textarea {\n    height: 100px;\n    resize: none;\n  }\n\n  @keyframes pulse-animation {\n    0% {\n      box-shadow: 0 0 0 0 ",";\n    }\n    70% {\n      box-shadow: 0 0 0 10px ",";\n    }\n    100% {\n      box-shadow: 0 0 0 0 ",";\n    }\n  }\n\n  .Select-menu-outer {\n    z-index: 1000;\n  }\n\n  .__react_component_tooltip.type-dark {\n    padding: 12px;\n    opacity: 0.8;\n    &.type-dark {\n      background-color: #00113D;\n      &.place-right:after {\n        border-right-color: #00113D;\n      }\n    }\n  }\n\n  .Toastify {\n    .Toastify__toast-container {\n      width: auto;\n      max-width: 400px;\n    }\n    .Toastify__toast--success,\n    .Toastify__toast--error {\n      min-height: 40px;\n      box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.1);\n      background-color: #ffffff;\n      padding: 13px 16px;\n    }\n  }\n"]);return ha=function(){return e},e}var fa=Object(X.a)(ha(),Object(ee.a)(),te.BROWN_PRO_REGULAR,ae.DARK_BLUE,te.BROWN_PRO_BOLD,Object(ee.b)(-.2,ae.TURQUOISE),Object(ee.b)(-1,ae.TURQUOISE),Object(ee.b)(-1,ae.TURQUOISE)),ba=a(23),va=a.n(ba),ya=a(10),Ea=a.n(ya),xa=X.b.div.withConfig({displayName:"Spinner",componentId:"wpl27c-0"})(["display:inline-block;width:10px;height:10px;border-radius:50%;border-top:2px solid ",";border-right:2px solid transparent;animation:spinnerSpin 0.7s linear infinite;@keyframes spinnerSpin{to{transform:rotate(360deg);}}"],ae.BLUE),wa=X.b.button.withConfig({displayName:"Button__Wrapper",componentId:"sc-14j5czd-0"})(["display:inline-block;vertical-align:middle;text-align:center;font-family:",";font-size:14px;white-space:nowrap;overflow:hidden;outline:none;appearance:none;cursor:pointer;transition:color 0.15s ease,background-color 0.15s ease;&[disabled],&.isLoading{opacity:0.5;pointer-events:none;}",""],te.BROWN_PRO_BOLD,function(e){return e.text?"\n        padding: 0;\n        background: none;\n        border: 0;\n        border-radius: 0;\n        text-decoration: underline;\n        color: ".concat(ae.BLUE,";\n      "):e.danger?"\n        height: 32px;\n        padding: 6px 32px;\n        background: none;\n        border-radius: 4px;\n        border: 2px solid ".concat(ae.ERROR_RED,";\n        color: ").concat(ae.ERROR_RED,";\n        &:hover {\n          background-color: ").concat(ae.ERROR_RED,";\n          color: #fff;\n        }\n    "):e.outline?"\n        height: 32px;\n        padding: 6px 32px;\n        background: ".concat(e.background||"none",";\n        border-radius: 4px;\n        border: 2px solid ").concat(ae.BLUE,";\n        color: ").concat(ae.BLUE,";\n        &:hover {\n          background-color: ").concat(ae.BLUE,";\n          color: #fff;\n        }\n      "):"\n      height: 32px;\n      padding: 6px 32px;\n      border-radius: 4px;\n      background-color: ".concat(ae.TURQUOISE,";\n      border: 0;\n      color: ").concat(ae.DARK_BLUE,";\n      &:hover {\n        background-color: #00fff2;\n      }\n    ")});function Ca(e){var t=e.children,a=e.isLoading,n=We()(e,["children","isLoading"]);return r.a.createElement(wa,va()({type:"button",className:Ea()({isLoading:a})},n),a&&r.a.createElement(xa,null),!a&&t)}Ca.propTypes={children:ua.a.any.isRequired,isLoading:ua.a.bool,background:ua.a.string},Ca.defaultProps={isLoading:ua.a.false,background:null};var Ia=Ca,ka=X.b.div.withConfig({displayName:"Dropdown__Wrapper",componentId:"sc-14l2irz-0"})(["position:relative;&.isOpen > div{display:block;}> button{display:block;width:100%;padding:0;border:0;background:none;outline:none;cursor:pointer;}> div{display:none;position:absolute;top:calc(100% + 8px);background-color:#fff;border-radius:3px;box-shadow:0 2px 4px 0 rgba(0,0,0,0.1);white-space:nowrap;z-index:999;"," &::before{content:'';display:block;position:absolute;bottom:100%;width:14px;height:14px;background:#fff;transform:rotate(45deg) translate(6px,6px);box-shadow:-1px -1px 1px -1px rgba(0,0,0,0.44);","}}"],function(e){return"right"===e.align?"right: 0;":"\n        left: 50%;\n        transform: translateX(-50%);\n      "},function(e){return"right"===e.align?"right: 10px;":"left: calc(50% - 7px);"});function Sa(e){var t=e.button,a=e.menu,o=We()(e,["button","menu"]),i=Object(n.useState)(!1),l=E()(i,2),s=l[0],c=l[1],u=Object(n.useRef)(),p=Object(n.useRef)();p.current=s;var d=Object(n.useCallback)(function(e){e.stopPropagation(),c(function(e){return!e})},[]),m=Object(n.useCallback)(function(e){p.current&&!u.current.contains(e.target)&&c(function(e){return!e})},[]);return Object(n.useEffect)(function(){return["click","touchstart"].forEach(function(e){document.addEventListener(e,m,!0)}),function(){["click","touchstart"].forEach(function(e){document.removeEventListener(e,m,!0)})}},[]),r.a.createElement(ka,va()({className:Ea()({isOpen:s})},o),r.a.createElement("button",{ref:u,type:"button",onClick:d,"aria-label":"open dropdown menu"},t),r.a.createElement("div",null,a))}Sa.propTypes={button:ua.a.element.isRequired,menu:ua.a.node.isRequired};var Ra=Sa,Ta=X.b.div.withConfig({displayName:"Header__Wrapper",componentId:"xw76ax-0"})(["display:flex;justify-content:flex-end;align-items:center;box-sizing:border-box;padding:20px 0px 12px 80px;> a{text-decoration:none;color:",";}"],ae.DARK_BLUE),Oa=X.b.div.withConfig({displayName:"Header__DropdownButton",componentId:"xw76ax-1"})(["display:flex;align-items:center;margin-left:40px;> img{border-radius:6px;}"]),La=X.b.div.withConfig({displayName:"Header__DropdownMenu",componentId:"xw76ax-2"})(["padding:12px 40px;border-radius:4px;width:200px;> span{display:inline-block;padding:6px 0;opacity:0.6;}> hr{display:block;margin:6px 0;height:1px;width:100%;border:0;background-color:#00113d;opacity:0.6;}> a{display:block;padding:6px 0;text-decoration:none;color:",";&:hover{text-decoration:underline;}}button{display:block;width:100%;padding:6px 0;background:none;border:0;outline:none;text-align:left;color:",";cursor:pointer;&:hover{text-decoration:underline;}}"],ae.DARK_BLUE,ae.DARK_BLUE);var _a=function(){var e=Je()(fourSq,"config.user.USER_PROFILE.firstName"),t=Je()(fourSq,"config.user.USER_PROFILE.lastName"),a=Je()(fourSq,"config.user.USER_PROFILE.photo",{}),n="".concat(a.prefix,"32x32").concat(a.suffix),o=fourSq.api.services.getCommonParams_().oauth_token;return r.a.createElement(Ta,null,r.a.createElement("a",{href:"http://developer.foursquare.com/docs",target:"_blank",rel:"noopener noreferrer"},"Docs"),r.a.createElement(Ra,{align:"right",button:r.a.createElement(Oa,null,r.a.createElement("img",{src:n,alt:""})),menu:r.a.createElement(La,null,r.a.createElement("span",null,e," ",t),r.a.createElement("hr",null),r.a.createElement(da.b,{to:"/apps"},"My Apps"),r.a.createElement(da.b,{to:"/account/profile"},"Account"),r.a.createElement("form",{name:"logout",method:"POST",action:"/logout"},r.a.createElement("input",{type:"hidden",name:"token",value:o}),r.a.createElement("input",{type:"hidden",name:"continue",value:"https://developer.foursquare.com"}),r.a.createElement("button",{type:"submit"},"Logout")))}))},Aa=X.b.div.withConfig({displayName:"Modal__ModalHeader",componentId:"aidj1-0"})(["display:flex;align-items:center;justify-content:space-between;height:48px;padding:14px 15px 14px 48px;background-color:",";border-radius:4px 4px 0 0;color:",";> h3{margin:0;font-size:16px;}> button{color:",";&:hover{color:",";}}"],ae.DARK_BLUE,ae.WHITE,ae.WHITE,ae.TURQUOISE),Pa={overlay:{display:"flex",alignItems:"center",flexWrap:"wrap",padding:"100px 0 100px 240px",backgroundColor:"rgba(0, 0, 0, 0.4)",overflow:"auto",zIndex:999},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",margin:"0 auto",padding:0,maxWidth:670,width:"calc(100% - 30px)",backgroundColor:ae.LIGHT_GREY,border:0,borderRadius:4,boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.1)"}};function Na(e){e.className;var t=e.children,a=e.title,n=e.showCloseButton,o=e.onRequestClose,i=We()(e,["className","children","title","showCloseButton","onRequestClose"]);return r.a.createElement(c.a,va()({contentLabel:"Modal",style:Pa,onRequestClose:o},i),r.a.createElement(Aa,null,r.a.createElement("h3",null,a),n&&r.a.createElement(Ia,{text:!0,onClick:o},"Close")),t)}Na.propTypes={isOpen:ua.a.bool.isRequired,onRequestClose:ua.a.func.isRequired,className:ua.a.string,children:ua.a.any,title:ua.a.string,showCloseButton:ua.a.bool},Na.defaultProps={className:"",children:null,title:"",showCloseButton:!0};var ja=a(68),Fa=X.b.i.withConfig({displayName:"Icon",componentId:"sc-18u0i5y-0"})(["display:inline-block;background-repeat:no-repeat;background-image:url(https://ss0.4sqi.net/fonts/foursquare_icons/sprite.svg);width:16px;height:16px;background-position:",";"],function(e){switch(e.type){case"arrow-down-click":return"0 0";case"arrow-down-hover":return"-32px 0";case"arrow-down-regular":return"-64px 0";case"arrow-down2-hover":return"-96px 0";case"arrow-down2-regular":return"-128px 0";case"arrow-left-click":return"-160px 0";case"arrow-left-hover":return"-192px 0";case"arrow-left-regular":return"-224px 0";case"arrow-left2-hover":return"-256px 0";case"arrow-left2-regular":return"-288px 0";case"arrow-right-click":return"-320px 0";case"arrow-right-hover":return"-352px 0";case"arrow-right-regular":return"-384px 0";case"arrow-right2-hover":return"-416px 0";case"arrow-right2-regular":return"-448px 0";case"arrow-up-click":return"-480px 0";case"arrow-up-hover":return"0 -32px";case"arrow-up-regular":return"-32px -32px";case"arrow-up2-hover":return"-64px -32px";case"arrow-up2-regular":return"-96px -32px";case"audience-click":return"-128px -32px";case"audience-hover":return"-160px -32px";case"audience-regular":return"-192px -32px";case"background-click":return"-224px -32px";case"background-hover":return"-256px -32px";case"background-regular":return"-288px -32px";case"backward-regular":return"-320px -32px";case"button-pause-click":return"-352px -32px";case"button-pause-hover":return"-384px -32px";case"button-pause-regular":return"-416px -32px";case"button-play-click":return"-448px -32px";case"button-play-hover":return"-480px -32px";case"button-play-regular":return"0 -64px";case"caret-down-click":return"-32px -64px";case"caret-down-hover":return"-64px -64px";case"caret-down-regular":return"-96px -64px";case"caret-left-click":return"-128px -64px";case"caret-left-hover":return"-160px -64px";case"caret-left-regular":return"-192px -64px";case"caret-right-click":return"-224px -64px";case"caret-right-hover":return"-256px -64px";case"caret-right-regular":return"-288px -64px";case"caret-up-click":return"-320px -64px";case"caret-up-hover":return"-352px -64px";case"caret-up-regular":return"-384px -64px";case"chart-click":return"-416px -64px";case"chart-hover":return"-448px -64px";case"chart-regular":return"-480px -64px";case"chart2-click":return"0 -96px";case"chart2-hover":return"-32px -96px";case"chart2-regular":return"-64px -96px";case"close-x-hover":return"-96px -96px";case"close-x-regular":return"-128px -96px";case"compare-click":return"-160px -96px";case"compare-hover":return"-192px -96px";case"compare-regular":return"-224px -96px";case"document-click":return"-256px -96px";case"document-hover":return"-288px -96px";case"document-regular":return"-320px -96px";case"download-click":return"-352px -96px";case"download-hover":return"-384px -96px";case"download-regular":return"-416px -96px";case"edit-click":return"-448px -96px";case"edit-regular":return"-480px -96px";case"edit-hover":return"0 -128px";case"error-click":return"-32px -128px";case"error-hover":return"-64px -128px";case"error-regular":return"-96px -128px";case"expand-hover":return"-128px -128px";case"expand-click":return"-160px -128px";case"expand-regular":return"-192px -128px";case"experiment-click":return"-224px -128px";case"experiment-hover":return"-256px -128px";case"experiment-regular":return"-288px -128px";case"fast-b-click":return"-320px -128px";case"fast-b-hover":return"-352px -128px";case"fast-b-regular":return"-384px -128px";case"fast-f-click":return"-416px -128px";case"fast-f-hover":return"-448px -128px";case"fast-f-regular":return"-480px -128px";case"feedback-click":return"0 -160px";case"feedback-hover":return"-32px -160px";case"feedback-regular":return"-64px -160px";case"forward-regular":return"-96px -160px";case"hyperlink-external-click":return"-128px -160px";case"hyperlink-external-hover":return"-160px -160px";case"hyperlink-external-regular":return"-192px -160px";case"info-click":return"-224px -160px";case"info-hover":return"-256px -160px";case"info-regular":return"-288px -160px";case"kebab-hover":return"-320px -160px";case"kebab-regular":return"-352px -160px";case"list-click":return"-384px -160px";case"list-hover":return"-416px -160px";case"list-regular":return"-448px -160px";case"map-click":return"-480px -160px";case"map-hover":return"0 -192px";case"map-regular":return"-32px -192px";case"meatball-hover":return"-64px -192px";case"meatball-regular":return"-96px -192px";case"minus-hover":return"-128px -192px";case"minus-regular":return"-160px -192px";case"overview-click":return"-192px -192px";case"overview-hover":return"-224px -192px";case"overview-regular":return"-256px -192px";case"overview2-click":return"-288px -192px";case"overview2-hover":return"-320px -192px";case"overview2-regular":return"-352px -192px";case"overview3-click":return"-384px -192px";case"overview3-hover":return"-416px -192px";case"overview3-regular":return"-448px -192px";case"plus-hover":return"-480px -192px";case"plus-regular":return"0 -224px";case"profile-hover":return"-32px -224px";case"profile-regular":return"-64px -224px";case"search-click":return"-96px -224px";case"search-hover":return"-128px -224px";case"search-regular":return"-160px -224px";case"settings-click":return"-192px -224px";case"settings-hover":return"-224px -224px";case"settings-regular":return"-256px -224px";case"snap-to-me-click":return"-288px -224px";case"snap-to-me-hover":return"-320px -224px";case"snap-to-me-regular":return"-352px -224px";case"sort-click":return"-384px -224px";case"sort-down-hover":return"-416px -224px";case"sort-down-regular":return"-448px -224px";case"sort-hover":return"-480px -224px";case"sort-regular":return"0 -256px";case"sort-up-hover":return"-32px -256px";case"sort-up-regular":return"-64px -256px";case"uptick-regular":return"-96px -256px";case"view-click":return"-128px -256px";case"view-hover":return"-160px -256px";case"view-regular":return"-192px -256px";case"lookalike-regular":return"-224px -256px";case"lookalike-hover":return"-256px -256px";case"lookalike-click":return"-288px -256px";case"minus2-hover":return"-320px -256px";case"minus2-regular":return"-352px -256px";case"plus2-hover":return"-384px -256px";case"plus2-regular":return"-416px -256px";case"light-arrow-down-click":return"-448px -256px";case"light-arrow-down-hover":return"-480px -256px";case"light-arrow-down-regular":return"0 -288px";case"light-arrow-down2-hover":return"-32px -288px";case"light-arrow-down2-regular":return"-64px -288px";case"light-arrow-left-click":return"-96px -288px";case"light-arrow-left-hover":return"-128px -288px";case"light-arrow-left-regular":return"-160px -288px";case"light-arrow-left2-hover":return"-192px -288px";case"light-arrow-left2-regular":return"-224px -288px";case"light-arrow-right-click":return"-256px -288px";case"light-arrow-right-hover":return"-288px -288px";case"light-arrow-right-regular":return"-320px -288px";case"light-arrow-right2-hover":return"-352px -288px";case"light-arrow-right2-regular":return"-384px -288px";case"light-arrow-up-click":return"-416px -288px";case"light-arrow-up-hover":return"-448px -288px";case"light-arrow-up-regular":return"-480px -288px";case"light-arrow-up2-hover":return"0 -320px";case"light-arrow-up2-regular":return"-32px -320px";case"light-audience-click":return"-64px -320px";case"light-audience-hover":return"-96px -320px";case"light-audience-regular":return"-128px -320px";case"light-background-click":return"-160px -320px";case"light-background-hover":return"-192px -320px";case"light-background-regular":return"-224px -320px";case"light-backward-regular":return"-256px -320px";case"light-button-pause-click":return"-288px -320px";case"light-button-pause-hover":return"-320px -320px";case"light-button-pause-regular":return"-352px -320px";case"light-button-play-click":return"-384px -320px";case"light-button-play-hover":return"-416px -320px";case"light-button-play-regular":return"-448px -320px";case"light-caret-down-click":return"-480px -320px";case"light-caret-down-hover":return"0 -352px";case"light-caret-down-regular":return"-32px -352px";case"light-caret-left-click":return"-64px -352px";case"light-caret-left-hover":return"-96px -352px";case"light-caret-left-regular":return"-128px -352px";case"light-caret-right-click":return"-160px -352px";case"light-caret-right-hover":return"-192px -352px";case"light-caret-right-regular":return"-224px -352px";case"light-caret-up-click":return"-256px -352px";case"light-caret-up-hover":return"-288px -352px";case"light-caret-up-regular":return"-320px -352px";case"light-chart-click":return"-352px -352px";case"light-chart-hover":return"-384px -352px";case"light-chart-regular":return"-416px -352px";case"light-chart2-click":return"-448px -352px";case"light-chart2-hover":return"-480px -352px";case"light-chart2-regular":return"0 -384px";case"light-close-x-hover":return"-32px -384px";case"light-close-x-regular":return"-64px -384px";case"light-compare-click":return"-96px -384px";case"light-compare-hover":return"-128px -384px";case"light-compare-regular":return"-160px -384px";case"light-document-click":return"-192px -384px";case"light-document-hover":return"-224px -384px";case"light-document-regular":return"-256px -384px";case"light-download-click":return"-288px -384px";case"light-download-hover":return"-320px -384px";case"light-download-regular":return"-352px -384px";case"light-edit-click":return"-384px -384px";case"light-edit-regular":return"-416px -384px";case"light-edit-hover":return"-448px -384px";case"light-error-click":return"-480px -384px";case"light-error-hover":return"0 -416px";case"light-error-regular":return"-32px -416px";case"light-expand-hover":return"-64px -416px";case"light-expand-click":return"-96px -416px";case"light-expand-regular":return"-128px -416px";case"light-experiment-click":return"-160px -416px";case"light-experiment-hover":return"-192px -416px";case"light-experiment-regular":return"-224px -416px";case"light-fast-b-click":return"-256px -416px";case"light-fast-b-hover":return"-288px -416px";case"light-fast-b-regular":return"-320px -416px";case"light-fast-f-click":return"-352px -416px";case"light-fast-f-hover":return"-384px -416px";case"light-fast-fi-sort-regular-regular":return"-416px -416px";case"light-feedback-click":return"-448px -416px";case"light-feedback-hover":return"-480px -416px";case"light-feedback-regular":return"0 -448px";case"light-forward-regular":return"-32px -448px";case"light-hyperlink-external-click":return"-64px -448px";case"light-hyperlink-external-hover":return"-96px -448px";case"light-hyperlink-external-regular":return"-128px -448px";case"light-info-click":return"-160px -448px";case"light-info-hover":return"-192px -448px";case"light-info-regular":return"-224px -448px";case"light-kebab-hover":return"-256px -448px";case"light-kebab-regular":return"-288px -448px";case"light-list-click":return"-320px -448px";case"light-list-hover":return"-352px -448px";case"light-list-regular":return"-384px -448px";case"light-map-click":return"-416px -448px";case"light-map-hover":return"-448px -448px";case"light-map-regular":return"-480px -448px";case"light-meatball-hover":return"0 -480px";case"light-meatball-regular":return"-32px -480px";case"light-minus-hover":return"-64px -480px";case"light-minus-regular":return"-96px -480px";case"light-overview-click":return"-128px -480px";case"light-overview-hover":return"-160px -480px";case"light-overview-regular":return"-192px -480px";case"light-overview2-click":return"-224px -480px";case"light-overview2-hover":return"-256px -480px";case"light-overview2-regular":return"-288px -480px";case"light-overview3-click":return"-320px -480px";case"light-overview3-hover":return"-352px -480px";case"light-overview3-regular":return"-384px -480px";case"light-plus-hover":return"-416px -480px";case"light-plus-regular":return"-448px -480px";case"light-profile-hover":return"-480px -480px";case"light-profile-regular":return"0 -512px";case"light-search-click":return"-32px -512px";case"light-search-hover":return"-64px -512px";case"light-search-regular":return"-96px -512px";case"light-settings-click":return"-128px -512px";case"light-settings-hover":return"-160px -512px";case"light-settings-regular":return"-192px -512px";case"light-snap-to-me-click":return"-224px -512px";case"light-snap-to-me-hover":return"-256px -512px";case"light-snap-to-me-regular":return"-288px -512px";case"light-sort-down-hover":return"-320px -512px";case"light-sort-down-regular":return"-352px -512px";case"light-sort-regular":return"-384px -512px";case"light-sort-up-hover":return"-416px -512px";case"light-sort-up-regular":return"-448px -512px";case"light-sorti-sort-regular-click":return"-480px -512px";case"light-sorti-sort-regular-hover":return"0 -544px";case"light-uptick":return"-32px -544px";case"light-view-click":return"-64px -544px";case"light-view-hover":return"-96px -544px";case"light-view-regular":return"-128px -544px";case"light-lookalike-regular":return"-160px -544px";case"light-lookalike-hover":return"-192px -544px";case"light-lookalike-click":return"-224px -544px";case"light-minus2-hover":return"-256px -544px";case"light-minus2-regular":return"-288px -544px";case"light-plus2-hover":return"-320px -544px";case"light-plus2-regular":return"-352px -544px";default:return"0 0"}}),Da=X.b.div.withConfig({displayName:"AppPicker__DropdownButton",componentId:"sc-59sxqf-0"})(["display:flex;align-items:center;padding:8px 24px;border-bottom:1px solid rgba(255,255,255,0.3);text-align:left;color:#fff;> span{margin-right:4px;}> i{margin-left:auto;flex-shrink:0;transition:transform 0.15s ease;.isOpen &{transform:rotate(180deg);}}"]),qa=X.b.div.withConfig({displayName:"AppPicker__DropdownMenu",componentId:"sc-59sxqf-1"})(["padding:16px 0;border-radius:4px;width:192px;> a{display:flex;align-items:center;padding:8px 16px;text-decoration:none;font-size:14px;color:",";white-space:normal;&:hover{text-decoration:underline;}}"],ae.DARK_BLUE);function Ua(e){var t=e.apps,a=e.currentApp;return r.a.createElement(Ra,{button:r.a.createElement(Da,null,r.a.createElement("span",null,a.name),r.a.createElement(Fa,{type:"light-sort-down-regular"})),menu:r.a.createElement(qa,null,t.map(function(e){return r.a.createElement(da.b,{key:e.id,to:"/apps/".concat(e.id,"/settings")},r.a.createElement("span",null,e.name))}))})}Ua.propTypes={apps:ua.a.array.isRequired,currentApp:ua.a.object.isRequired};var Ma=Ua,Ba=X.b.div.withConfig({displayName:"Sidebar__Wrapper",componentId:"sc-138va26-0"})(["display:flex;flex-direction:column;position:fixed;top:0;bottom:0;left:0;width:240px;background-image:linear-gradient(198deg,#00113d,#0732a2);overflow:auto;"]),Ga=Object(X.b)(da.b).withConfig({displayName:"Sidebar__LogoLink",componentId:"sc-138va26-1"})(["display:flex;align-items:center;padding:16px 24px;border-bottom:solid 1px rgba(255,255,255,0.3);> img{&:first-of-type{width:40px;height:40px;margin-right:16px;}&:last-of-type{width:108px;}}"]),Ha=X.b.nav.withConfig({displayName:"Sidebar__Nav",componentId:"sc-138va26-2"})(["padding:32px 24px;+ nav{margin-top:auto;}a{text-decoration:none;color:rgba(255,255,255,0.5);transition:color 0.15s ease;&.active,&:hover{color:#fff;}}"]),za=X.b.div.withConfig({displayName:"Sidebar__Menu",componentId:"sc-138va26-3"})(["& + &{margin-top:4px;}> a{display:flex;align-items:center;font-size:16px;&.active,&:hover{i{background-color:rgba(220,220,220,0.4);svg{opacity:1;}}}i{display:flex;align-items:center;justify-content:center;margin-right:20px;width:32px;height:32px;padding:8px;background-color:transparent;border-radius:50%;transition:background-color 0.15s ease;&.places{padding:4px;}svg{display:block;width:100%;opacity:0.6;transition:opacity 0.15s ease;}}}> ul{margin:0 0 0 52px;padding:0;list-style:none;font-size:12px;li{+ li{margin-top:6px;}ul{display:none;margin-top:6px;padding-left:16px;list-style:none;}}a{position:relative;&.active:not(.hasSubMenu)::before{display:block;}&::before{content:'•';display:none;position:absolute;top:-1px;right:calc(100% + 6px);}&.active + ul{display:block;}}}"]);function Va(e){var t=e.apps,a=e.appId,o=e.accountType,i=Object(n.useMemo)(function(){return t.find(function(e){return e.id===a})||{}},[t,a]);return r.a.createElement(Ba,null,r.a.createElement(Ga,{to:"/apps"},r.a.createElement("img",{src:"/img/developers/new-dev-console/icon-foursquare-logo.png",alt:"Foursquare Logo"}),r.a.createElement("img",{src:"/img/developers/new-dev-console/icon-foursquare-developers-logo.svg",alt:"Foursquare Developers Logo"})),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,{apps:t,currentApp:i}),r.a.createElement(Ha,null,r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/settings")},r.a.createElement("i",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-general.svg"})),"General"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/settings")},"App Settings")))),r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/places/usage")},r.a.createElement("i",{className:"places"},r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-places.svg"})),"Places API"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/places/usage")},"Usage")))),r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/config")},r.a.createElement("i",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-pilgrim.svg"})),"Pilgrim SDK"),i.allowPilgrimSdk&&r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active hasSubMenu",to:"/apps/".concat(a,"/pilgrim/config")},"Configuration"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(da.c,{exact:!0,activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/config")},"Visits")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/config/geofences")},"Geofences")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/config/integrations")},"Integrations")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/config/webhook")},"Webhooks")))),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/events")},"Event Logs")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/gdpr")},"Delete Ids")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps/".concat(a,"/pilgrim/usage")},"Usage")))))):r.a.createElement(Ha,null,r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/apps"},r.a.createElement("i",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-my-apps.svg"})),"My Apps")),r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/account/profile"},r.a.createElement("i",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-account.svg"})),"Account"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(da.c,{exact:!0,activeClassName:"active",to:"/account/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/account/billing"},"Manage Billing")),"startup"===o&&r.a.createElement("li",null,r.a.createElement(da.c,{activeClassName:"active",to:"/account/credits"},"Manage Credits"))))),r.a.createElement(Ha,null,r.a.createElement(za,null,r.a.createElement(da.c,{activeClassName:"active",to:"/feedback"},r.a.createElement("i",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-feedback.svg"})),"Feedback"))))}Va.propTypes={apps:ua.a.array,appId:ua.a.string,accountType:ua.a.string},Va.defaultProps={apps:[],appId:null,accountType:null};var Wa=Object(pa.h)(Object(o.b)(function(e,t){var a=e.apps,n=t.location,r=Object(pa.g)(n.pathname,{path:"/apps/:id"});return{appId:Je()(r,"params.id"),apps:Object.values(a.byId),accountType:a.accountType}})(Va)),Ka=a(7),Ya=a.n(Ka),Qa=X.b.div.withConfig({displayName:"PageLoader__Wrapper",componentId:"sc-18tu169-0"})(["align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:center;","{width:30px;height:30px;}"],xa);var $a=function(){return r.a.createElement(Qa,null,r.a.createElement(xa,null))},Za=X.b.table.withConfig({displayName:"AppsTable__Table",componentId:"h0s3b9-0"})(["margin-top:24px;width:100%;border-collapse:separate;border-spacing:0 16px;text-align:left;table-layout:fixed;min-width:800px;th{opacity:0.6;}th,td{padding:0 22px;&:first-child{padding-left:48px;}&:nth-child(2){white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}+ button{margin-top:0;}"]),Ja=X.b.tr.withConfig({displayName:"AppsTable__Row",componentId:"h0s3b9-1"})(["margin-bottom:16px;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);border-radius:4px;background-color:#fff;transition:background-color 0.2s;cursor:pointer;&:hover{background:",";}"],ae.LIGHT_GREY);function Xa(e){var t=e.history,a=e.apps;return Ya()(a)?null:r.a.createElement(Za,null,r.a.createElement("colgroup",null,r.a.createElement("col",{width:"25%"}),r.a.createElement("col",{width:"45%"}),r.a.createElement("col",{width:"15%"}),r.a.createElement("col",{width:"15%"})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Client ID"),r.a.createElement("th",null,"Pilgrim SDK"),r.a.createElement("th",null,"Places API"))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement(Ja,{key:e.id,onClick:function(){return t.push("/apps/".concat(e.id,"/settings"))}},r.a.createElement("td",{height:"60"},e.name),r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.allowPilgrimSdk?"Enabled":"Disabled"),r.a.createElement("td",null,"Enabled"))})))}Xa.propTypes={history:ua.a.object.isRequired,apps:ua.a.array.isRequired};var en=Object(pa.h)(Xa),tn=a(397),an=a(25),nn=a.n(an),rn=X.b.div.withConfig({displayName:"TextField__Wrapper",componentId:"fhno2i-0"})(["margin-bottom:24px;> label{display:block;margin:0 0 8px;font-size:14px;text-transform:uppercase;color:",";cursor:pointer;}> input,> textarea{padding:8px 16px;width:100%;background-color:",";border:0;border-bottom:1px solid ",";border-radius:4px;outline:none;transition:all 200ms;color:",";&:active,&:focus{border-bottom:1px solid ",";}::placeholder{font-family:",";color:rgba(0,17,61,0.3);}&.hasError{background-color:",";border-bottom:1px solid ",";}}"],ae.DARK_BLUE_55,ae.LIGHT_GREY,ae.LIGHT_GREY,ae.DARK_BLUE,ae.BLUE,te.BROWN_PRO_REGULAR,ae.ERROR_RED_10,ae.ERROR_RED),on=X.b.div.withConfig({displayName:"TextField__HelpText",componentId:"fhno2i-1"})(["display:flex;align-items:center;margin-top:5px;font-size:12px;color:",";a{margin-left:4px;line-height:1;}"],ae.DARK_BLUE_55),ln=X.b.div.withConfig({displayName:"TextField__Error",componentId:"fhno2i-2"})(["display:flex;align-items:center;margin:8px 0 0 16px;line-height:1;font-size:12px;color:",";> img{width:12px;height:12px;margin-right:12px;}"],ae.ERROR_RED);function sn(e){var t=e.className,a=e.multiline,o=e.required,i=e.type,l=e.label,s=e.helpText,c=e.error,u=We()(e,["className","multiline","required","type","label","helpText","error"]),p=Object(n.useRef)(null);return r.a.createElement(rn,{className:t},l&&r.a.createElement("label",{onClick:function(){p.current.focus()}},l,o&&r.a.createElement("i",null,"*")),a?r.a.createElement("textarea",va()({ref:p,className:Ea()({hasError:c}),required:o},u)):r.a.createElement("input",va()({ref:p,className:Ea()({hasError:c}),type:i,required:o},u)),s&&r.a.createElement(on,null,s),c&&r.a.createElement(ln,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/error.png",alt:"error"}),c))}sn.propTypes={className:ua.a.string,multiline:ua.a.bool,required:ua.a.bool,type:ua.a.string,label:ua.a.string,helpText:ua.a.node,error:ua.a.string},sn.defaultProps={className:"",multiline:!1,required:!1,type:"text",label:null,helpText:null,error:null};var cn=sn;function un(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(n.useState)(t),r=E()(a,2),o=r[0],i=r[1],l=Object(n.useState)(null),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useState)(null),d=E()(p,2),m=d[0],g=d[1],h=Object(n.useCallback)(function(){g(null),i(!0),e().then(function(e){u(e),i(!1)}).catch(function(e){g(e),i(!1)})},[e]);return Object(n.useEffect)(function(){t&&h()},[h,t]),[o,c,m,h]}var pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.useReducer)(function(e,t){return g()({},e,t)},e)},dn=X.b.div.withConfig({displayName:"CreateAppModal__ModalContent",componentId:"sc-112zamn-0"})(["box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);background-color:",";padding:24px 48px;"],ae.WHITE),mn=X.b.div.withConfig({displayName:"CreateAppModal__Buttons",componentId:"sc-112zamn-1"})(["display:flex;margin-top:27px;button + button{margin-left:40px;}"]),gn=X.b.div.withConfig({displayName:"CreateAppModal__Error",componentId:"sc-112zamn-2"})(["display:flex;align-items:center;margin:8px 0 0 16px;font-size:12px;color:",";> img{width:12px;height:12px;margin-right:12px;}"],ae.ERROR_RED);function hn(e){var t=e.history,a=e.isOpen,o=e.onRequestClose,i=e.csrfToken,l=pn({appName:"",appUrl:"",reCaptcha:""}),s=E()(l,2),c=s[0],u=s[1],p=pn({}),d=E()(p,2),m=d[0],h=d[1],f={appName:"",appUrl:"",reCaptcha:""},b=c.appName,v=c.appUrl,y=c.reCaptcha,x=Object(n.useRef)(null),w={name:b,applicationUri:v,"g-recaptcha-response":y,code:i},C=un(function(){return tt.createNewApp(w)},!1),I=E()(C,4),k=I[0],S=I[1],R=I[2],T=I[3];Object(n.useEffect)(function(){if(R)return x.current.reset(),u({reCaptcha:""}),void me.error(R.message);S&&(me.success("app successfully created."),o(),t.push("apps/".concat(S.app.id)))},[R,S]);var O=Object(n.useCallback)(function(e){e&&u({reCaptcha:e})},[]),L=Object(n.useCallback)(function(e){return u({appName:e.target.value})},[]),_=Object(n.useCallback)(function(e){return u({appUrl:e.target.value})},[]);return r.a.createElement(Na,{isOpen:a,contentLabel:"Create a new app",title:"Create a new app",showCloseButton:!1,shouldCloseOnOverlayClick:!1,onRequestClose:o},r.a.createElement(dn,null,r.a.createElement(cn,{label:"APP NAME",placeholder:"Your App Name",onChange:L,error:m.appName}),r.a.createElement(cn,{label:"APP OR COMPANY URL",placeholder:"https://www.yourappname.com",onChange:_,error:m.appUrl}),r.a.createElement(tn.a,{ref:x,sitekey:"6Ld7JBcUAAAAABp57KQtu0eJ8LUD3ZWJgKOFBPsE",onChange:O}),m.reCaptcha&&r.a.createElement(gn,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/error.png",alt:"error"}),m.reCaptcha),r.a.createElement(mn,null,r.a.createElement(Ia,{onClick:function(){var e;e=g()({},f),Ya()(b)&&(e.appName="Missing app name"),Ya()(v)?e.appUrl="Missing application url":v.match(/(http(s)?)/g)||(e.appUrl='Url must begin with "http(s)"'),Ya()(y)&&(e.reCaptcha="Please verify"),h(e),nn()(e,f)&&T(w)},isLoading:k},"Next"),r.a.createElement(Ia,{text:!0,onClick:function(){h(f),o()}},"Cancel"))))}hn.propTypes={history:ua.a.object.isRequired,isOpen:ua.a.bool.isRequired,onRequestClose:ua.a.func.isRequired,csrfToken:ua.a.string},hn.defaultProps={csrfToken:null};var fn=X.b.button.withConfig({displayName:"MyAppsPage__CreateAppModalButton",componentId:"sc-150wwci-0"})(["display:flex;align-items:center;width:100%;margin-top:48px;padding:19px 48px;box-shadow:2px 4px 12px 0 rgba(0,0,0,0.1);background-color:#fff;appearance:none;border:0;border-radius:4px;text-align:left;color:",";outline:none;cursor:pointer;transition:background-color 0.2s;:hover{background:",";}i{display:flex;align-items:center;justify-content:center;margin-right:20px;width:22px;height:22px;border-radius:50%;border:2px solid ",";font-style:normal;}"],ae.BLUE,ae.LIGHT_GREY,ae.BLUE);function bn(e){var t=e.history,a=e.apps,o=e.isFetching,i=e.accountType,l=e.csrfToken,s=Object(n.useState)(!1),c=E()(s,2),u=c[0],p=c[1];return o?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Apps"),r.a.createElement(en,{apps:a}),(Ya()(a)||["startup","enterprise","enterpriseTrial"].includes(i))&&r.a.createElement(fn,{onClick:function(){return p(!0)}},r.a.createElement("i",null,"+")," Create New App"),r.a.createElement(hn,{history:t,csrfToken:l,accountType:i,isOpen:u,onRequestClose:function(){p(!1)}}))}bn.propTypes={history:ua.a.object.isRequired,isFetching:ua.a.bool,apps:ua.a.array,accountType:ua.a.string,csrfToken:ua.a.string},bn.defaultProps={isFetching:!1,apps:[],accountType:null,csrfToken:null};var vn=Object(o.b)(function(e){var t=e.apps;return{isFetching:t.isFetching,apps:Object.values(t.byId),accountType:t.accountType,csrfToken:t.csrfToken}})(bn),yn=a(387),En=a.n(yn),xn=X.b.div.withConfig({displayName:"Tile__Wrapper",componentId:"cs4v9r-0"})(["position:relative;margin-top:48px;& h2{margin:0;font-size:32px;}p{font-size:14px;}h6{display:block;margin:0 0 8px;text-transform:uppercase;font-size:14px;color:",";}p{margin:0 0 20px;}a{font-family:",";color:",";}hr{border:1px solid #efeff4;margin:36px 0;}"],ae.DARK_BLUE_55,te.BROWN_PRO_BOLD,ae.BLUE),wn=X.b.div.withConfig({displayName:"Tile__Header",componentId:"cs4v9r-1"})(["display:flex;align-items:center;&:not(:empty){margin:0 0 20px;}h3{margin:0 16px 0 0;padding-left:48px;text-transform:uppercase;opacity:0.55;font-size:16px;}"]),Cn=X.b.div.withConfig({displayName:"Tile__InnerWrapper",componentId:"cs4v9r-2"})(["background-color:",";border-radius:4px;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);"],function(e){return e.backgroundColor}),In=X.b.div.withConfig({displayName:"Tile__Content",componentId:"cs4v9r-3"})(["padding:24px 48px;transition:background-color 0.15s;&.noPadding{padding:0;}&.clickable{cursor:pointer;&:hover{background-color:",";}}"],ae.LIGHT_GREY),kn=X.b.div.withConfig({displayName:"Tile__Buttons",componentId:"cs4v9r-4"})(["position:relative;padding:16px 48px;background-color:",";border-bottom-left-radius:4px;border-bottom-right-radius:4px;",""],ae.LIGHT_GREY,function(e){return e.buttonsOnRight?"\n        display: flex;\n        flex-direction: row-reverse;\n        text-align: right;\n        button {\n          margin-left: 20px;\n        }\n      ":"\n      button {\n        margin-right: 20px;\n      }\n    "}),Sn=0;function Rn(e){var t=e.className,a=e.noPadding,n=e.title,o=e.tooltip,i=e.caption,l=e.children,s=e.hasChanges,c=e.disableSaveButton,u=e.saveBtnText,p=e.cancelBtnText,d=e.isSaving,m=e.onSave,g=e.onCancel,h=e.onClick,f=e.backgroundColor,b=e.buttonsOnRight;return r.a.createElement(xn,{className:t},r.a.createElement(wn,null,n&&r.a.createElement("h3",null,n),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/icon-info.svg",alt:"","data-tip":!0,"data-for":"tooltip-".concat(Sn)}),r.a.createElement(En.a,{id:"tooltip-".concat(Sn++),effect:"solid"},o))),i,r.a.createElement(Cn,{backgroundColor:f},r.a.createElement(In,{className:Ea()({noPadding:a,clickable:!!h}),onClick:h},l),s&&r.a.createElement(kn,{buttonsOnRight:b},r.a.createElement(Ia,{isLoading:d,onClick:m,disabled:c},u),r.a.createElement(Ia,{text:!0,disabled:d,onClick:g},p))))}Rn.propTypes={children:ua.a.node.isRequired,onClick:ua.a.func,className:ua.a.string,title:ua.a.node,tooltip:ua.a.node,caption:ua.a.node,hasChanges:ua.a.bool,disableSaveButton:ua.a.bool,noPadding:ua.a.bool,saveBtnText:ua.a.string,cancelBtnText:ua.a.string,isSaving:ua.a.bool,onSave:ua.a.func,onCancel:ua.a.func,backgroundColor:ua.a.string,buttonsOnRight:ua.a.bool},Rn.defaultProps={onClick:null,className:null,title:null,tooltip:null,caption:null,hasChanges:!1,disableSaveButton:!1,noPadding:!1,saveBtnText:"Save",cancelBtnText:"Cancel",isSaving:!1,onSave:null,onCancel:null,backgroundColor:"#fff",buttonsOnRight:!1};var Tn=Rn;function On(e){var t=e.dispatch,a=e.app,o=a.id,i=a.secret,l=a.pushSecret,s=Object(n.useCallback)(function(){t(vt(o))},[]);return r.a.createElement(Tn,{title:"ID & Secret"},r.a.createElement("h6",null,"Client Id"),r.a.createElement("p",null,o),r.a.createElement("h6",null,"Client Secret"),r.a.createElement("p",null,i),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",null,"Push Secret"),r.a.createElement("p",null,l)),r.a.createElement(Ia,{text:!0,onClick:s},"Reset Client Secret"))}On.propTypes={dispatch:ua.a.func.isRequired,app:ua.a.object.isRequired};var Ln=On;function _n(e){var t=e.when,a=e.message;return Object(n.useEffect)(function(){var e=function(e){return e.preventDefault(),e.returnValue=a,a};return t&&window.addEventListener("beforeunload",e),function(){t&&window.removeEventListener("beforeunload",e)}},[t,a]),r.a.createElement(pa.a,{when:t,message:a})}_n.propTypes={when:ua.a.bool.isRequired,message:ua.a.string},_n.defaultProps={message:"If you leave this page, you will be abandoning unsaved changes."};var An=_n;function Pn(e){var t=e.dispatch,a=e.app,o=Object(n.useMemo)(function(){return{name:a.name,tagline:a.tagline,description:a.description}},[a]),i=pn(o),l=E()(i,2),s=l[0],c=l[1],u=Object(n.useState)(!1),p=E()(u,2),d=p[0],m=p[1];Object(n.useEffect)(function(){return c(o)},[o]);var g=Object(n.useCallback)(function(){return c(o)},[o]),h=!nn()(s,o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:h}),r.a.createElement(Tn,{title:"App Info",hasChanges:h,isSaving:d,onCancel:g,onSave:function(){m(!0),t(ft(a.id,s)).finally(function(){return m(!1)})}},r.a.createElement(cn,{label:"Short Tagline",value:s.tagline,onChange:function(e){return c({tagline:e.target.value})},"aria-label":"Short Tagline"}),r.a.createElement(cn,{multiline:!0,label:"Detailed description",value:s.description,onChange:function(e){return c({description:e.target.value})},"aria-label":"Detailed Description"})))}Pn.propTypes={dispatch:ua.a.func.isRequired,app:ua.a.object.isRequired};var Nn=Pn,jn=a(72),Fn=a(193),Dn=a.n(Fn),qn=X.b.div.withConfig({displayName:"SelectField__Wrapper",componentId:"dxc74e-0"})(["margin-bottom:24px;> label{display:block;margin:0 0 8px;font-size:14px;text-transform:uppercase;color:",";}"],ae.DARK_BLUE_55),Un=X.b.div.withConfig({displayName:"SelectField__HelpText",componentId:"dxc74e-1"})(["display:flex;align-items:center;margin-top:5px;font-size:12px;color:",";a{margin-left:4px;line-height:1;}"],ae.DARK_BLUE_55),Mn=X.b.div.withConfig({displayName:"SelectField__Error",componentId:"dxc74e-2"})(["display:flex;align-content:center;margin:8px 0 0 16px;line-height:1;font-size:12px;color:",";> img{width:12px;height:12px;margin-right:12px;}"],ae.ERROR_RED);function Bn(e){var t=e.className,a=e.required,n=e.helpText,o=e.label,i=e.error,l=e.isCreatable,s=We()(e,["className","required","helpText","label","error","isCreatable"]),c=jn.a;return l&&(c=Dn.a),r.a.createElement(qn,{className:t},o&&r.a.createElement("label",null,o," ",a&&r.a.createElement("i",null,"*")),r.a.createElement(c,va()({className:Ea()({hasError:i}),styles:pe,instanceId:o.replace(/\s/g,"")},s)),n&&r.a.createElement(Un,null,n),i&&r.a.createElement(Mn,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/error.png",alt:"error"}),i))}Bn.propTypes={className:ua.a.string,label:ua.a.string,helpText:ua.a.node,error:ua.a.string,isCreatable:ua.a.bool,required:ua.a.bool},Bn.defaultProps={className:"",label:"",helpText:null,error:null,isCreatable:!1,required:!1};var Gn=Bn,Hn=function(e){return e?/^https?:\/\//.test(e)?e:"https://".concat(e):""};function zn(e){var t=e.dispatch,a=e.app,o=Object(n.useMemo)(function(){return{applicationUri:a.applicationUri||"",privacyPolicyUri:a.privacyPolicyUri||"",callbackUris:a.callbackUris||[]}},[a]),i={applicationUri:""},l=pn(o),s=E()(l,2),c=s[0],u=s[1],p=pn(i),d=E()(p,2),m=d[0],g=d[1],h=Object(n.useState)(!1),f=E()(h,2),b=f[0],v=f[1];Object(n.useEffect)(function(){return u(o)},[o]);var y=Object(n.useCallback)(function(e){return u({applicationUri:e.target.value})},[]),x=Object(n.useCallback)(function(e){return u({privacyPolicyUri:e.target.value})},[]),w=Object(n.useCallback)(function(e){u({callbackUris:e.map(function(e){return e.value})})},[]),C=Object(n.useCallback)(function(){g(i),u(o)},[o]),I=!nn()(c,o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:I}),r.a.createElement(Tn,{title:"Web addresses",hasChanges:I,isSaving:b,onSave:function(){var e;e=c.applicationUri,g(i),(e||(g({applicationUri:"An address is required here."}),0))&&(v(!0),t(ft(a.id,{applicationUri:c.applicationUri,privacyPolicyUri:c.privacyPolicyUri,callbackUri:c.callbackUris})).finally(function(){return v(!1)}))},onCancel:C},r.a.createElement(cn,{required:!0,label:"Application URL",placeholder:"https://www.yourapp.com/",error:m.applicationUri,value:c.applicationUri,onBlur:function(){var e=Hn(c.applicationUri);u({applicationUri:e})},onChange:y,"aria-label":"Application URL"}),r.a.createElement(cn,{label:"Privacy Policy URL",placeholder:"https://www.yourapp.com/privacy",value:c.privacyPolicyUri,onBlur:function(){var e=Hn(c.privacyPolicyUri);u({privacyPolicyUri:e})},onChange:x,"aria-label":"Privacy Policy URL"}),r.a.createElement(Gn,{isCreatable:!0,isMulti:!0,label:"Redirect URL",placeholder:"https://www.yourapp.com/redirect_uri",components:{DropdownIndicator:null},formatCreateLabel:function(e){return'Add "'.concat(e,'"')},isValidNewOption:function(e,t){return e&&t.every(function(t){return t.value!==e})},value:c.callbackUris.map(function(e){return{label:e,value:e}}),onChange:w,"aria-label":"Redirect URL"})))}zn.propTypes={dispatch:ua.a.func.isRequired,app:ua.a.object.isRequired};var Vn=zn,Wn=Object(X.b)(Ia).withConfig({displayName:"PushAPITile__OpenPushConsoleButton",componentId:"d7hs00-0"})(["position:absolute;top:6px;right:48px;"]),Kn=function(e){return/^https?:\/\//.test(e)?e:"https://".concat(e)},Yn=[{label:"Disable pushes to this app",value:"none"},{label:"Push checkins by this app's users",value:"user"},{label:"Push checkins at venues managed by this app's users",value:"venue"}],Qn={user:!1,venue:!1,version:""};function $n(e){var t=e.dispatch,a=e.app,o=e.history,i=Object(n.useMemo)(function(){var e=a.pushApi,t=void 0===e?Qn:e,n=a.pushUri,r=void 0===n?"":n,o=Yn[0];return t.user&&(o=Yn[1]),t.venue&&(o=Yn[2]),{pushStateOption:o,pushUri:r,pushVersion:t.version}},[a]),l=pn(i),s=E()(l,2),c=s[0],u=s[1];Object(n.useEffect)(function(){return u(i)},[i]);var p=Object(n.useCallback)(function(e){return u({pushStateOption:e})},[]),d=Object(n.useCallback)(function(e){return u({pushUri:e.target.value})},[]),m=Object(n.useCallback)(function(e){return u({pushVersion:e.target.value})},[]),g=Object(n.useCallback)(function(){return u(i)},[]),h=!nn()(c,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:h}),r.a.createElement(Tn,{title:"Push API",hasChanges:h,onCancel:g,onSave:function(){var e=c.pushStateOption.value;t(ft(a.id,{pushUri:"none"===e?"":c.pushUri,pushVersion:"none"===e?"":c.pushVersion,pushState:e}))}},!nn()(i.pushStateOption.value,"none")&&r.a.createElement(Wn,{text:!0,onClick:function(){return o.push("/apps/".concat(a.id,"/push"))}},"Open Push Console"),r.a.createElement(Gn,{label:"Push Notifications",options:Yn,value:c.pushStateOption,onChange:p,"aria-label":"Push Notifications"}),"none"!==c.pushStateOption.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement(cn,{label:"Push URL",placeholder:"https://www.yourapp.com/handle_push",value:c.pushUri,onBlur:function(){return u({pushUri:Kn(c.pushUri)})},onChange:d,"aria-label":"Push URL"}),r.a.createElement(cn,{label:"Push Version",value:c.pushVersion,placeholder:"YYYYMMDD",helpText:"Setting this will lock the api version used to generate the JSON pushed to your consumer.",onChange:m,"aria-label":"Push Version"}))))}$n.propTypes={dispatch:ua.a.func.isRequired,app:ua.a.object.isRequired,history:ua.a.object.isRequired};var Zn=Object(pa.h)($n),Jn=new RegExp("^[0-9a-fA-F]{24}$");function Xn(e){return 24===e.length&&Jn.test(e)}new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$");function er(e){var t=e.dispatch,a=e.app,o=Object(n.useMemo)(function(){var e=a.installIds,t=void 0===e?{}:e,n=a.iosBundleIds,r=void 0===n?[]:n,o=a.androidKeyHashes,i=void 0===o?[]:o;return{iosId:t.iphone,androidId:t.android,iosBundleIds:r,androidKeyHashes:i}},[a]),i=pn(o),l=E()(i,2),s=l[0],c=l[1],u=Object(n.useState)(!1),p=E()(u,2),d=p[0],m=p[1];Object(n.useEffect)(function(){return c(o)},[o]);var g=Object(n.useCallback)(function(e){return c({iosId:e.target.value})},[]),h=Object(n.useCallback)(function(e){return c({androidId:e.target.value})},[]),f=Object(n.useCallback)(function(e){c({iosBundleIds:e.map(function(e){return e.value})})},[]),b=Object(n.useCallback)(function(e){c({androidKeyHashes:e.map(function(e){return e.value})})},[]),v=Object(n.useCallback)(function(){return c(o)},[o]),y=!nn()(s,o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:y}),r.a.createElement(Tn,{title:"Install options",hasChanges:y,isSaving:d,onCancel:v,onSave:function(){m(!0),t(ft(a.id,{iosId:s.iosId,androidId:s.androidId,iosBundleIds:s.iosBundleIds,androidKeyHashes:s.androidKeyHashes})).finally(function(){return m(!1)})}},r.a.createElement(cn,{label:"iOS App Store ID",helpText:"e.g., http://itunes.apple.com/us/app/foursquare/id306934924",value:s.iosId,onChange:g,"aria-label":"iOS App Store ID"}),r.a.createElement(cn,{label:"Android Play Store ID",helpText:"e.g., https://play.google.com/store/apps/details?id=com.joelapenna.foursquared",value:s.androidId,onChange:h,"aria-label":"Android Play Store ID"}),r.a.createElement(Gn,{isCreatable:!0,isMulti:!0,label:"iOS Bundle IDs",placeholder:"",components:{DropdownIndicator:null},helpText:" Enter as many as you'd like; e.g., com.foursquare.dev.mySuperCoolApp,com.foursquare.production.mySuperCoolApp ",formatCreateLabel:function(e){return'Add "'.concat(e,'"')},value:s.iosBundleIds.map(function(e){return{label:e,value:e}}),onChange:f,"aria-label":"iOS Bundle IDs"}),r.a.createElement(Gn,{isCreatable:!0,isMulti:!0,label:"Android Key Hashes",placeholder:"",components:{DropdownIndicator:null},helpText:r.a.createElement(r.a.Fragment,null,"Enter as many as you'd like; e.g., B4:9E:2F:FA:5A:B2:A3:79:3D:D1:95:41:8C:3B:F8:DA:71:40:DA:3E, 24:7F:3A:BF:68:93:9A:E2:BA:B9:C9:BE:1A:BD:39:1B:90:AE:31:5F",r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/android/key-hash-setup",target:"_blank",rel:"noopener noreferrer"},"More Info")),formatCreateLabel:function(e){return'Add "'.concat(e,'"')},isValidNewOption:function(e){return e&&(t=e,new RegExp("^[0-9A-F]{2}(:[0-9A-F]{2}){19}$").test(t));var t},value:s.androidKeyHashes.map(function(e){return{label:e,value:e}}),onChange:b,"aria-label":"Android Key Hashes"})))}er.propTypes={dispatch:ua.a.func.isRequired,app:ua.a.object.isRequired};var tr=er,ar=X.b.div.withConfig({displayName:"RequestSubmittedModal__ModalContent",componentId:"g8b9j4-0"})(["display:flex;align-items:flex-start;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);background-color:",";padding:24px 48px 40px 48px;> img{margin-top:16px;margin-right:48px;}a{display:block;margin-bottom:8px;}button{display:block;margin-top:24px;}h2{font-size:32px;margin:0;}h3{font-size:16px;}"],ae.WHITE);function nr(e){var t=e.isOpen,a=e.onRequestClose,o=Object(n.useCallback)(function(){return r.a.createElement(ar,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/introduction-logo.svg",alt:"logo"}),r.a.createElement("div",null,r.a.createElement("h3",null,"THANKS!"),r.a.createElement("h2",null,"Your request has been submitted."),r.a.createElement("p",null,"We will review your application and get back to you as soon as possible. "),r.a.createElement(Ia,{onClick:a},"Dismiss")))},[a]);return r.a.createElement(Na,{isOpen:t,contentLabel:"Free Tier for the Pilgrim SDK",showCloseButton:!1,onRequestClose:a},o())}nr.propTypes={isOpen:ua.a.bool.isRequired,onRequestClose:ua.a.func.isRequired};var rr=Object(pa.h)(nr);function or(e){var t,a=e.history,n=e.appId;return t="Pending"===e.status?r.a.createElement("div",null,r.a.createElement("p",null,"Your request for Pilgrim SDK access has been received. Someone will get back to you shortly.")):r.a.createElement("div",null,r.a.createElement("p",null,"The Pilgrim SDK is currently disabled in this app. Request access below:"),r.a.createElement(Ia,{text:!0,onClick:function(){return a.push("/apps/".concat(n,"/pilgrim/request"))}},"Request Access")),r.a.createElement(Tn,{title:"PILGRIM SDK ACCESS"},t)}or.propTypes={history:ua.a.object.isRequired,appId:ua.a.string,status:ua.a.string},or.defaultProps={appId:null,status:null};var ir=Object(pa.h)(or);function lr(e){var t=e.dispatch,a=e.appId,o=Object(n.useState)(!1),i=E()(o,2),l=i[0],s=i[1];return r.a.createElement(Tn,{title:"delete this app"},r.a.createElement("p",null,"Deleting apps is an irreversible action. Upon pressing delete you will receive a final prompt before permanently deleting this app."),r.a.createElement(Ia,{text:!0,onClick:function(){window.confirm("Are you sure you want to delete this app? This will also permanently delete all the existing user tokens associated with this app.")&&(s(!0),t(bt(a)).then(function(e){e.deleted&&(window.location.href="/developers/apps")}).finally(function(){return s(!1)}))},isLoading:l},"Delete this app"))}lr.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired};var sr=lr;function cr(e){var t=e.dispatch,a=e.isFetching,o=e.isSaving,i=e.appId,l=e.app,s=e.location,c=e.history,u=Object(n.useState)("?requestSubmitted=true"===s.search),p=E()(u,2),d=p[0],m=p[1];if(Object(n.useEffect)(function(){Ya()(l)&&t(ht(i))},[i]),a||Ya()(l))return r.a.createElement($a,null);if(!l.id)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"App Settings"),r.a.createElement(Ln,{dispatch:t,app:l}),r.a.createElement(Nn,{dispatch:t,app:l,isSaving:o}),r.a.createElement(Vn,{dispatch:t,app:l,isSaving:o}),r.a.createElement(Zn,{dispatch:t,app:l,isSaving:o}),r.a.createElement(tr,{dispatch:t,app:l,isSaving:o}),!l.allowPilgrimSdk&&!["Approved","Banned"].includes(l.freeTierApplicationStatus)&&r.a.createElement(ir,{appId:l.id,status:l.freeTierApplicationStatus}),r.a.createElement(sr,{dispatch:t,appId:l.id,isDeleting:o}),r.a.createElement(rr,{isOpen:d,onRequestClose:function(){c.push("/apps/".concat(l.id,"/settings")),m(!1)}}))}cr.propTypes={dispatch:ua.a.func.isRequired,location:ua.a.object.isRequired,history:ua.a.object.isRequired,isFetching:ua.a.bool.isRequired,isSaving:ua.a.bool.isRequired,appId:ua.a.string.isRequired,app:ua.a.object},cr.defaultProps={app:null};var ur=Object(pa.h)(Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id;return{appId:n,app:a.byId[n],isFetching:Je()(a,"byId[".concat(n,"].isFetching"),!1),isSaving:Je()(a,"byId[".concat(n,"].isSaving"),!1)}})(cr));function pr(){return q("v2/users/self")}var dr=X.b.div.withConfig({displayName:"UserInfoTile__Row",componentId:"sc-1dthey7-0"})(["display:flex;justify-content:space-between;> div{width:49%;}"]);var mr=function(){var e=pn({}),t=E()(e,2),a=t[0],o=t[1],i=pn({}),l=E()(i,2),s=l[0],c=l[1],u=pn({}),p=E()(u,2),d=p[0],m=p[1],h={firstName:"",email:"",phone:""},f=un(pr),b=E()(f,3),v=b[0],y=b[1],x=b[2],w=un(function(){return M("v2/users/self/update",s)},!1),C=E()(w,4),I=C[0],k=C[1],S=C[2],R=C[3],T=Object(n.useCallback)(function(e){var t={firstName:e.user.firstName,lastName:e.user.lastName,email:e.user.contact.email,phone:e.user.contact.phone,homeTown:e.user.homeCity,gender:e.user.gender,bio:e.user.bio};c(t),o(t)},[]);Object(n.useEffect)(function(){x?me.error(x.message):y&&T(y)},[x,y,T]),Object(n.useEffect)(function(){S?me.error(S.message):k&&(T(k),me.success())},[S,T,k]);var O=!nn()(s,a),L=Object(n.useCallback)(function(){c(a),m(h)},[a]),_=Object(n.useCallback)(function(){var e;e=g()({},h),Ya()(s.firstName)&&(e.firstName="Please enter your first name."),s.phone&&!s.phone.match(/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/g)&&(e.phone="Hm, that number doesn’t look right. Check for typos"),Ya()(s.email)?e.email="Please enter your email":s.email.match(/\b[\w\.-]+@[\w\.-]+\.\w{2,4}\b/g)||(e.email="Hm, that address is invalid. Check for typos?"),m(e),nn()(e,h)&&R()},[R]),A=Object(n.useCallback)(function(e){return c({firstName:e.target.value})}),P=Object(n.useCallback)(function(e){return c({lastName:e.target.value})}),N=Object(n.useCallback)(function(e){return c({phone:e.target.value})}),j=Object(n.useCallback)(function(e){return c({email:e.target.value})});return v?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:O}),r.a.createElement(Tn,{title:"Your Profile",hasChanges:O,onCancel:L,onSave:_,isSaving:I},r.a.createElement(dr,null,r.a.createElement(cn,{label:"First Name",value:s.firstName,onChange:A,error:d.firstName,"aria-label":"First Name"}),r.a.createElement(cn,{label:"Last Name",value:s.lastName,onChange:P,"aria-label":"Last Name"})),r.a.createElement(cn,{label:"Phone Number",value:s.phone,onChange:N,error:d.phone,"aria-label":"Phone Number"}),r.a.createElement(cn,{label:"Email",value:s.email,onChange:j,error:d.email,"aria-label":"email"})))};var gr=function(){return r.a.createElement(Tn,{title:"CHANGE PASSWORD"},r.a.createElement("a",{href:"/change_password"},"Change Password"))},hr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Profile"),r.a.createElement(mr,null),r.a.createElement(gr,null))},fr=a(395),br=X.b.ul.withConfig({displayName:"Pagination__Wrapper",componentId:"sc-1qmx4nc-0"})(["display:flex;margin:0;padding:16px 40px;border-top:1px solid #d5d9e3;list-style:none;li + li{margin-left:10px;}button{display:flex;align-items:center;justify-content:center;padding:0;height:24px;width:24px;background-color:transparent;border:none;border-radius:3px;text-decoration:underline;font-family:",";font-size:14px;color:",";cursor:pointer;outline:none;transition:background-color 0.1s ease;&:hover{background-color:#e9ecef;}&.active{background-color:",";}}"],te.BROWN_PRO_BOLD,ae.BLUE,ae.LIGHT_BLUE),vr=function(e){var t=e.page,a=e.pages,n=e.onPageChange,o=[];return t-2>0&&o.push({pageNum:0,icon:r.a.createElement(Fa,{type:"fast-b-regular"})}),t-1>=0&&o.push({pageNum:t-1,icon:r.a.createElement(Fa,{type:"backward-regular"})}),t-2>=0&&o.push({pageNum:t-2}),t-1>=0&&o.push({pageNum:t-1}),o.push({pageNum:t}),t+1<a&&o.push({pageNum:t+1}),t+2<a&&o.push({pageNum:t+2}),t+1<a&&o.push({pageNum:t+1,icon:r.a.createElement(Fa,{type:"forward-regular"})}),t+2<a-1&&o.push({pageNum:a-1,icon:r.a.createElement(Fa,{type:"fast-f-regular"})}),r.a.createElement(br,null,o.map(function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("button",{type:"button",className:Ea()({active:e.pageNum===t}),onClick:function(){return n(e.pageNum)}},e.icon||e.pageNum+1))}))};vr.propTypes={page:ua.a.number.isRequired,pages:ua.a.number.isRequired,onPageChange:ua.a.func.isRequired};var yr=vr,Er=X.b.div.withConfig({displayName:"Table__EmptyState",componentId:"lfp4q6-0"})(["position:absolute;top:42px;bottom:0px;left:0;right:0;display:flex;align-items:center;justify-content:center;background:#fff;font-size:14px;color:",";letter-spacing:0.2px;"],ae.DARK_BLUE_55),xr=Object(X.b)(fr.a).attrs(function(e){return{defaultPageSize:e.defaultPageSize||10,resizable:e.resizable||!1,sortable:e.sortable||!1,NoDataComponent:e.NoDataComponent||function(){return r.a.createElement(Er,null,e.noDataText||"No Data")},PaginationComponent:yr}}).withConfig({displayName:"Table",componentId:"lfp4q6-1"})(["&.ReactTable{border:0;border-radius:2px;&.-highlight .rt-tbody .rt-tr{cursor:pointer;&.expanded:hover{background:none;}&:not(.-padRow):not(.expanded):hover{background:",";}}.rt-thead{background-color:",";border-top-left-radius:4px;border-top-right-radius:4px;&.-header{box-shadow:none;border-bottom:1px solid #d5d9e3;}.rt-th{padding:12px 0;border-right:0;text-align:left;font-weight:700;}}.rt-tbody{.rt-tr-group{border-bottom:1px solid #d5d9e3;}.rt-td{padding:20px 0;border-right:0;white-space:normal;}}.rt-expandable i{transition:transform 0.15s ease;&.isExpanded{transform:rotate(180deg);}}}"],ae.LIGHT_GREY,ae.LIGHT_BLUE),wr=X.b.div.withConfig({displayName:"BillingSummary__BillDetail",componentId:"er8oxz-0"})(["display:flex;padding:0 0 20px 48px;> div{width:200px;}> ul{flex-grow:1;margin:0;padding:0 48px 0 0;li{display:flex;justify-content:space-between;+ li{margin-top:8px;padding-top:8px;border-top:1px solid #d5d9e3;}}}"]),Cr=[{expander:!0,Expander:function(e){var t=e.isExpanded;return r.a.createElement(Fa,{className:Ea()({isExpanded:t}),type:"sort-down-regular"})},width:48,style:{textAlign:"center"}},{Header:"Date Posted",Cell:function(e){var t=e.value;return $e.a.unix(t).format("MMM DD, YYYY")},accessor:"time",width:200},{Header:"Description",Cell:function(e){var t=e.value;return Je()(t,"details.manualAccountCharge.memo","Manual Charge")},accessor:"items[0]"},{Header:"Total Amount",Cell:function(e){var t=e.value;return"$".concat((t/100).toFixed(2))},accessor:"total.cents",width:150,headerStyle:{textAlign:"right"},style:{paddingRight:48,textAlign:"right"}}];function Ir(e){var t=e.original,a="No Cards Available";if(t.chargedProfile)a="\n      ".concat(t.chargedProfile.credit_card_brand," ending in ").concat(t.chargedProfile.last4,"\n    ");else if(t.failures.length>0){var n=t.failures[0].paymentProfile;a="".concat(n.credit_card_brand," ending in ").concat(n.last4)}return r.a.createElement(wr,null,r.a.createElement("div",null,r.a.createElement("small",null,r.a.createElement("strong",null,"Payment Method")),r.a.createElement("br",null),r.a.createElement("small",null,a)),r.a.createElement("ul",null,t.items.map(function(e,t){var a=Je()(e,"details.manualAccountCharge.memo");return a?r.a.createElement("li",{key:t},r.a.createElement("span",null,a),r.a.createElement("span",null,e.amount.display)):null}),r.a.createElement("li",null,r.a.createElement("span",null,"Total"),r.a.createElement("span",null,t.total.display))))}function kr(e){var t=e.isFetching,a=e.billingSummary,o=e.dispatch;Object(n.useEffect)(function(){Ya()(a)&&o(je())},[]);var i=Je()(a,"recentBills.length",0);return r.a.createElement(Tn,{noPadding:!0,title:"Billing Summary"},r.a.createElement(xr,{className:"-highlight",loading:t,minRows:i>0?Math.min(i,10):3,columns:Cr,data:Je()(a,"recentBills",[]),noDataText:"You have no billing transactions",showPagination:i>10,SubComponent:Ir,getTrProps:function(e,t,a,n){if(!t)return{};var r=e.expanded,o=t.nestingPath[0];return{className:r[o]?"expanded":"",onClick:function(){n.setState({expanded:g()({},r,Ye()({},o,!r[o]))})}}}}))}kr.propTypes={isFetching:ua.a.bool.isRequired,dispatch:ua.a.func.isRequired,billingSummary:ua.a.object},kr.defaultProps={billingSummary:null};var Sr=Object(o.b)(function(e){var t=e.account;return{isFetching:t.isFetching,billingSummary:t.billingSummary}})(kr),Rr=X.b.div.withConfig({displayName:"NewCardModal__FieldsRow",componentId:"wzthbi-0"})(["display:flex;justify-content:space-between;align-items:flex-end;> div{width:49%;}"]),Tr=X.b.div.withConfig({displayName:"NewCardModal__ModalContent",componentId:"wzthbi-1"})(["align-items:flex-start;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);background-color:",";padding:24px 48px 40px 48px;"],ae.WHITE),Or=X.b.div.withConfig({displayName:"NewCardModal__Buttons",componentId:"wzthbi-2"})(["display:flex;margin-top:27px;button + button{margin-left:40px;}"]),Lr=[{label:"01",value:"01"},{label:"02",value:"02"},{label:"03",value:"03"},{label:"04",value:"04"},{label:"05",value:"05"},{label:"06",value:"06"},{label:"07",value:"07"},{label:"08",value:"08"},{label:"09",value:"09"},{label:"10",value:"10"},{label:"11",value:"11"},{label:"12",value:"12"}],_r=(new Date).getFullYear(),Ar=d()(Array(12)).map(function(e,t){return{label:_r+t,value:_r+t}});function Pr(e){var t=e.dispatch,a=e.isOpen,o=e.onRequestClose,i=pn({cardNumber:"",cardExpMonth:"",cardExpYear:"",cardCVC:"",cardNumberError:"",cardExpMonthError:"",cardExpYearError:"",cardCVCError:"",isloading:!1}),l=E()(i,2),s=l[0],c=l[1],u=s.cardNumber,p=s.cardExpMonth,d=s.cardExpYear,m=s.cardCVC,g=s.cardNumberError,h=s.cardExpMonthError,f=s.cardExpYearError,b=s.cardCVCError,v=s.isLoading,y=Object(n.useCallback)(function(e){return c({cardNumber:e.target.value})},[c]),x=Object(n.useCallback)(function(e){c({cardExpMonth:e.value})},[c]),w=Object(n.useCallback)(function(e){return c({cardExpYear:e.value})},[c]),C=Object(n.useCallback)(function(e){return c({cardCVC:e.target.value})},[c]),I=Object(n.useCallback)(function(){c({cardNumberError:u?"":"required",cardExpMonthError:p?"":"required",cardExpYearError:d?"":"required",cardCVCError:m?"":"required"})},[m,p,d,u,c]);return r.a.createElement(Na,{isOpen:a,title:"Add New Card",contentLabel:"Add New Card",showCloseButton:!1,onRequestClose:o},r.a.createElement(Tr,null,r.a.createElement(cn,{label:"Card Number",value:u,error:g,onChange:y}),r.a.createElement(Rr,null,r.a.createElement(Gn,{label:"Expiration Date",options:Lr,error:h,onChange:x}),r.a.createElement(Gn,{options:Ar,error:f,onChange:w})),r.a.createElement(Rr,null,r.a.createElement(cn,{label:"Security code",type:"password",value:m,error:b,onChange:C})),r.a.createElement(Or,null,r.a.createElement(Ia,{onClick:function(){I(),u&&p&&d&&m&&(c({isLoading:!0}),Stripe.createToken({number:u,exp_month:p,exp_year:d,cvc:m},function(e,a){if(a.error)return me.error(a.error.message),void c({isLoading:!1});t(De({token:a.id,tokenType:"stripe",testMode:!a.livemode})).then(function(e){e.id&&(o(),c({isLoading:!1}))}).catch(function(){c({isLoading:!1})})}))},isLoading:v},"Save Card"),r.a.createElement(Ia,{text:!0,onClick:o},"Cancel"))))}Pr.propTypes={dispatch:ua.a.func.isRequired,isOpen:ua.a.bool.isRequired,onRequestClose:ua.a.func.isRequired};var Nr=Object(pa.h)(Pr),jr=X.b.label.withConfig({displayName:"Radio__Wrapper",componentId:"sc-1mtqtlr-0"})(["display:flex;align-items:center;margin:0;&.disabled{opacity:0.6;}&.checked{opacity:1;}input[type='radio']{position:relative;display:inline-block;margin-right:8px;width:15px;height:15px;appearance:none;outline:none;z-index:0;box-sizing:border-box;cursor:pointer;&:before{content:'';display:block;position:absolute;top:0;left:0;bottom:0;right:0;width:11px;height:11px;border-radius:50%;z-index:-2;transition:background,border 200ms;background:",";border:2px solid ",";}&:after{content:'';display:block;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;width:7px;height:7px;border-radius:50%;z-index:-1;transition:background 200ms;background:transparent;}&:focus:before,&:hover:before{border:2px solid ",";}&:checked:after{background:",";}}input[type='radio']:disabled{&:before{background:",";border:2px solid ",";}&:focus:before,&:hover:before{border:2px solid ",";}&:checked:after{background:",";}}"],ae.WHITE,ae.DARK_BLUE,ae.TURQUOISE,ae.DARK_BLUE,ae.WHITE,ae.LIGHT_GREY,ae.LIGHT_GREY,ae.DARK_BLUE);function Fr(e){var t=e.label,a=e.checked,n=e.disabled,o=We()(e,["label","checked","disabled"]);return r.a.createElement(jr,{className:Ea()({disabled:n,checked:a})},r.a.createElement("input",va()({type:"radio",checked:a,disabled:n},o)),t)}Fr.propTypes={label:ua.a.node,checked:ua.a.bool,disabled:ua.a.bool},Fr.defaultProps={checked:!1,disabled:!1,label:null};var Dr=Fr,qr=Object(X.b)(Ia).withConfig({displayName:"Cards__DeleteButton",componentId:"yez0ul-0"})(["background:none;border:0;text-decoration:underline;color:",";cursor:pointer;"],ae.BLUE),Ur=Object(X.b)(Ia).withConfig({displayName:"Cards__AddNewCardButton",componentId:"yez0ul-1"})(["position:absolute;top:6px;right:48px;"]);function Mr(e){var t=e.isFetching,a=e.cards,o=e.dispatch,i=Object(n.useState)(!1),l=E()(i,2),s=l[0],c=l[1];Object(n.useEffect)(function(){Ya()(a)&&o(Fe())},[a,o]),Object(n.useEffect)(function(){a.stripeKey&&Stripe.setPublishableKey(a.stripeKey)},[a.stripeKey]);var u=Je()(a,"profiles.length",0);return r.a.createElement(Tn,{noPadding:!0,title:"Credit Cards"},a.profiles&&a.profiles.length<5&&r.a.createElement(Ur,{text:!0,onClick:function(){return c(!0)}},"Add New Card"),r.a.createElement(xr,{loading:t,minRows:u>0?u:3,noDataText:"You have no credit cards on file",showPagination:!1,columns:[{width:48},{Header:"Primary",accessor:"id",Cell:function(e){var t=e.original;return r.a.createElement(Dr,{name:"defaultCard",checked:t.isDefault,onChange:function(){o(Ue(t.id))}})},width:100},{Header:"Card Number",accessor:"title"},{Header:"Expiration",Cell:function(e){var t=e.original;return t.isExpired?"Expired":"".concat(t.expiration_month,"/").concat(t.expiration_year)}},{Cell:function(e){var t=e.original;return r.a.createElement(qr,{text:!0,onClick:function(){return o(qe(t.id))}},"Delete")},width:150,headerStyle:{textAlign:"right"},style:{paddingRight:48,textAlign:"right"}}],data:a.profiles}),r.a.createElement(Nr,{isOpen:s,onRequestClose:function(){c(!1)},dispatch:o}))}Mr.propTypes={isFetching:ua.a.bool.isRequired,dispatch:ua.a.func.isRequired,cards:ua.a.object},Mr.defaultProps={cards:null};var Br=Object(o.b)(function(e){var t=e.account;return{isFetching:t.isFetching,cards:t.cards}})(Mr),Gr=X.b.div.withConfig({displayName:"AccountTier__Buttons",componentId:"vp4pbo-0"})(["display:flex;margin-top:27px;button + button{margin-left:40px;}"]),Hr=X.b.div.withConfig({displayName:"AccountTier__PaymentFailedText",componentId:"vp4pbo-1"})(["display:flex;color:",";img{width:12px;height:12px;margin-right:12px;}"],ae.ERROR_RED),zr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your current account tier is ",r.a.createElement("strong",null,"Sandbox"),":"),r.a.createElement("ul",null,r.a.createElement("li",null,"950 Regular Calls/Day"),r.a.createElement("li",null,"50 Premium Calls/Day"),r.a.createElement("li",null,"1 Photo per Venue"),r.a.createElement("li",null,"1 Tip per Venue")),r.a.createElement("p",null,"Looking for more calls or content?"),r.a.createElement(Ia,{onClick:function(){window.location.href="/developers/upgrade"}},"Upgrade Now"))},Vr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your current account tier is ",r.a.createElement("strong",null,"Personal"),":"),r.a.createElement("ul",null,r.a.createElement("li",null,"99,500 Regular Calls / Day"),r.a.createElement("li",null,"500 Premium Calls / Day"),r.a.createElement("li",null,"1 Photo per Venue"),r.a.createElement("li",null,"1 Tip per Venue")),r.a.createElement("p",null,"Looking to build something for a commercial application?"),r.a.createElement(Ia,{onClick:function(){window.location.href="/developers/upgrade"}},"Upgrade Now"))},Wr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your current account tier is ",r.a.createElement("strong",null,"Enterprise"),":"),r.a.createElement("div",null,"Please contact enterprise@foursquare.com for questions about your account"))};function Kr(e){var t=e.accountType,a=e.paymentFailed,n=e.dispatch,o=function(){window.confirm("Are you sure you want to unsubscribe from the Start-Up Tier? If so, you will lose the right to use the Foursquare Places API in a commercial app. Additionally, your account will be downgraded to the Sandbox Tier and you will only be able to make 950 Regular calls and 50 Premium calls per day for all of your apps.")&&n(Et())};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tn,{title:"account tier"},"enterprise"===t&&Wr(),"enterpriseTrial"===t&&Wr(),"verified"===t&&Vr(),"startup"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your current account tier is ",r.a.createElement("strong",null,"Start-Up"),":"),r.a.createElement("ul",null,r.a.createElement("li",null,"$0.001 per Regular Call"),r.a.createElement("li",null,"$0.003 per Premium Call"),r.a.createElement("li",null,"4 Photos per Venue"),r.a.createElement("li",null,"4 Tip per Venue")),r.a.createElement("p",null,"Looking for more calls or content?"),r.a.createElement(Gr,null,r.a.createElement(Ia,{onClick:function(){window.location.href="/developers/upgrade"}},"Upgrade Now"),r.a.createElement(Ia,{text:!0,onClick:o},"Unsubscribe from Start-Up Tier"))),"sandbox"===t&&zr()),a&&r.a.createElement(Tn,null,r.a.createElement(Hr,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/error.png",alt:"error"}),"We were unable to charge your credit card for the Startup Tier monthly fee. To ensure there are no service interruptions with your app, please update the primary credit card you have on file and we will retry charging your card for the monthly base fee.")))}Kr.propTypes={accountType:ua.a.string.isRequired,paymentFailed:ua.a.bool.isRequired,dispatch:ua.a.func.isRequired};var Yr=Object(o.b)(function(e){var t=e.apps;return{accountType:t.accountType||"",paymentFailed:t.paymentFailed}})(Kr),Qr=X.b.div.withConfig({displayName:"AccountBillingPage__Wrapper",componentId:"hsoe7c-0"})([".ReactTable{border:0;border-radius:2px;&.-highlight .rt-tbody .rt-tr{cursor:pointer;&.expanded:hover{background:none;}&:not(.-padRow):not(.expanded):hover{background:",";}}.rt-thead{background-color:",";border-top-left-radius:4px;border-top-right-radius:4px;&.-header{box-shadow:none;border-bottom:1px solid #d5d9e3;}.rt-th{padding:12px 48px 12px 0;border-right:0;text-align:left;font-weight:700;}}.rt-tbody{.rt-tr-group{border-bottom:1px solid #d5d9e3;}.rt-td{padding:20px 0;border-right:0;}}.rt-expandable i{transition:transform 0.15s ease;&.isExpanded{transform:rotate(180deg);}}}"],ae.LIGHT_GREY,ae.LIGHT_BLUE);var $r=function(){return r.a.createElement(Qr,null,r.a.createElement("h1",null,"Manage Billing"),r.a.createElement(Yr,null),r.a.createElement(Sr,null),r.a.createElement(Br,null))},Zr=X.b.div.withConfig({displayName:"CreditTile__Wrapper",componentId:"sc-1hydkvn-0"})(["position:relative;border-radius:4px;border:1px solid #d5d9e3;> h3{margin:0;padding:4px 24px;background-color:#cdd6ec;text-transform:uppercase;font-size:13px;}h4{margin:0;font-size:14px;}label,h6{display:block;margin:0 0 8px;text-transform:uppercase;font-size:14px;color:",";}p{font-size:12px;margin-top:8px;}> div{padding:20px 24px;}"],ae.DARK_BLUE_55);function Jr(e){var t=e.className,a=e.title,n=e.children;return r.a.createElement(Zr,{className:t},a&&r.a.createElement("h3",null,a),r.a.createElement("div",null,n))}Jr.propTypes={children:ua.a.any.isRequired,className:ua.a.string,title:ua.a.string},Jr.defaultProps={className:null,title:null};var Xr=Jr,eo=X.b.div.withConfig({displayName:"CreditBalance__Wrapper",componentId:"gabhzl-0"})(["display:flex;align-items:center;flex-direction:column;> strong{font-size:48px;}> div{background-color:",";padding:4px 8px;text-align:center;color:#2b2b34;opacity:0.5;font-family:",";font-size:12px;}> ul{display:flex;justify-content:center;margin:28px 0 0 0;padding:0;li{display:flex;text-align:center padding:6px 0;font-size:13px;font-weight:300;+ li{margin-left:24px;padding-left:24px;border-left:1px solid #f0f3fa;}}"],ae.LIGHT_GREY,te.BROWN_PRO_LIGHT);function to(e){var t=e.balance;return r.a.createElement(Xr,{title:"credit balance"},r.a.createElement(eo,null,r.a.createElement("strong",null,t.toLocaleString()),r.a.createElement("p",null,"Credits Remaining"),r.a.createElement("div",null,"Balance is approximate until pending transactions have cleared."),r.a.createElement("ul",null,r.a.createElement("li",null,"1 Credit per",r.a.createElement("br",null),"Regular Call"),r.a.createElement("li",null,"3 Credits per",r.a.createElement("br",null),"Premium Call"))))}to.propTypes={balance:ua.a.number},to.defaultProps={balance:0};var ao=to;function no(e){var t=e.creditOptions,a=e.isFetching,o=e.dispatch,i=Object(n.useState)(0),l=E()(i,2),s=l[0],c=l[1];return r.a.createElement(Xr,{title:"Add Credits To Your Account"},r.a.createElement(Gn,{label:"SELECT CREDIT AMOUNT",placeholder:"Select One",options:t,value:t.filter(function(e){return e.value===s}),onChange:function(e){return c(e.value)},"aria-label":"SELECT CREDIT AMOUNT"}),r.a.createElement(Ia,{disabled:0===s,isLoading:a,onClick:function(){o(Ge({amount:s}))}},"Add Credits",r.a.createElement("i",{className:"icon"})))}no.propTypes={creditOptions:ua.a.array.isRequired,isFetching:ua.a.bool.isRequired,dispatch:ua.a.func.isRequired};var ro=Object(o.b)(function(e){return{isFetching:e.account.isFetching}})(no),oo=X.b.button.withConfig({displayName:"ToggleButton__Wrapper",componentId:"sc-1jsj9nl-0"})(["position:relative;display:inline-block;width:44px;height:22px;margin-left:20px;padding:0;vertical-align:middle;border-radius:11px;background-color:",";border:0;outline:none;cursor:pointer;transition:background-color 0.15s;&.isActive{background-color:",";i{left:calc(100% - 22px) !important;background-color:"," !important;&::before{content:'';.i-uptick-regular();}}}input{display:none;}i{position:absolute;top:0;left:0;display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:11px;background-color:#b7bbc7;transition:left 0.15s,background-color 0.15s;}"],ae.BLUE_GREY,ae.LIGHT_GREEN,ae.GREEN);function io(e){var t=e.children,a=e.isLoading,n=e.isActive,o=e.name,i=We()(e,["children","isLoading","isActive","name"]);return r.a.createElement(oo,va()({className:Ea()({isActive:n})},i,{"aria-label":o}),a&&r.a.createElement(xa,null),!a&&t)}io.propTypes={children:ua.a.any.isRequired,isLoading:ua.a.bool,isActive:ua.a.bool,name:ua.a.string},io.defaultProps={isLoading:ua.a.false,isActive:ua.a.false,name:""};var lo=io,so=X.b.div.withConfig({displayName:"TurnAutoPaymentOnModal__ModalContent",componentId:"xhufy0-0"})(["box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);background-color:",";padding:24px 48px;"],ae.WHITE),co=X.b.div.withConfig({displayName:"TurnAutoPaymentOnModal__Buttons",componentId:"xhufy0-1"})(["display:flex;margin-top:27px;button + button{margin-left:40px;}"]);function uo(e){var t=e.isOpen,a=e.creditOptions,o=e.onRequestClose,i=e.isFetching,l=e.dispatch,s=Object(n.useState)(2e4),c=E()(s,2),u=c[0],p=c[1],d=Object(n.useCallback)(function(){l(He({enable:!0,amount:u})),o()},[u]);return r.a.createElement(Na,{isOpen:t,contentLabel:"Turn Automatic Payment On",title:"Turn Automatic Payment On",showCloseButton:!1,onRequestClose:o},r.a.createElement(so,null,r.a.createElement("p",null,"To complete this setup, please select the credit amount to add when your balance falls below 10,000 credits. Please note: if your balance is currently below 10,000 credits, you will be charged immediately for the amount selected below."),r.a.createElement(Gn,{options:a,value:a.filter(function(e){return e.value===u}),onChange:function(e){return p(e.value)}}),r.a.createElement(co,null,r.a.createElement(Ia,{onClick:d,isSaving:i},"Complete Setup"),r.a.createElement(Ia,{text:!0,onClick:o},"Cancel"))))}uo.propTypes={isOpen:ua.a.bool.isRequired,creditOptions:ua.a.array.isRequired,onRequestClose:ua.a.func.isRequired,dispatch:ua.a.func.isRequired,isFetching:ua.a.bool.isRequired};var po=Object(o.b)(function(e){return{isFetching:e.account.isFetching}})(uo),mo=X.b.div.withConfig({displayName:"AutomaticPayment__Row",componentId:"sc-1r0z5th-0"})(["display:flex;align-items:center;"]);function go(e){var t=e.autorenewEnabled,a=e.autorenewAmount,o=e.creditOptions,i=e.isFetching,l=e.dispatch,s=pn({showTurnAutomaticOnModal:!1,amountToAutoCharge:a}),c=E()(s,2),u=c[0],p=c[1],d=u.showTurnAutomaticOnModal,m=u.amountToAutoCharge,g=Object(n.useCallback)(function(){l(He({enable:!0,amount:m}))},[m]),h=Object(n.useCallback)(function(){l(He({enable:!1}))},[]);return Object(n.useEffect)(function(){return p({amountToAutoCharge:a})},[a]),r.a.createElement(Xr,{title:"Automatic Payment"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(mo,null,r.a.createElement("h4",null,"Automatic Payment On"),r.a.createElement(lo,{name:"Automatic Payment On",isActive:!0,onClick:function(){return h()}},r.a.createElement("i",null))),r.a.createElement("p",null,"To change the amount your account will be recharged, select a new amount below."),r.a.createElement(Gn,{placeholder:"Select One",value:o.filter(function(e){return e.value===m}),options:o,onChange:function(e){return p({amountToAutoCharge:e.value})}}),r.a.createElement(Ia,{disabled:0===m,isLoading:i,onClick:g},"Change")):r.a.createElement(r.a.Fragment,null,r.a.createElement(mo,null,r.a.createElement("h4",null,"Automatic Payment Off"),r.a.createElement(lo,{name:"Toggle Payment Off",isActive:!1,onClick:function(){return p({showTurnAutomaticOnModal:!0})}},r.a.createElement("i",null))),r.a.createElement("p",null,"If your credits fall below zero, you ",r.a.createElement("strong",null,"will not")," be able to make API calls. If you enable automatic payments, credits will be added to your account every time your balance falls below 10,000 credits.")),d&&r.a.createElement(po,{isOpen:d,creditOptions:o,onRequestClose:function(){return p({showTurnAutomaticOnModal:!1})}}))}go.propTypes={creditOptions:ua.a.array.isRequired,dispatch:ua.a.func.isRequired,isFetching:ua.a.bool.isRequired,autorenewEnabled:ua.a.bool,autorenewAmount:ua.a.number},go.defaultProps={autorenewEnabled:!1,autorenewAmount:0};var ho=Object(o.b)(function(e){return{isFetching:e.account.isFetching}})(go),fo=X.b.div.withConfig({displayName:"ManageCredit__Wrapper",componentId:"ay92ci-0"})(["display:flex;flex-direction:column;@media (min-width:1200px){flex-direction:row;align-items:flex-start;> div:first-child{max-width:280px;margin:0 24px 0 0;}> div{flex:1;}}> div{flex:1;> div + div{margin-top:24px;}}"]),bo=[{value:2e4,label:"20,000 credits (or $20.00)"},{value:5e4,label:"50,000 credits (or $50.00)"},{value:1e5,label:"100,000 credits (or $100.00)"},{value:15e4,label:"150,000 credits (or $150.00)"},{value:2e5,label:"200,000 credits (or $200.00)"},{value:25e4,label:"250,000 credits (or $250.00)"},{value:3e5,label:"300,000 credits (or $300.00)"},{value:35e4,label:"350,000 credits (or $350.00)"},{value:4e5,label:"400,000 credits (or $400.00)"},{value:5e5,label:"500,000 credits (or $500.00)"},{value:6e5,label:"600,000 credits (or $600.00)"},{value:7e5,label:"700,000 credits (or $700.00)"},{value:8e5,label:"800,000 credits (or $800.00)"},{value:9e5,label:"900,000 credits (or $900.00)"},{value:1e6,label:"1,000,000 credits (or $1,000.00)"}];function vo(e){var t=e.dispatch,a=e.credits;return Object(n.useEffect)(function(){Ya()(a)&&t(Me())},[]),r.a.createElement(Tn,{title:"CREDIT BALANCE"},r.a.createElement(fo,null,r.a.createElement(ao,{balance:a.balance}),r.a.createElement("div",null,r.a.createElement(ro,{creditOptions:bo}),r.a.createElement(ho,{autorenewEnabled:a.autorenewEnabled,autorenewAmount:a.autorenewAmount,creditOptions:bo}))))}vo.propTypes={dispatch:ua.a.func.isRequired,credits:ua.a.object},vo.defaultProps={credits:null};var yo=Object(o.b)(function(e){var t=e.account;return{isFetching:t.isFetching,credits:t.credits}})(vo),Eo=X.b.div.withConfig({displayName:"Transactions__GreenCell",componentId:"mishvy-0"})(["color:#7ea700;font-family:",";"],te.BROWN_PRO_BOLD),xo=X.b.div.withConfig({displayName:"Transactions__PendingDot",componentId:"mishvy-1"})(["height:8px;width:8px;background-color:#f9ca48;border-radius:50%;margin:5px auto;"]),wo=[{width:48,Cell:function(e){return e.original.intermediate?r.a.createElement(xo,null):""}},{Header:"Date Posted",accessor:"date",width:200,Cell:function(e){var t=e.original;return t.intermediate?"Pending Transaction":new Date(t.date).toDateString().slice(4)}},{Header:"Description",accessor:"type"},{Header:"Quantity",accessor:"quantity",Cell:function(e){var t=e.original;return 0===t.quantity?"":t.quantity.toLocaleString()}},{Header:"Amount",accessor:"amount",Cell:function(e){var t=e.original;return t.type.indexOf("Purchase")>=0||t.type.indexOf("Adjustment")>=0&&t.amount>0?r.a.createElement(Eo,null,"+ ",t.amount.toLocaleString()):t.amount.toLocaleString()}},{Header:"Balance",accessor:"balance",Cell:function(e){return e.value.toLocaleString()}}];function Co(e){var t=e.transactions,a=e.isFetching,o=e.dispatch;return Object(n.useEffect)(function(){Ya()(t)&&o(Be())},[]),r.a.createElement(Tn,{noPadding:!0,title:"TRANSACTIONS"},r.a.createElement(xr,{loading:a,columns:wo,minRows:0,resizable:!1,data:t}))}Co.propTypes={dispatch:ua.a.func.isRequired,transactions:ua.a.array.isRequired,isFetching:ua.a.bool.isRequired};var Io=Object(o.b)(function(e){var t=e.account;return{transactions:t.transactions,isFetching:t.isFetching}})(Co);var ko=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Manage Credits"),r.a.createElement(yo,null),r.a.createElement(Io,null),r.a.createElement(Tn,{title:"RELATED LINKS"},r.a.createElement("p",null,"Please find the Start-Up Tier API license Agreement below:"),r.a.createElement("a",{href:"/legal/api/startupagreement"},"Start-Up Tier API License Agreement")))},So=a(111),Ro=a.n(So),To=a(651),Oo=a(652);"function"==typeof To&&"function"==typeof Oo&&Ro.a&&(To(Ro.a),Oo(Ro.a));var Lo=0;function _o(e){var t=e.className,a=e.type,o=e.options,i=e.width,l=e.height,s=e.onLoad,c=Object(n.useRef)("highchart-".concat(Lo++)),u=Object(n.useRef)(null);return Object(n.useEffect)(function(){var e=o.exporting,t=void 0===e?{}:e,n=o.credits,r=void 0===n?{}:n,i=We()(o,["exporting","credits"]);return u.current=new Ro.a[a](c.current,g()({},i,{credits:g()({},r,{enabled:!1}),exporting:g()({},t,{fallbackToExportServer:!1})})),s(u.current),function(){u.current&&u.current.destroy()}},[o]),r.a.createElement("div",{className:t,id:c.current,style:{width:i,height:l}})}_o.propTypes={className:ua.a.string,type:ua.a.string,options:ua.a.object,width:ua.a.number,height:ua.a.number,onLoad:ua.a.func},_o.defaultProps={className:"",type:"Chart",options:{},width:null,height:330,onLoad:function(){return null}};var Ao=_o,Po=X.b.div.withConfig({displayName:"ApiCallVolume__EmptyState",componentId:"sc-199toct-0"})(["display:flex;align-items:center;justify-content:center;height:250px;font-size:14px;color:",";letter-spacing:0.2px;"],ae.DARK_BLUE_55),No=new Intl.NumberFormat("en-US");function jo(e){var t=e.appId,a=e.appName,o=e.stats,i=Object(n.useMemo)(function(){return o.reduce(function(e,t){return t.dailyStats.forEach(function(t){var a=t.date,n=t.totalCount;e[a]=(e[a]||0)+n}),e},{})},[o]),l=Object(n.useMemo)(function(){return o.find(function(e){return e.consumer===t})||{dailyStats:[]}},[t,o]),s=[{name:"Regular calls",data:l.dailyStats.map(function(e){return{name:e.date,x:new Date(e.date).getTime(),y:e.premiumCount?e.totalCount-e.premiumCount:e.totalCount}}),color:"#0732a2",marker:{symbol:"circle"}}];return void 0!==l.premiumCount&&s.push({name:"Premium calls",data:l.dailyStats.map(function(e){return{name:e.date,x:new Date(e.date).getTime(),y:e.premiumCount}}),color:"#f9cb51",marker:{symbol:"circle"}},{name:"Total calls for ".concat(a),data:l.dailyStats.map(function(e){return{name:e.date,x:new Date(e.date).getTime(),y:e.totalCount}}),color:"#f94877",marker:{symbol:"circle"}}),s.push({name:"Total calls across all apps",data:Object.keys(i).sort().map(function(e){return{name:e,x:new Date(e).getTime(),y:i[e]}}),color:"#b4de28",marker:{symbol:"circle"}}),r.a.createElement(Tn,{noPadding:!0,title:"API Call Volume"},Ya()(i)&&Ya()(l.dailyStats)?r.a.createElement(Po,null,"Not enough data available to display the chart"):r.a.createElement(Ao,{options:{series:s,chart:{backgroundColor:"#fff",borderRadius:4,spacing:[48,48,20,20]},legend:{margin:24,itemStyle:{fontWeight:"400",color:"#0732a2"}},exporting:{enabled:!1},plotOptions:{series:{connectNulls:!0,marker:{lineWidth:1}}},title:null,tooltip:{backgroundColor:"rgba(0, 17, 61, 0.8)",borderWidth:0,borderRadius:10,crosshairs:!0,shared:!0,shadow:!1,useHTML:!0,formatter:function(){return'\n                  <ul style="margin: 0; padding: 4px 8px; list-style: none; color: #fff;">\n                    <li style="margin-bottom: 6px;">\n                      <strong>'.concat($e()(this.x).utc().format("dddd, MM/DD/YYYY"),"</strong>\n                    </li>\n                    ").concat(this.points.reduce(function(e,t){return e+="\n                        <li>".concat(t.series.name,": ").concat(No.format(t.y),"</li>\n                      ")},""),"\n                  </ul>\n                ")}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%b %e",week:"%b %e"},labels:{style:{color:"rgba(0, 17, 61, 0.3)"}}},yAxis:{labels:{style:{color:"rgba(0, 17, 61, 0.3)"}},title:{text:"Call Volume",margin:20,style:{color:"rgba(0, 17, 61, 0.3)",fontWeight:"bold",fontSize:10,textTransform:"uppercase"}}}}}))}jo.propTypes={appId:ua.a.string.isRequired,appName:ua.a.string.isRequired,stats:ua.a.array.isRequired};var Fo=jo,Do=X.b.div.withConfig({displayName:"ApiCallVolumeByEndpoint__EmptyState",componentId:"sc-18rwqq5-0"})(["display:flex;align-items:center;justify-content:center;height:250px;font-size:14px;color:",";letter-spacing:0.2px;"],ae.DARK_BLUE_55),qo=new Intl.NumberFormat("en-US");function Uo(e){var t=e.appId,a=e.stats,o=e.dates,i=Object(n.useMemo)(function(){return a.find(function(e){return e.consumer===t})||{dailyStats:[]}},[t,a]),l=Object(n.useMemo)(function(){return i.dailyStats.reduce(function(e,t){var a=t.date,n=t.endpointStats;return(void 0===n?[]:n).forEach(function(t){var n=t.path,r=t.count;e[n]=e[n]||{},e[n][a]=r}),e},{})},[i]),s=Object(n.useMemo)(function(){return Object.keys(l).map(function(e){return{name:e,data:o.map(function(t){return{name:t,x:new Date(t).getTime(),y:l[e][t]||0}}),color:"#0732a2",marker:{symbol:"circle"}}})},[l]);return r.a.createElement(Tn,{noPadding:!0,title:"API Call Volume By Endpoint"},Ya()(s)?r.a.createElement(Do,null,"Not enough data available to display the chart"):r.a.createElement(Ao,{options:{series:s,chart:{backgroundColor:"#fff",borderRadius:4,spacing:[48,48,20,20]},legend:{margin:24,itemStyle:{fontWeight:"400",color:"#0732a2"}},exporting:{enabled:!1},plotOptions:{series:{connectNulls:!0,marker:{lineWidth:1}}},title:null,tooltip:{backgroundColor:"rgba(0, 17, 61, 0.8)",borderWidth:0,borderRadius:10,crosshairs:!0,shared:!0,shadow:!1,useHTML:!0,formatter:function(){return'\n                    <ul style="margin: 0; padding: 4px 8px; list-style: none; color: #fff;">\n                      <li style="margin-bottom: 6px;">\n                        <strong>'.concat($e()(this.x).utc().format("dddd, MM/DD/YYYY"),"</strong>\n                      </li>\n                      ").concat(this.points.reduce(function(e,t){return e+="\n                          <li>".concat(t.series.name,": ").concat(qo.format(t.y),"</li>\n                        ")},""),"\n                    </ul>\n                  ")}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%b %e",week:"%b %e"},labels:{style:{color:"rgba(0, 17, 61, 0.3)"}}},yAxis:{labels:{style:{color:"rgba(0, 17, 61, 0.3)"}},title:{text:"Call Volume",margin:20,style:{color:"rgba(0, 17, 61, 0.3)",fontWeight:"bold",fontSize:10,textTransform:"uppercase"}}}}}))}Uo.propTypes={appId:ua.a.string.isRequired,stats:ua.a.array.isRequired,dates:ua.a.array.isRequired};var Mo=Uo,Bo=X.b.div.withConfig({displayName:"ApiUsageOverview__UsageDetailWrapper",componentId:"sc-13cjrpi-0"})(["display:flex;padding:24px 48px;border-top:1px solid #d5d9e3;> ul{flex:1;display:table;margin:0;padding:0;list-style:none;font-family:",";li{display:table-row;padding:4px 0;&:nth-child(2n - 1){background-color:#eef1f8;}span{display:table-cell;padding:4px 20px;&:nth-of-type(1){width:280px;}&:nth-of-type(2){width:120px;}}}}> div{flex:1;}p{margin:0;color:",";}"],te.BROWN_PRO_LIGHT,ae.DARK_BLUE_55);function Go(e){var t=e.original,a=Object(n.useRef)(),o=t.stats,i=t.currentAppStats,l=t.aggregatedStats,s=o?l.totalCount:i.totalCount,c=o?o.reduce(function(e,t){var a=t.dailyStats;return(void 0===a?[]:a).forEach(function(t){var a=t.endpointStats;(void 0===a?[]:a).forEach(function(t){var a=t.path,n=t.count;e[a]=e[a]||0,e[a]+=n})},{}),e},{}):(i.dailyStats||[]).reduce(function(e,t){var a=t.endpointStats;return(void 0===a?[]:a).forEach(function(t){var a=t.path,n=t.count;e[a]=e[a]||0,e[a]+=n}),e},{});return Ya()(c)?r.a.createElement(Bo,null,r.a.createElement("p",null,"No Data")):r.a.createElement(Bo,null,r.a.createElement("ul",null,Object.keys(c).map(function(e,t){var n=function(){if(a.current){var t=a.current.series[0].data.find(function(t){return t.name===e});t.select(!0,!1),a.current.tooltip.refresh(t)}},o=function(){a.current&&(a.current.series[0].data.find(function(t){return t.name===e}).select(!1,!1),a.current.tooltip.hide(50))};return r.a.createElement("li",{key:t,onMouseOut:o,onMouseOver:n,onFocus:n,onBlur:o},r.a.createElement("span",null,e),r.a.createElement("span",null,c[e].toLocaleString()),r.a.createElement("span",null,r.a.createElement("strong",null,(c[e]/s*100).toFixed(2),"%")))})),r.a.createElement(Ao,{onLoad:function(e){a.current=e},options:{series:[{animation:!1,data:Object.keys(c).map(function(e){return{name:e,y:c[e]}})}],chart:{type:"pie",backgroundColor:"#fff",borderRadius:4,spacing:[0,0,0,48]},exporting:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1}},series:{connectNulls:!0,marker:{lineWidth:1}}},title:null,tooltip:{backgroundColor:"rgba(0, 17, 61, 0.8)",borderWidth:0,borderRadius:10,crosshairs:!0,shared:!0,shadow:!1,style:{padding:"8px 24px 12px",color:"#fff"}}}}))}var Ho=[{width:48},{Header:"App",accessor:"name",width:300},{Header:"Calls",width:120,accessor:"calls",Cell:function(e){var t=e.value;return(void 0===t?0:t).toLocaleString()}},{Header:"% Total Calls",accessor:"percentage"},{expander:!0,Expander:function(e){var t=e.isExpanded;return r.a.createElement(Fa,{className:Ea()({isExpanded:t}),type:"sort-down-regular"})},width:48,style:{textAlign:"center"}},{width:32}];function zo(e){var t=e.allApps,a=e.stats,o=e.aggregatedStats,i=Object(n.useMemo)(function(){return t.map(function(e){var t=a.find(function(t){return t.consumer===e.id})||{},n=t.totalCount||0;return{calls:n,currentAppStats:t,aggregatedStats:o,name:e.name,percentage:"".concat((n/(o.totalCount||1)*100).toFixed(2),"%")}}).concat([{stats:a,aggregatedStats:o,calls:o.totalCount||0,name:"TOTAL CALLS",percentage:"100%"}])},[t,a,o]);return r.a.createElement(Tn,{noPadding:!0,title:"API Usage Overview"},r.a.createElement(xr,{className:"-highlight",minRows:0,columns:Ho,data:i,showPagination:!1,SubComponent:function(e){return r.a.createElement(Go,e)},getTrProps:function(e,t,a,n){if(!t)return{};var r=e.expanded,o=t.nestingPath[0];return{className:r[o]?"expanded":"",style:{fontFamily:t.row._original.stats?te.BROWN_PRO_BOLD:te.BROWN_PRO_REGULAR},onClick:function(){n.setState({expanded:g()({},r,Ye()({},o,!r[o]))})}}}}))}zo.propTypes={allApps:ua.a.array.isRequired,stats:ua.a.array.isRequired,aggregatedStats:ua.a.object.isRequired};var Vo=zo;function Wo(e){var t=P("v2/apps/monthlystats/csv",{consumerIds:[e.appId]});return r.a.createElement(Tn,{title:"Export Usage"},r.a.createElement("p",null,"Download a csv of your monthly api usage below:"),r.a.createElement("a",{href:t},"Download CSV"))}Wo.propTypes={appId:ua.a.string.isRequired};var Ko=Wo,Yo=X.b.div.withConfig({displayName:"AppPlacesUsagePage__DaysButtons",componentId:"sc-1bgcen4-0"})(["position:absolute;right:118px;top:115px;z-index:1;button{min-width:68px;padding:3px 12px;border:0;border-radius:3px;background-color:transparent;font-size:12px;color:",";outline:none;cursor:pointer;transition:background-color 0.15s ease,color 0.15s ease;&:hover{background-color:",";box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);}&.active{background-color:",";box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);color:#fff;}+ button{margin-left:4px;}}"],ae.BLUE,ae.LIGHT_BLUE,ae.BLUE),Qo=[7,30,90,365];function $o(e){var t=e.dispatch,a=e.appId,o=e.appName,i=e.allApps,l=e.allStatsByDays,s=Object(n.useMemo)(function(){return i.map(function(e){return e.id})},[i]),c=Object(n.useState)(7),u=E()(c,2),p=u[0],d=u[1];Object(n.useEffect)(function(){Ya()(l[p])&&t(Ot(s,p))},[p]);var m=Object(n.useCallback)(function(e){return d(parseInt(e.target.dataset.days,10))},[]),g=Je()(l,"".concat(p,".stats"),[]),h=Je()(l,"".concat(p,".aggregatedStats"),{}),f=Object(n.useMemo)(function(){for(var e=[],t=p;t>=1;t--)e.push($e()().subtract(t,"days").format("YYYY-MM-DD"));return e},[p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Places API Usage"),r.a.createElement(Yo,null,Qo.map(function(e){return r.a.createElement("button",{key:e,className:Ea()({active:e===p}),type:"button","data-days":e,onClick:m},e," days")})),r.a.createElement(Fo,{appId:a,appName:o,stats:g}),r.a.createElement(Mo,{appId:a,stats:g,dates:f}),r.a.createElement(Vo,{appId:a,allApps:i,stats:g,aggregatedStats:h}),r.a.createElement(Ko,{appId:a}))}$o.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,allApps:ua.a.array,appName:ua.a.string,allStatsByDays:ua.a.object},$o.defaultProps={allApps:[],appName:"",allStatsByDays:{}};var Zo=Object(o.b)(function(e,t){var a=e.apps,n=e.places,r=t.match.params.id;return{appId:r,appName:(a.byId[r]||{}).name,allApps:Object.values(a.byId).map(function(e){return{id:e.id,name:e.name}}),allStatsByDays:n.allStatsByDays}})($o),Jo=X.b.div.withConfig({displayName:"Checkbox__Wrapper",componentId:"uzhzrq-0"})(["& + &{margin-top:16px;}> label{display:flex;align-items:center;text-transform:none;color:",";input{margin-right:12px;}}> small{padding-left:26px;color:",";font-size:12px;margin-top:5px;}input[type='checkbox']{position:relative;display:inline-block;height:14px;width:14px;appearance:none;outline:none;z-index:0;cursor:pointer;&:before{content:'';display:block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;border-radius:4px;z-index:-1;transition:background,border 0.2s;background:",";border:2px solid ",";}&:focus:before,&:hover:before{border:2px solid ",";}&:focus:checked:before{border:2px solid ",";}&:checked:before{border:2px solid ",";background:",";}&:checked:after{content:'';position:absolute;background-repeat:no-repeat;background-image:url(https://ss0.4sqi.net/fonts/foursquare_icons/sprite.svg);background-position:-32px -544px;width:16px;height:16px;transform:scale(0.6);top:-1px;left:-1px;}}"],ae.DARK_BLUE,ae.DARK_BLUE_55,ae.WHITE,ae.DARK_BLUE,ae.TURQUOISE,ae.DARK_BLUE,ae.DARK_BLUE,ae.DARK_BLUE);function Xo(e){var t=e.label,a=e.helpText,n=e.checked,o=We()(e,["label","helpText","checked"]);return r.a.createElement(Jo,null,r.a.createElement("label",null,r.a.createElement("input",va()({type:"checkbox",readOnly:!0,checked:n},o)),t),a&&r.a.createElement("small",null,a))}Xo.propTypes={label:ua.a.node,helpText:ua.a.node,checked:ua.a.bool},Xo.defaultProps={label:null,helpText:null,checked:!1};var ei=[{value:"high",label:"High"},{value:"med",label:"Medium"},{value:"low",label:"Low"},{value:"none",label:"All"}];function ti(e){var t=e.dispatch,a=e.appId,o=e.pilgrim,i={confidenceMin:((o.triggers||[]).find(function(e){return"default"===e.name})||{}).minConfidence||"none",notifyAtHome:o.notifyAtHome,notifyAtWork:o.notifyAtWork,notifyOnExit:o.notifyOnExit,includeOtherVenues:o.includeOtherVenues},l=pn(i),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useMemo)(function(){return ei.find(function(e){return e.value===c.confidenceMin})},[c.confidenceMin]),d=Object(n.useCallback)(function(e){return u({confidenceMin:e.value})},[]),m=Object(n.useCallback)(function(e){return u({notifyAtHome:e.target.checked})},[]),g=Object(n.useCallback)(function(e){return u({notifyAtWork:e.target.checked})},[]),h=Object(n.useCallback)(function(e){return u({notifyOnExit:e.target.checked})},[]),f=Object(n.useCallback)(function(e){return u({includeOtherVenues:e.target.checked})},[]),b=Object(n.useCallback)(function(){return u(i)},[]),v=!nn()(c,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:v}),r.a.createElement(Tn,{title:"General",hasChanges:v,onCancel:b,onSave:function(){t(yt(a,"snaptoplace",c))}},r.a.createElement(Gn,{label:"Minimum Confidence Level",options:ei,value:p,onChange:d,helpText:" e.g., by selecting Medium, you will receive Medium and High confidence level events. "}),r.a.createElement(Xo,{label:"Include events for Home visits",checked:c.notifyAtHome,onClick:m}),r.a.createElement(Xo,{label:"Include events for Work visits",checked:c.notifyAtWork,onClick:g}),r.a.createElement(Xo,{label:"Include departure events",checked:c.notifyOnExit,onClick:h}),r.a.createElement(Xo,{label:"Include other possible venues",helpText:" When enabled, Pilgrim will send 4 other venues that are nearby as part of the Visit detail. ",checked:c.includeOtherVenues,onClick:f})))}ti.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object.isRequired};var ai=ti,ni=X.b.div.withConfig({displayName:"RadioGroup__Wrapper",componentId:"sc-10pped4-0"})(["margin-bottom:24px;&.horizontal{display:flex;flex-wrap:wrap;> label{align-items:flex-start;margin:0 12px 0 0;}}> label{display:flex;align-items:center;+ label{margin-top:12px;}}"]);function ri(e){var t=e.name,a=e.value,n=e.options,o=e.onChange,i=e.horizontal,l=e.disabled;return r.a.createElement(ni,{className:Ea()({horizontal:i})},Object.entries(n).map(function(e){var n=E()(e,2),i=n[0],s=n[1];return r.a.createElement(Dr,{key:i,label:s,name:t,checked:i===a,value:i,onChange:o,disabled:l})}))}ri.propTypes={options:ua.a.object.isRequired,name:ua.a.string.isRequired,onChange:ua.a.func.isRequired,value:ua.a.string,horizontal:ua.a.bool,disabled:ua.a.bool},ri.defaultProps={value:"",horizontal:!1,disabled:!1};var oi=a(71),ii=a.n(oi),li=X.b.div.withConfig({displayName:"FieldGroup",componentId:"sc-3jxj60-0"})(["box-sizing:border-box;margin-bottom:24px;width:100%;"]),si=X.b.label.withConfig({displayName:"FieldLabel",componentId:"fsp664-0"})(["color:",";display:block;padding-bottom:8px;text-transform:uppercase;",""],ae.DARK_BLUE_55,function(e){return e.clickable&&"cursor: pointer;"}),ci=a(107),ui=a.n(ci),pi=a(97),di=a.n(pi),mi=function(e){function t(){var e,a;w()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=I()(this,(e=S()(t)).call.apply(e,[this].concat(r))),Ye()(T()(a),"geocodePromise",function(e){return e&&function(e){return Yt.apply(this,arguments)}(e)}),Ye()(T()(a),"getGeoLabel",function(e){return Je()(e,"feature.displayName")||Je()(e,"where")}),Ye()(T()(a),"noOptionsMessage",function(e){return e.inputValue.length?"No locations found":"Start searching by location name, like New York"}),a}return L()(t,e),ii()(t,[{key:"render",value:function(){var e=this.props,t=e.wait,a=e.customRef,n=We()(e,["wait","customRef"]);return r.a.createElement(ui.a,va()({defaultOptions:!0,cacheOptions:!0,placeholder:"Search for location",loadOptions:di()(this.geocodePromise,t),getOptionLabel:this.getGeoLabel,noOptionsMessage:this.noOptionsMessage,ref:a},n))}}]),t}(n.Component);Ye()(mi,"propTypes",{wait:ua.a.number.isRequired,onChange:ua.a.func.isRequired,placeholder:ua.a.string,customRef:ua.a.object}),Ye()(mi,"defaultProps",{placeholder:"Search by location",customRef:null});var gi=a(388),hi=a.n(gi),fi=function(e){function t(){var e,a;w()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=I()(this,(e=S()(t)).call.apply(e,[this].concat(o))),Ye()(T()(a),"state",{internalLookup:{},fetchingVenueIds:new Set}),Ye()(T()(a),"getOptionValue",function(e){return e.id}),Ye()(T()(a),"onChange",function(e){var t=a.props,n=t.venuesLookup,r=t.onChange,o=t.isMulti,i=a.state.internalLookup,l=new Set(Object.keys(n||{})),s=i,c=o?e:[e],u=c.reduce(function(e,t){return l.has(t.id)?e:g()({},e,Ye()({},t.id,t))},s);c.forEach(function(e){e.isNew&&a.fetchVenue(e.id)}),a.setState({internalLookup:u}),r(c)}),Ye()(T()(a),"getNewOptionData",function(e){var t=a.state.internalLookup;return e in t?t[e]:{id:e,name:e,isNew:!0}}),Ye()(T()(a),"isValidNewOption",function(e,t){var a=!t.map(function(e){return e.id}).includes(e);return Xn(e)&&a}),Ye()(T()(a),"venueSearchPromise",function(e){var t=a.props.geo,n=t?t.feature:{},r=n.displayName,o=n.longId;return e&&!Xn(e)&&(r&&o)?function(e,t,a){return Kt.apply(this,arguments)}(e,r,o):Promise.resolve([])}),Ye()(T()(a),"noOptionsMessage",function(){return a.props.geo?"Search for a venue, such as Joe's Pizza, or add venues by id":"Search for a location first"}),Ye()(T()(a),"formatOptionLabel",function(e,t){return"menu"===t.context?e.isNew?r.a.createElement("div",{className:"react-select__option"},"Add venue by id: ",r.a.createElement("span",{className:"bold"},e.id)):r.a.createElement("div",{className:"react-select__option",key:e.id},r.a.createElement("span",{className:"bold"},e.name)," -",e.location&&e.location.address):r.a.createElement("div",{className:"react-select__control",key:e.id},e.name)}),a}return L()(t,e),ii()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.venuesLookup,n=t.venueIds,r=!a[n]&&n[0];r&&Vt(r).then(function(t){e.setState({internalLookup:Ye()({},r,t)})}).catch(function(e){return me.error(e.message)})}},{key:"getValue",value:function(){var e=this.props,t=e.venueIds,a=e.venuesLookup,n=this.state.internalLookup;return a&&t?t.map(function(e){return n[e]||a[e]}):[]}},{key:"fetchVenue",value:function(e){var t=this,a=this.props.onChange;if(!this.state.fetchingVenueIds.has(e)){var n=function(e,t){var a=new Set(t);return a.delete(e),a};this.setState(function(t){return{fetchingVenueIds:new Set([].concat(d()(t.fetchingVenueIds),[e]))}},function(){Vt(e).then(function(a){return t.setState(function(t){return{internalLookup:g()({},t.internalLookup,Ye()({},a.id,a)),fetchingVenueIds:n(e,t.fetchingVenueIds)}})},function(){t.setState(function(t){return{fetchingVenueIds:n(e,t.fetchingVenueIds)}});var r=d()(t.getValue()).filter(function(t){return t.id!==e});a(r)})})}}},{key:"render",value:function(){var e=this.props,t=e.wait,a=e.geo,n=(e.onChange,e.venuesLookup,We()(e,["wait","geo","onChange","venuesLookup"])),o=this.getValue();return r.a.createElement(hi.a,va()({cacheOptions:!0,loadOptions:di()(this.venueSearchPromise,t),getOptionValue:this.getOptionValue,formatOptionLabel:this.formatOptionLabel,value:o,noOptionsMessage:this.noOptionsMessage,onChange:this.onChange,placeholder:"Search for venue",isDisabled:Ya()(a),formatCreateLabel:this.formatCreateLabel,getNewOptionData:this.getNewOptionData,isValidNewOption:this.isValidNewOption},n))}}]),t}(n.Component);Ye()(fi,"propTypes",{venueIds:ua.a.array.isRequired,venuesLookup:ua.a.object.isRequired,wait:ua.a.number.isRequired,onChange:ua.a.func.isRequired,geo:ua.a.object,isMulti:ua.a.bool}),Ye()(fi,"defaultProps",{geo:null,isMulti:!1});var bi=function(e){function t(){var e,a;w()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=I()(this,(e=S()(t)).call.apply(e,[this].concat(r))),Ye()(T()(a),"state",{internalLookup:{}}),Ye()(T()(a),"getOptionLabel",function(e){return e.bestName.name}),Ye()(T()(a),"getOptionValue",function(e){return e.id}),Ye()(T()(a),"noOptionsMessage",function(e){return e.inputValue.length?"No chains found":"Start searching by chain name"}),Ye()(T()(a),"searchPromise",function(e){return e?Bt(e):Promise.resolve([])}),Ye()(T()(a),"onChange",function(e){var t=a.props,n=t.chainsLookup,r=t.onChange,o=t.isMulti,i=a.state.internalLookup,l=new Set(Object.keys(n||{})),s=i,c=o?e:[e],u=c.reduce(function(e,t){return l.has(t.id)?e:g()({},e,Ye()({},t.id,t))},s);a.setState({internalLookup:u}),r(c)}),a}return L()(t,e),ii()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.chainsLookup,n=t.chainIds,r=!a[n]&&n[0];r&&Bt(r).then(function(t){e.setState({internalLookup:Ye()({},r,t[0])})}).catch(function(e){return me.error(e.message)})}},{key:"getValue",value:function(){var e=this.props,t=e.chainIds,a=e.chainsLookup,n=this.state.internalLookup;return t.length?t.map(function(e){return a[e]||n[e]}):[]}},{key:"render",value:function(){var e=this.props,t=(e.chainIds,e.wait),a=(e.onChange,e.customRef),n=We()(e,["chainIds","wait","onChange","customRef"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ui.a,va()({cacheOptions:!0,loadOptions:di()(this.searchPromise,t),getOptionValue:this.getOptionValue,getOptionLabel:this.getOptionLabel,noOptionsMessage:this.noOptionsMessage,onChange:this.onChange,value:this.getValue(),placeholder:"Search for chain",ref:a},n)))}}]),t}(n.Component);function vi(e){var t=e.options,a=e.categoriesLookup,o=e.categoryIds,i=e.isLoading,l=e.customRef,s=We()(e,["options","categoriesLookup","categoryIds","isLoading","customRef"]),c=Object(n.useMemo)(function(){return t.length?o.map(function(e){return a[e]}):[]},[t,o,a]),u=Object(n.useCallback)(function(e){return e.name},[]),p=Object(n.useCallback)(function(e){return e.id},[]);return r.a.createElement(jn.a,va()({formatOptionLabel:function(e,t){var n=t.context,o=a[e.id],i=20*o.parentIds.length,l={marginLeft:"".concat(i,"px")},s=0===o.parentIds.length?"bold":null;return"menu"===n?r.a.createElement("div",{className:"react-select__option",key:e.id},r.a.createElement("span",{className:s,style:l},e.name)):r.a.createElement("div",{className:"react-select__control",key:e.id},e.name)},getOptionLabel:u,getOptionValue:p,value:c,isDisabled:i,isLoading:i,placeholder:i?"Loading...":"Search for category",options:t,ref:l},s))}Ye()(bi,"propTypes",{chainIds:ua.a.array.isRequired,wait:ua.a.number.isRequired,onChange:ua.a.func.isRequired,chainsLookup:ua.a.object.isRequired,isMulti:ua.a.bool,customRef:ua.a.object}),Ye()(bi,"defaultProps",{isMulti:!1,customRef:null}),vi.propTypes={options:ua.a.array.isRequired,categoryIds:ua.a.array.isRequired,isLoading:ua.a.bool.isRequired,categoriesLookup:ua.a.object.isRequired,customRef:ua.a.object},vi.defaultProps={customRef:null};var yi=X.b.div.withConfig({displayName:"LocationFilters__Wrapper",componentId:"sc-16jo24f-0"})(["opacity:",";pointer-events:",";"],function(e){return e.disabled?"0.7":"1"},function(e){return e.disabled?"none":"all"}),Ei=function(e){function t(){var e,a;w()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=I()(this,(e=S()(t)).call.apply(e,[this].concat(r))),Ye()(T()(a),"onGeoChange",function(e){(0,a.props.dispatch)(oa(0===e.length?null:e))}),a}return L()(t,e),ii()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch;0===e.flattenCategories.length&&t(ra())}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.searchGeo,n=e.venuesLookup,o=e.chainsLookup,i=e.categoriesLookup,l=e.flattenCategories,s=e.isFetchingCategories,c=e.venueIds,u=e.chainIds,p=e.categoryIds,d=e.onVenuesChange,m=e.onChainsChange,g=e.onCategoriesChange;return r.a.createElement(yi,{disabled:t},r.a.createElement(li,null,r.a.createElement(si,null,"Filter by category"),r.a.createElement(vi,{isMulti:!0,options:l,categoriesLookup:i,isLoading:s,onChange:g,categoryIds:p,styles:pe})),r.a.createElement(li,null,r.a.createElement(si,null,"Filter by chain"),r.a.createElement(bi,{isMulti:!0,wait:200,chainsLookup:o,onChange:m,chainIds:u,styles:pe})),r.a.createElement(li,null,r.a.createElement(si,null,"Filter by venue"),r.a.createElement(mi,{wait:200,onChange:this.onGeoChange,value:a,styles:pe}),r.a.createElement("br",null),r.a.createElement(fi,{isMulti:!0,wait:200,venuesLookup:n,venueIds:c,geo:a,onChange:d,styles:pe})))}}]),t}(n.Component);Ye()(Ei,"propTypes",{dispatch:ua.a.func.isRequired,disabled:ua.a.bool,searchGeo:ua.a.object,venuesLookup:ua.a.object.isRequired,chainsLookup:ua.a.object.isRequired,categoriesLookup:ua.a.object,flattenCategories:ua.a.array,isFetchingCategories:ua.a.bool,venueIds:ua.a.array,chainIds:ua.a.array,categoryIds:ua.a.array,onVenuesChange:ua.a.func,onChainsChange:ua.a.func,onCategoriesChange:ua.a.func}),Ye()(Ei,"defaultProps",{disabled:!1,searchGeo:null,categoriesLookup:{},flattenCategories:[],venueIds:[],chainIds:[],categoryIds:[],isFetchingCategories:!1,onVenuesChange:function(){return null},onChainsChange:function(){return null},onCategoriesChange:function(){return null}});var xi=Object(o.b)(function(e){var t=e.apps,a=e.typeaheads,n=t.venuesLookup,r=t.chainsLookup,o=a.categoriesLookup,i=a.flattenCategories,l=a.isFetchingCategories;return{searchGeo:a.searchGeo,venuesLookup:n,chainsLookup:r,categoriesLookup:o,flattenCategories:i,isFetchingCategories:l}})(Ei),wi={all:"All Venue Types",custom:"Customize Venue Types"};function Ci(e){var t=e.dispatch,a=e.appId,o=(e.pilgrim.triggers||[]).find(function(e){return"default"===e.name})||{},i=o.venueIds,l=void 0===i?[]:i,s=o.chainIds,c=void 0===s?[]:s,u=o.categoryIds,p=void 0===u?[]:u,m=Ya()([].concat(d()(l),d()(c),d()(p)))?"all":"custom",g={venueTriggerType:m,venueIds:l,chainIds:c,categoryIds:p},h=pn(g),f=E()(h,2),b=f[0],v=f[1],y=Object(n.useCallback)(function(e){return v({venueTriggerType:e.target.value})},[]),x=Object(n.useCallback)(function(e){return v({categoryIds:e.map(function(e){return e.id})})},[]),w=Object(n.useCallback)(function(e){return v({chainIds:e.map(function(e){return e.id})})},[]),C=Object(n.useCallback)(function(e){return v({venueIds:e.map(function(e){return e.id})})},[]),I=Object(n.useCallback)(function(){return v(g)},[]),k=m!==b.venueTriggerType||!nn()(b,g);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:k}),r.a.createElement(Tn,{title:"Venue Filters",hasChanges:k,onCancel:I,onSave:function(){var e={venueIds:[],chainIds:[],categoryIds:[]};t(yt(a,"snaptoplace","all"===b.venueTriggerType?e:b)).then(function(){"all"===b.venueTriggerType&&v(e)})}},r.a.createElement(ri,{name:"venueTriggerType",options:wi,value:b.venueTriggerType,onChange:y}),r.a.createElement(xi,{disabled:"all"===b.venueTriggerType,venueIds:b.venueIds,chainIds:b.chainIds,categoryIds:b.categoryIds,onVenuesChange:C,onChainsChange:w,onCategoriesChange:x})))}Ci.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object.isRequired};var Ii=Ci;function ki(e){var t=e.dispatch,a=e.appId,o=e.pilgrim,i=e.isFetching;return Object(n.useEffect)(function(){Ya()(o)&&t(ht(a))},[]),i||Ya()(o)?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Visits"),r.a.createElement(Ii,{dispatch:t,appId:a,pilgrim:o}),r.a.createElement(ai,{dispatch:t,appId:a,pilgrim:o}),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/console#snap-to-place",target:"_blank",rel:"noopener noreferrer"},"Learn about Visit Detection")))}ki.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object,isFetching:ua.a.bool},ki.defaultProps={pilgrim:null,isFetching:!1};var Si=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,pilgrim:r.pilgrim,isFetching:r.isFetching}})(ki),Ri=a(52),Ti=a(390);function Oi(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){t.current=e}),t.current}var Li=a(143),_i=a.n(Li);var Ai=a(391),Pi=a.n(Ai),Ni=function(e,t,a){return{type:"FeatureCollection",features:e.map(function(e){return function(e,t,a){return{type:"Feature",geometry:a&&a(e),properties:t&&t(e)}}(e,t,a)})}},ji=function(e){var t=e.geometry,a=t.coordinates,n=t.type;if("Point"===n){var r=E()(a,2),o=r[0];return{latitude:r[1],longitude:o}}if("Polygon"===n){var i=Pi()(a),l=E()(i,2),s=l[0];return{latitude:l[1],longitude:s}}return null},Fi=function(e){return e*(Math.PI/180)},Di=function(e,t){if(!e||!t)return 0;var a=e.latitude,n=e.longitude,r=t.latitude,o=t.longitude;if(void 0===a||void 0===n||void 0===r||void 0===o)return 0;if(null===a||null===n||null===r||null===o)return 0;var i=Fi(a),l=Fi(r),s=Fi(r-a),c=Fi(o-n),u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i)*Math.cos(l)*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},qi=a(394),Ui=X.b.div.withConfig({displayName:"GeofenceInfo__PageCountDiv",componentId:"pvtw21-0"})(["font-size:12px;"]),Mi=X.b.div.withConfig({displayName:"GeofenceInfo__GeofenceInfoContainer",componentId:"pvtw21-1"})(["padding:16px;font-size:12px;> div{margin-bottom:4px;}"]),Bi=X.b.div.withConfig({displayName:"GeofenceInfo__VenueContent",componentId:"pvtw21-2"})(["padding-top:8px;padding-bottom:4px;"]),Gi=X.b.a.withConfig({displayName:"GeofenceInfo__VenueLink",componentId:"pvtw21-3"})(["text-decoration:'underline';"]),Hi=function(e){var t=e.currentSlide,a=e.slideCount;return r.a.createElement(Ui,null,t+1,"/",a)},zi=function(e){var t=e.previousSlide;return e.currentSlide>0?r.a.createElement("i",{className:"icon i-backward-regular",onClick:t}):null},Vi=function(e){var t=e.nextSlide;return e.currentSlide+1<e.slideCount?r.a.createElement("i",{className:"icon i-forward-regular",onClick:t}):null};function Wi(e){var t=e.features,a=e.onGeofenceChange,o=t?t.length:0,i=Object(n.useMemo)(function(){return o>1},[o]),l=Object(n.useMemo)(function(){return t.map(function(e){var t=e.properties,a=t.venueName,n=t.venueId,o=t.name,i=t.radius,l=t.dwellTime;return r.a.createElement(Mi,{key:n},r.a.createElement("div",null,o),a&&n&&r.a.createElement(Bi,null,r.a.createElement(Gi,{href:"https://foursquare.com/v/".concat(n),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("b",null,a))),i&&r.a.createElement("div",null,i,"m radius"),l&&r.a.createElement("div",null,l," min dwell time"))})},[t]);return r.a.createElement(qi.a,{heightMode:"current",width:"200px",speed:100,swiping:!1,renderBottomCenterControls:i?Hi:null,renderCenterLeftControls:i?zi:null,renderCenterRightControls:i?Vi:null,afterSlide:a},l)}Hi.propTypes={currentSlide:ua.a.number.isRequired,slideCount:ua.a.number.isRequired},Wi.propTypes={features:ua.a.array.isRequired,onGeofenceChange:ua.a.func.isRequired};var Ki=X.b.span.withConfig({displayName:"LocationPulse",componentId:"ie8k9d-0"})(["animation:pulse-animation 1.5s infinite;background:",";border:3px solid ",";border-radius:50%;display:block;width:12px;height:12px;"],ae.TURQUOISE,ae.WHITE),Yi=Object(X.b)(Ri.b).withConfig({displayName:"GeofencesMap__StyledNavControl",componentId:"sc-359ff5-0"})(["position:absolute;left:20px;top:20px;"]),Qi=X.b.div.withConfig({displayName:"GeofencesMap__LocationControl",componentId:"sc-359ff5-1"})(["display:flex;position:absolute;right:20px;top:20px;"]),$i=X.b.div.withConfig({displayName:"GeofencesMap__Status",componentId:"sc-359ff5-2"})(["bottom:20px;display:flex;position:absolute;left:50%;transform:translateX(-50%);"]),Zi=Object(X.b)(Ia).withConfig({displayName:"GeofencesMap__SnapToLocButton",componentId:"sc-359ff5-3"})(["width:48px;height:40px;padding:0;> i{animation-name:translate-spin;"," "," @keyframes translate-spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}}"],function(e){return e.loading?"animation-duration: 1s;":""},function(e){return e.loading?"animation-iteration-count: infinite;":""}),Ji={latitude:fourSq.config.user.USER_LAT||40.7128,longitude:fourSq.config.user.USER_LNG||-74.006},Xi=1e3,el=function(e){return{id:e.id,name:e.name,dwellTime:e.dwellTime}},tl=function(e){return{type:"Polygon",coordinates:[e.boundary.points.map(function(e){return[e.lng,e.lat]})]}},al=function(e){var t=e.boundary.center,a=t.lat;return{type:"Point",coordinates:[t.lng,a]}},nl="unclustered-point",rl="unclustered-point-selected",ol=function(e,t){return t&&t.length?[e,"id"].concat(d()(t)):[e,"id",""]},il=function(e){return["all",["!has","point_count"],ol("!in",e)]},ll=function(e,t,a,n){var r=Ni(t,function(e){return function(t){var a,n,r=t.name,o=t.boundary,i=t.id,l=t.venueId,s=t.venue,c=t.dwellTime,u=o.radius;return{id:l?"".concat(i,"-").concat(l):i,name:r,venueName:s?s.name:"",venueId:l,radiusAtMaxZoom:(a=u,n=e,a/.075/Math.cos(n*Math.PI/180)),selected:!1,radius:u,dwellTime:c}}}(a),al),o=e.getSource("geofences-circle");o?o.setData(r):e&&e._loaded&&(e.addSource("geofences-circle",{type:"geojson",data:r,cluster:!0,clusterRadius:40,clusterMaxZoom:n-3,clusterProperties:{maxRadius:["max",["get","radiusAtMaxZoom"]]}}),e.addLayer({id:"clusters",type:"circle",source:"geofences-circle",filter:["has","point_count"],paint:{"circle-color":se,"circle-radius":20}}),e.addLayer({id:"cluster-count",type:"symbol",source:"geofences-circle",filter:["has","point_count"],layout:{"text-field":"{point_count}","text-size":14},paint:{"text-color":ue}}),e.addLayer({id:nl,type:"circle",source:"geofences-circle",filter:il([]),paint:{"circle-color":oe,"circle-radius":["interpolate",["exponential",2],["zoom"],0,0,20,["get","radiusAtMaxZoom"]],"circle-stroke-width":1,"circle-stroke-color":ie,"circle-pitch-alignment":"map"}}),e.addLayer({id:rl,type:"circle",source:"geofences-circle",filter:["in","id",""],paint:{"circle-color":le,"circle-radius":["interpolate",["exponential",2],["zoom"],0,0,20,["get","radiusAtMaxZoom"]],"circle-stroke-width":1,"circle-stroke-color":ce,"circle-stroke-opacity":1,"circle-pitch-alignment":"map"}}))},sl="polygon-layer",cl="polygon-selected-layer",ul="polygon-line-layer",pl="polygon-selected-line-layer",dl=function(e,t){var a=Ni(t,el,tl),n=e.getSource("geofences-polygon");n?n.setData(a):e&&e._loaded&&(e.addSource("geofences-polygon",{type:"geojson",data:a}),e.addLayer({id:sl,type:"fill",source:"geofences-polygon",filter:ol("!in",[]),paint:{"fill-color":oe}}),e.addLayer({id:ul,type:"line",source:"geofences-polygon",filter:ol("!in",[]),paint:{"line-color":ie,"line-width":1}}),e.addLayer({id:cl,type:"fill",source:"geofences-polygon",filter:ol("in",[]),paint:{"fill-color":le}}),e.addLayer({id:pl,type:"line",source:"geofences-polygon",filter:ol("in",[]),paint:{"line-color":ce,"line-width":1}}))};function ml(e){var t=e.appId,a=Object(n.useState)(null),o=E()(a,2),i=o[0],l=o[1],s=Oi(i),c=Object(n.useState)(!1),u=E()(c,2),p=u[0],d=u[1],m=Object(n.useState)(null),h=E()(m,2),f=h[0],b=h[1],v=Object(n.useState)(null),y=E()(v,2),x=y[0],w=y[1],C=Object(n.useState)(null),I=E()(C,2),k=I[0],S=I[1],R=Object(n.useState)(!1),T=E()(R,2),O=T[0],L=T[1],_=Object(n.useState)(!1),A=E()(_,2),P=A[0],N=A[1],j=Object(n.useState)(null),F=E()(j,2),D=F[0],q=F[1],U=Object(n.useState)(null),M=E()(U,2),B=M[0],G=M[1],H=Object(n.useState)(null),z=E()(H,2),V=z[0],W=z[1],K=function(e){var t=Object(n.useState)(e),a=E()(t,2),r=a[0],o=a[1],i=Object(n.useRef)(null),l=i.current,s=Object(n.useState)(null),c=E()(s,2),u=c[0],p=c[1],d=Object(n.useCallback)(function(e){return o(e)},[]),m=r.latitude,g=r.longitude,h=r.zoom,f=Object(n.useMemo)(function(){return l?_i.a.bounds([g,m],h,[l._width,l._height]):[]},[m,g,l,h]);return Object(n.useEffect)(function(){return p(i&&i.current.getMap())},[i]),[i,u,d,r,o,f]}(g()({width:"100%",height:"400px",zoom:12},Ji)),Y=E()(K,6),Q=Y[0],$=Y[1],Z=Y[2],J=Y[3],X=Y[4],ee=Y[5],te=Object(Ti.useDebounce)(J,320),ae=E()(te,1)[0],ne=Oi(ae),re=Object(n.useCallback)(function(e){X(function(t){return g()({},e,{maxZoom:t.maxZoom,minZoom:t.minZoom})})},[X]),oe=Object(n.useMemo)(function(){return Di(ae,ne)>Xi},[ae,ne]),ie=Object(n.useMemo)(function(){return Math.round(100*J.latitude)/100},[J.latitude]),le=Object(n.useMemo)(function(){return!(!s&&!i)&&(!(s||!i)||s.latitude!==i.latitude&&s.longitude!==i.longitude)},[i,s]),se=Object(n.useMemo)(function(){return i&&ae.latitude===i.latitude&&ae.longitude===i.longitude},[i,ae.latitude,ae.longitude]),ce=Object(n.useCallback)(function(e){if(b(e),e){var t=e.feature.geometry.center;X(function(e){return g()({},e,{latitude:t.lat,longitude:t.lng})})}},[X]),ue=Object(n.useCallback)(function(e){var t=e.circularGeofences,a=e.polygonGeofences,n=e.minLevel,r=e.maxLevel;X(function(e){return g()({},e,{maxZoom:r+2,minZoom:n})}),w(t||[]),S(a||[]),G([]),N(!1),L(!1)},[X]),de=Object(n.useCallback)(function(){L(!1),N(!0)},[]),me=Object(n.useCallback)(function(){L(!0),at.getGeofencesVisualizer(t,ee).then(ue).catch(de)},[t,ee,de,ue]),ge=Object(n.useCallback)(function(){d(!0),navigator.geolocation.getCurrentPosition(function(e){d(!1),l({latitude:e.coords.latitude,longitude:e.coords.longitude})},function(){d(!1)})},[]),he=Object(n.useCallback)(function(e){if(e){var t=e.point,a=e.lngLat,n=E()(t,2),r=n[0],o=n[1],i=E()(a,2),l=i[0],s=i[1],c=[[r-5,o-5],[r+5,o+5]],u=$.queryRenderedFeatures(c,{layers:[nl,sl]});q({latitude:s,longitude:l}),G(u),W(u&&u.length?[u[0]]:[])}},[$]),fe=Object(n.useCallback)(function(){G([]),q(null),W([])},[]),be=Object(n.useCallback)(function(e){var t=B[e],a=ji(t);W([t]),a&&q(a)},[B]);Object(n.useEffect)(function(){if($&&V){var e=V.map(function(e){return e.properties.id}),t=ol("in",e),a=ol("!in",e);$.setFilter(nl,il(e)),$.setFilter(rl,t),$.getLayer(sl)&&$.setFilter(sl,a),$.getLayer(ul)&&$.setFilter(ul,a),$.getLayer(cl)&&$.setFilter(cl,t),$.getLayer(pl)&&$.setFilter(pl,t)}},[$,V]),Object(n.useEffect)(function(){null===x&&null===k&&ee.length>0&&me()},[ee.length,x,me,k]),Object(n.useEffect)(function(){if(i){var e=i.latitude,t=i.longitude;X(function(a){return g()({},a,{latitude:e,longitude:t})})}},[i,X]),Object(n.useEffect)(function(){oe&&(f?(me(),b(null)):le||se?me():N(!0))},[me,le,oe,se,f]),Object(n.useEffect)(function(){x&&ll($,x,ie,J.maxZoom)},[x,$,ie,J.maxZoom]),Object(n.useEffect)(function(){k&&dl($,k)},[$,k]);var ve=Object(n.useMemo)(function(){var e=[];return x&&e.push(nl),k&&e.push(sl),e},[x,k]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ri.d,va()({ref:Q},J,{mapStyle:"mapbox://styles/foursquare/cjrtr84nuk2ez2spa3tnsv9yr",onViewportChange:Z,onNativeClick:he,interactiveLayerIds:ve}),B&&B.length>0&&r.a.createElement(Ri.c,va()({},D,{closeButton:!0,closeOnClick:!1,onClose:fe}),r.a.createElement(Wi,{features:B,onGeofenceChange:be})),i&&r.a.createElement(Ri.a,{latitude:i.latitude,longitude:i.longitude,offsetLeft:-7.5,offsetTop:-7.5},r.a.createElement(Ki,{title:"Your current Location"})),r.a.createElement(Yi,{showZoom:!0,showCompass:!1,onViewportChange:re,captureClick:!0}),r.a.createElement(Qi,null,r.a.createElement(Zi,{loading:p,onClick:ge},r.a.createElement("i",{className:"icon i-snap-to-me-regular"})),r.a.createElement(mi,{wait:500,onChange:ce,value:f,styles:pe,placeholder:"Navigate to location",width:"100px"})),(P||O)&&r.a.createElement($i,null,r.a.createElement(Ia,{outline:!0,onClick:me,disabled:O,loading:O,loadingLabel:"",background:"rgba(255,255,255,0.8)"},"Refresh"))))}ml.propTypes={appId:ua.a.string.isRequired};var gl=X.b.div.withConfig({displayName:"GeofencesTable__Wrapper",componentId:"e0yoi-0"})([".ReactTable .rt-tr:hover .rt-td{background:",";}"],ae.LIGHT_GREY);function hl(e){var t=e.history,a=e.appId,n=e.geofences;return r.a.createElement(gl,null,r.a.createElement(xr,{minRows:n.length>0?Math.min(n.length,10):3,noDataText:"You have no geofences on record",data:n,columns:[{Header:"Geofence Name",accessor:"name",headerStyle:{paddingLeft:24},style:{paddingLeft:24},width:350},{Header:"Geofence ID",accessor:"id"}],getTrProps:function(e,n){return e?{onClick:function(){t.push("/apps/".concat(a,"/pilgrim/config/geofences/builder/").concat(n.original.id))}}:{}}}))}hl.propTypes={history:ua.a.object.isRequired,appId:ua.a.string.isRequired,geofences:ua.a.array.isRequired};var fl=hl,bl=Object(X.b)(da.b).withConfig({displayName:"AppPilgrimGeofencesPage__AddNewGeofenceLink",componentId:"sc-1l5dz32-0"})(["position:absolute;top:0;right:0;font-family:",";"],te.BROWN_PRO_BOLD);function vl(e){var t=e.dispatch,a=e.history,o=e.isFetching,i=e.appId,l=e.pilgrim;return Object(n.useEffect)(function(){Ya()(l)&&t(ht(i))},[]),o||Ya()(l)?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Geofences"),r.a.createElement(Tn,{noPadding:!0,title:"Active Geofences"},r.a.createElement(bl,{to:"/apps/".concat(i,"/pilgrim/config/geofences/builder")},"Add New Geofence(s)"),r.a.createElement(ml,{appId:i})),r.a.createElement(Tn,{noPadding:!0},r.a.createElement(fl,{history:a,appId:i,geofences:l.geofences.items})),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/geofences",target:"_blank",rel:"noopener noreferrer"},"Learn about Geofences")))}vl.propTypes={dispatch:ua.a.func.isRequired,history:ua.a.object.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object,isFetching:ua.a.bool},vl.defaultProps={pilgrim:null,isFetching:!1};var yl=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,pilgrim:r.pilgrim,isFetching:r.isFetching}})(vl);function El(e){var t=e.text,a=e.onClick,n=null!==a;return r.a.createElement(si,{onClick:a,clickable:n},t,r.a.createElement("i",null,"*")," ")}El.propTypes={text:ua.a.string.isRequired,onClick:ua.a.func},El.defaultProps={onClick:function(){}};var xl=El,wl=a(98),Cl=a.n(wl),Il=a(94),kl=a.n(Il),Sl=a(146),Rl=a.n(Sl),Tl=a(138),Ol=a.n(Tl),Ll=a(703),_l=a(704),Al=a(706),Pl=X.b.div.withConfig({displayName:"AlertModal__Wrapper",componentId:"sc-1xm8zp6-0"})(["background:rgba(0,0,0,0.6);position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;width:100%;z-index:3;"]);function Nl(e){var t=e.showModal,a=e.onDismiss;return t?r.a.createElement(Pl,{onClick:a},r.a.createElement(Tn,null,r.a.createElement("p",null,"Click on the map to begin drawing a geofence, or enter a set of lat long coordinates above."),r.a.createElement(Ia,{text:!0},"Dismiss"))):null}Nl.propTypes={showModal:ua.a.bool.isRequired,onDismiss:ua.a.func.isRequired};var jl=[{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":4}},{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#5FBEBF","fill-outline-color":"#FFFFFF","fill-opacity":.8}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-width":4}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":8,"circle-color":"#FFF"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#5FBEBF"}}],Fl=X.b.div.withConfig({displayName:"GeofencesMap__Wrapper",componentId:"zakn4k-0"})(["position:relative;margin:0 -48px -24px -48px;.overlays{pointer-events:none;}.mapboxgl-ctrl-top-right{top:60px;right:10px;}#mapbox-gl-container{width:100%;height:400px;}"]),Dl=X.b.div.withConfig({displayName:"GeofencesMap__LocationControl",componentId:"zakn4k-1"})(["display:flex;position:absolute;right:20px;top:20px;"]),ql=Object(X.b)(Ia).withConfig({displayName:"GeofencesMap__SnapToLocButton",componentId:"zakn4k-2"})(["width:48px;height:40px;padding:0;> i{animation-name:translate-spin;"," "," @keyframes translate-spin{from{transform:rotate(0 deg);}to{transform:rotate(360deg);}}}"],function(e){return e.loading?"animation-duration: 1s;":""},function(e){return e.loading?"animation-iteration-count: infinite;":""}),Ul=[fourSq.config.user.USER_LNG||-74.006,fourSq.config.user.USER_LAT||40.7128];function Ml(e){var t=e.geofenceType,a=e.circleLatLng,o=e.polygonLatLngs,i=e.radius,l=e.setParentState,s=e.isEditMode,c=Object(n.useRef)(),u=Object(n.useRef)(),p=pn({showModal:!s,searchGeo:null,isSnappingLoc:!1,mapCenter:Ul,editingOnMap:!1}),d=E()(p,2),m=d[0],h=d[1],f=m.showModal,b=m.searchGeo,v=m.isSnappingLoc,y=m.mapCenter,x=m.editingOnMap,w=Object(n.useCallback)(function(){if(u.current){h({editingOnMap:!0});var e=u.current.getAll().features[0],t=e.geometry,a=e.properties;a.isCircle?l({geofenceLatLng:"".concat(a.center[1],", ").concat(a.center[0]),geofenceRadius:Math.round(1e3*a.radiusInKm),geofenceLatLngError:""}):l({polygonLatLngs:t.coordinates[0].map(function(e){return e.reverse()}).join("; "),polygonLatLngsError:""})}},[u.current]);Object(n.useEffect)(function(){var e=new Cl.a.Map({container:"mapbox-gl-container",style:"mapbox://styles/foursquare/cjrtr84nuk2ez2spa3tnsv9yr",center:y,zoom:14}),a=new Cl.a.NavigationControl({showCompass:!1});e.addControl(a,"top-left");var n=new kl.a({displayControlsDefault:!1,controls:{trash:!0},userProperties:!0,styles:jl,modes:g()({},kl.a.modes,{draw_circle:Ll,direct_select:_l,simple_select:Al})});e.addControl(n);var r=function(){"radius"===t?n.changeMode("draw_circle"):"polygon"===t&&n.changeMode("draw_polygon")};e.on("draw.create",w),e.on("draw.update",w),e.on("draw.delete",function(){r(),l({geofenceLatLng:"",geofenceLatLngError:"",polygonLatLngs:"",polygonLatLngsError:""})}),e.on("draw.modechange",function(){0===u.current.getAll().features.length&&r()}),c.current=e,u.current=n,s||(u.current.deleteAll(),r())},[t]),Object(n.useEffect)(function(){c.current.jumpTo({center:y})},[y]);var C=Object(n.useCallback)(function(e){return e.split(",").reverse().map(Number)},[]),I=function(e,t){u.current.deleteAll(),u.current.add(e),x||c.current.jumpTo({center:t}),u.current.changeMode("simple_select"),h({editingOnMap:!1})};Object(n.useEffect)(function(){if("radius"===t)if(i>0&&a){h({showModal:!1});var e=C(a);if(!function(e){return 2===e.length&&!e.some(Number.isNaN)&&e[0]<=180&&e[0]>=-180&&e[1]>=-90&&e[1]<=90}(e))return void l({geofenceLatLngError:"invalid latitude, logitude"});var n=function(e,t){var a=t/1e3,n=Ol()(e,a);return n.properties={type:"Feature",isCircle:!0,radiusInKm:a,center:e},Rl.a.isPolygon(n.geometry,function(e,t){return l({geofenceLatLngError:t[0]||""})})&&Rl.a.isFeature(n)?n:null}(e,i);if(!n)return;I(n,e)}else u.current.deleteAll(),u.current.changeMode("draw_circle")},[i,a,t]),Object(n.useEffect)(function(){if("polygon"===t)if(o){h({showModal:!1});var e=o.split(";").map(function(e){return C(e)}),a=function(e){return Rl.a.isPolygonCoor([e],function(e,t){return l({polygonLatLngsError:t[0]||""})})?{type:"Feature",geometry:{coordinates:[e],type:"Polygon"},properties:{}}:null}(e);if(!a)return;I(a,e[0])}else u.current.deleteAll(),u.current.changeMode("draw_polygon")},[o,t]);var k=Object(n.useCallback)(function(e){if(h({searchGeo:e}),e){var t=e.feature.geometry.center;h({mapCenter:[t.lng,t.lat],searchGeo:null})}},[]),S=Object(n.useCallback)(function(){h({isSnappingLoc:!0}),navigator.geolocation.getCurrentPosition(function(e){h({isSnappingLoc:!1,mapCenter:[e.coords.longitude,e.coords.latitude]})},function(){h({isSnappingLoc:!1})})},[]);return r.a.createElement(Fl,null,r.a.createElement(Nl,{showModal:f,onDismiss:function(){return h({showModal:!1})}}),r.a.createElement("div",{id:"mapbox-gl-container"}),r.a.createElement(Dl,null,r.a.createElement(ql,{loading:v,onClick:S},r.a.createElement("i",{className:"icon i-snap-to-me-regular"})),r.a.createElement(mi,{wait:500,onChange:k,value:b,styles:pe,placeholder:"Navigate to location",width:"100px"})))}Cl.a.accessToken="pk.eyJ1IjoiZm91cnNxdWFyZSIsImEiOiJjanJpNGl5Z2cwNWZpM3lvemttNHBnMm9zIn0.GKcn0S8_mlMDriDE18XO9Q",Ml.propTypes={setParentState:ua.a.func.isRequired,geofenceType:ua.a.string,circleLatLng:ua.a.string,polygonLatLngs:ua.a.string,radius:ua.a.number,isEditMode:ua.a.bool},Ml.defaultProps={geofenceType:"",circleLatLng:"",polygonLatLngs:"",radius:100,isEditMode:!1};var Bl=Ml,Gl=200,Hl={venue:"Venue",chain:"Chain",category:"Category",radius:"Circle",polygon:"Polygon"},zl=X.b.div.withConfig({displayName:"AppPilgrimGeofencesBuilderPage__FormContent",componentId:"sc-5gbmjs-0"})(["display:flex;flex-direction:row;align-items:top;justify-content:space-between;"]),Vl=X.b.div.withConfig({displayName:"AppPilgrimGeofencesBuilderPage__Left",componentId:"sc-5gbmjs-1"})(["width:80%;"]),Wl=X.b.div.withConfig({displayName:"AppPilgrimGeofencesBuilderPage__Right",componentId:"sc-5gbmjs-2"})(["width:18%;"]);function Kl(e){var t=e.dispatch,a=e.apps,o=e.history,i=e.appId,l=e.isFetching,s=e.typeaheads,c=e.searchGeo,u=e.currentGeofence,p=e.pilgrim,d=a.venuesLookup,m=a.chainsLookup,g=s.categoriesLookup,h=s.flattenCategories,f=s.isFetchingCategories,b=null!==u;Object(n.useEffect)(function(){Ya()(p)&&t(ht(i)),Ya()(h)&&t(ra())},[]);var v=Object(n.useRef)(null),y=Object(n.useRef)(null),x=Object(n.useRef)(null),w=Object(n.useMemo)(function(){return function(e){if(!e)return{geofenceType:"venue",geofenceName:null,geofenceRadius:100,geofenceDwellTime:1,venueId:null,chainId:null,categoryId:null,geofenceLatLng:"",polygonLatLngs:"",geofenceLatLngError:"",polygonLatLngsError:""};var t=Je()(e,"venueIds[0]",null),a=Je()(e,"chainIds[0]",null),n=Je()(e,"categoryIds[0]",null),r="polygon";t?r="venue":a?r="chain":n?r="category":"LatLng"===e.type&&(r="radius");var o="radius"===r?"".concat(e.boundary.center.lat,",").concat(e.boundary.center.lng):null,i="polygon"===r?e.boundary.points.map(function(e){return"".concat(e.lat,",").concat(e.lng)}).join(";"):null;return{geofenceId:e.id,geofenceType:r,geofenceName:e.name,geofenceRadius:"polygon"!==r?e.boundary.radius:null,geofenceDwellTime:e.dwellTime,venueId:t,chainId:a,categoryId:n,geofenceLatLng:o,polygonLatLngs:i,polygonLatLngsError:"",geofenceLatLngError:""}}(u)},[u]),C=pn(w),I=E()(C,2),k=I[0],S=I[1];Object(n.useEffect)(function(){return S(w)},[u]);var R,T=Boolean((k.venueId||k.chainId||k.categoryId||k.geofenceLatLng)&&k.geofenceRadius||k.polygonLatLngs),O=!nn()(k,w),L=T&&k.geofenceDwellTime>0&&!(!(R=k.geofenceName)||0===R.length||!R.trim())&&!k.geofenceLatLngError&&!k.polygonLatLngsError;if(l)return r.a.createElement($a,null);var _=b?"Edit Geofence":"New Geofence",A="radius"===k.geofenceType||"polygon"===k.geofenceType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:O}),r.a.createElement("h1",null,r.a.createElement(da.b,{to:"/apps/".concat(i,"/pilgrim/config/geofences")},"Geofences")," / ",_),r.a.createElement(Tn,{title:_,hasChanges:!0,disableSaveButton:!O||!L,onCancel:function(){o.push("/apps/".concat(i,"/pilgrim/config/geofences"))},onSave:function(){var e={name:k.geofenceName,radius:k.geofenceRadius,dwellTime:k.geofenceDwellTime,center:k.geofenceLatLng,polygon:k.polygonLatLngs,venueId:k.venueId,chainId:k.chainId,categoryId:k.categoryId},a={};Object.keys(e).filter(function(t){return!!e[t]}).reduce(function(t,n){return a[n]=e[n],t},{}),b?at.editGeofence(i,k.geofenceId,a).then(function(){t(ht(i)),o.push("/apps/".concat(i,"/pilgrim/config/geofences")),me.success()}).catch(function(e){me.error(r.a.createElement(r.a.Fragment,null,"Failed to edit geofence ",k.geofenceId,". ",r.a.createElement("br",null)," ",e.message))}):at.createNewGeofence(i,a).then(function(){t(ht(i)),o.push("/apps/".concat(i,"/pilgrim/config/geofences")),me.success()}).catch(function(e){me.error(r.a.createElement(r.a.Fragment,null,"Failed to create new geofence. ",r.a.createElement("br",null)," ",e.message))})}},r.a.createElement("h6",null,"Configuration Method"),r.a.createElement(ri,{horizontal:!0,label:"Geofence Type",name:"geofenceType",options:Hl,value:k.geofenceType,onChange:function(e){var t="polygon"===e.target.value,a={geofenceType:e.target.value,geofenceName:k.geofenceName,geofenceRadius:t?null:100,geofenceDwellTime:1,venueId:null,chainId:null,categoryId:null,geofenceLatLng:"",polygonLatLngs:"",geofenceLatLngError:"",polygonLatLngsError:""};S(a)},disabled:b}),r.a.createElement(zl,{id:"geofence__form"},r.a.createElement(Vl,null,r.a.createElement(cn,{label:"Geofence Name",value:k.geofenceName||"",onChange:function(e){return S({geofenceName:e.target.value})},helpText:"e.g. City - Description",required:!0}),"venue"===k.geofenceType&&r.a.createElement(li,null,r.a.createElement(xl,{text:"Venue",onClick:function(){v&&v.current.focus()}}),r.a.createElement(mi,{wait:Gl,onChange:function(e){t(oa(0===e.length?null:e))},value:c,styles:pe,customRef:v}),r.a.createElement("br",null),r.a.createElement(fi,{wait:Gl,venuesLookup:d,venueIds:[k.venueId],geo:c,onChange:function(e){return S({venueId:e.map(function(e){return e.id})[0]})},styles:pe})),"chain"===k.geofenceType&&r.a.createElement(li,null,r.a.createElement(xl,{text:"Chain",onClick:function(){y&&y.current.focus()}}),r.a.createElement(bi,{wait:Gl,chainsLookup:m,onChange:function(e){return S({chainId:e.map(function(e){return e.id})[0]})},chainIds:[k.chainId],styles:pe,customRef:y})),"category"===k.geofenceType&&r.a.createElement(li,null,r.a.createElement(xl,{text:"Category",onClick:function(){x&&x.current.focus()}}),r.a.createElement(vi,{options:h,categoriesLookup:g,isLoading:f,onChange:function(e){return S({categoryId:e.id})},categoryIds:[k.categoryId],styles:pe,customRef:x})),"radius"===k.geofenceType&&r.a.createElement(cn,{label:"Latitude, Longitude",value:k.geofenceLatLng,onChange:function(e){return S({geofenceLatLng:e.target.value})},style:{display:"inline"},placeholder:"e.g. 40.7350,-73.9920",error:k.geofenceLatLngError,required:!0}),"polygon"===k.geofenceType&&r.a.createElement(cn,{label:"Points",value:k.polygonLatLngs,onChange:function(e){return S({polygonLatLngs:e.target.value})},style:{display:"inline"},placeholder:"e.g. 37.7864,-122.4144;37.7824,-122.41934;37.7824,-122.4053;37.7864,-122.4144",helpText:"Provide a semi-colon seperated list of at least 4 latitude and longitude pairs. Make sure that the first and last points match. Polygons are drawn in the order of points provided.",error:k.polygonLatLngsError,required:!0})),r.a.createElement(Wl,null,r.a.createElement(cn,{type:"number",label:"Dwell Time",value:k.geofenceDwellTime,onChange:function(e){return S({geofenceDwellTime:parseInt(e.target.value,10)})},helpText:"In minutes.",style:{display:"inline"},required:!0}),"polygon"!==k.geofenceType&&r.a.createElement(cn,{type:"number",label:"Radius",value:k.geofenceRadius,onChange:function(e){return S({geofenceRadius:parseInt(e.target.value,10)})},helpText:"In meters.",style:{display:"inline"},required:!0}))),A&&r.a.createElement(Bl,{geofenceType:k.geofenceType,circleLatLng:k.geofenceLatLng,polygonLatLngs:k.polygonLatLngs,radius:k.geofenceRadius,setParentState:S,isEditMode:b})),b&&r.a.createElement(Tn,{title:"Delete Geofence"},r.a.createElement("p",null,"Deleting geofences is an irreversible action. Upon pressing delete, you will recieve a final prompt before permanently deleting this geofence."),r.a.createElement(Ia,{danger:!0,onClick:function(){window.confirm(" Are you sure you want to delete this geofence?")&&at.deleteGeofence(i,k.geofenceId).then(function(){t(ht(i)),o.push("/apps/".concat(i,"/pilgrim/config/geofences")),me.success()}).catch(function(e){me.error(r.a.createElement(r.a.Fragment,null,"Failed to delete geofence. ",r.a.createElement("br",null)," ",e.message))})}},"Delete this geofence")))}Kl.propTypes={dispatch:ua.a.func.isRequired,apps:ua.a.object.isRequired,history:ua.a.object.isRequired,appId:ua.a.string.isRequired,typeaheads:ua.a.object.isRequired,isFetching:ua.a.bool,searchGeo:ua.a.object,currentGeofence:ua.a.object,pilgrim:ua.a.object},Kl.defaultProps={isFetching:!1,searchGeo:null,currentGeofence:null,pilgrim:null};var Yl=Object(o.b)(function(e,t){var a=e.apps,n=e.typeaheads,r=t.match.params,o=r.id,i=r.geofenceId,l=a.byId[o]||{};return{appId:o,apps:a,typeaheads:n,currentGeofence:Je()(l,"pilgrim.geofences.items",[]).find(function(e){return e.id===i}),pilgrim:l.pilgrim,searchGeo:n.searchGeo,isFetching:l.isFetching}})(Kl),Ql=X.b.div.withConfig({displayName:"SettingsTile__InlineContainer",componentId:"xwqjtr-0"})(["display:flex;flex-direction:row;button{margin:26px 0 0 24px;}"]),$l=[{value:"v1",label:"V1"},{value:"v2",label:"V2"}];function Zl(e){for(var t=Math.pow(16,Math.min(e,8)-1),a=Math.pow(16,Math.min(e,8))-1,n=(Math.floor(Math.random()*(a-t+1))+t).toString(16);n.length<e;)n+=Zl(e-8);return n}function Jl(e){var t=e.dispatch,a=e.appId,o=e.pilgrim,i={webhookUrl:o.webhookUrl,webhookVersion:o.webhookVersion,webhookSecret:o.webhookSecret},l=pn(i),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useMemo)(function(){return $l.find(function(e){return e.value===c.webhookVersion})},[c.webhookVersion]),d=Object(n.useCallback)(function(e){return u({webhookUrl:e.target.value})},[]),m=Object(n.useCallback)(function(e){return u({webhookVersion:e.value})},[]),g=Object(n.useCallback)(function(){return u({webhookSecret:Zl(24)})},[]),h=Object(n.useCallback)(function(){return u(i)},[]),f=!nn()(c,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:f}),r.a.createElement(Tn,{title:"Webhook Settings",hasChanges:f,onCancel:h,onSave:function(){t(yt(a,"webhook",c))}},r.a.createElement(cn,{label:"URL",value:c.webhookUrl,onChange:d}),r.a.createElement(Gn,{label:"Version",value:p,options:$l,onChange:m}),r.a.createElement(Ql,null,r.a.createElement(cn,{readOnly:!0,label:"Generate Pilgrim Secret",helpText:"The unique Pilgrim-Secret string will be included in every POST request",value:c.webhookSecret}),r.a.createElement(Ia,{outline:!0,onClick:g},"Regenerate"))))}Jl.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object.isRequired};var Xl=Jl,es=X.b.div.withConfig({displayName:"StatusTile__Content",componentId:"u3vijn-0"})(["h3{display:inline-block;&.healthy{color:",";}&.unhealthy{color:",";}&.degraded{color:",";}}"],ae.TURQUOISE,re,ne),ts=X.b.div.withConfig({displayName:"StatusTile__TimeStamp",componentId:"u3vijn-1"})(["font-size:13px;opacity:0.55;"]),as=X.b.div.withConfig({displayName:"StatusTile__WebhookStatus",componentId:"u3vijn-2"})(["display:inline-block;height:12px;width:12px;border-radius:50%;margin-right:24px;&.unhealthy{background-color:rgb(255,75,62);animation:unhealthy-pulse 1s infinite;@keyframes unhealthy-pulse{0%{box-shadow:0 0 0 0px rgba(255,75,62,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(255,75,62,0);}}}&.degraded{background-color:rgb(249,202,72);animation:degraded-pulse 1s infinite;@keyframes degraded-pulse{0%{box-shadow:0 0 0 0px rgba(249,202,72,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(249,202,72,0);}}}&.healthy{background-color:rgb(123,240,235);animation:healthy-pulse 1s infinite;@keyframes healthy-pulse{0%{box-shadow:0 0 0 0px rgba(123,240,235,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(123,240,235,0);}}}"]);function ns(e){var t,a=e.webhookHealth,n=a.status,o=a.successRate,i=a.success,l=a.failure,s=a.since,c=a?new Date(s):null;return r.a.createElement(Tn,{title:"Webhook Status"},r.a.createElement(es,null,r.a.createElement(as,{className:Ea()({webhookStatus:!0,healthy:"healthy"===n,degraded:"degraded"===n,unhealthy:"unhealthy"===n})}),r.a.createElement("h3",{className:Ea()({webhookStatus:!0,healthy:"healthy"===n,degraded:"degraded"===n,unhealthy:"unhealthy"===n})},(t=n).charAt(0).toUpperCase()+t.slice(1)),r.a.createElement(as,null)),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*o)/100,"% ")," Successful ",r.a.createElement("br",null),r.a.createElement("b",null,i)," Successful requests (past hour)",r.a.createElement("br",null),r.a.createElement("b",null,l)," Failed requests (past hour)",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(ts,null," Last updated: ",c.toLocaleString()," "),r.a.createElement("br",null))}ns.propTypes={webhookHealth:ua.a.object.isRequired};var rs=ns;function os(e){var t=e.dispatch,a=e.isFetching,o=e.appId,i=e.pilgrim,l=e.showIntegrationWebhookStatus;if(Object(n.useEffect)(function(){Ya()(i)&&t(ht(o))},[o]),a||Ya()(i))return r.a.createElement($a,null);var s=i.webhookHealth;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Webhooks"),r.a.createElement(Xl,{dispatch:t,appId:o,pilgrim:i}),s&&s.status&&l&&r.a.createElement(rs,{webhookHealth:s}),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/webhooks",target:"_blank",rel:"noopener noreferrer"},"How do I set up my webhook and what is sent to my server?")))}os.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,isFetching:ua.a.bool,pilgrim:ua.a.object,showIntegrationWebhookStatus:ua.a.bool},os.defaultProps={pilgrim:null,isFetching:!1,showIntegrationWebhookStatus:!1};var is=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,pilgrim:r.pilgrim,isFetching:r.isFetching,showIntegrationWebhookStatus:a.showIntegrationWebhookStatus}})(os),ls=X.b.div.withConfig({displayName:"PilgrimFeatureGate__Wrapper",componentId:"ievlbu-0"})(["position:relative;"]),ss=X.b.div.withConfig({displayName:"PilgrimFeatureGate__DummyTiles",componentId:"ievlbu-1"})(["filter:blur(4px);> div{overflow:hidden;}"]),cs=X.b.div.withConfig({displayName:"PilgrimFeatureGate__LockModal",componentId:"ievlbu-2"})(["position:absolute;top:0;left:0;right:0;display:flex;align-items:flex-start;margin:0 auto;width:635px;padding:32px 48px 40px 48px;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);border-radius:3px;background-color:",";border-top:48px solid ",";z-index:1;> img{margin-right:48px;width:108px;}h3{margin:0;font-size:16px;color:#66708b;}h2{margin:6px 0 20px;font-size:32px;}p{margin:0 0 32px;}"],ae.WHITE,ae.DARK_BLUE),us=X.b.div.withConfig({displayName:"PilgrimFeatureGate__Links",componentId:"ievlbu-3"})(["display:flex;align-items:center;a{text-decoration:none;color:",";&:first-of-type{height:32px;line-height:32px;padding:0 32px;border-radius:4px;background-color:",";color:",";&:hover{background-color:#00fff2;}}&:last-of-type{font-size:12px;}}hr{margin:0 16px;width:1px;height:15px;background-color:#dae0f1;border:0;}"],ae.BLUE,ae.TURQUOISE,ae.DARK_BLUE);function ps(e){var t=e.title,a=e.description,n=e.children,o=We()(e,["title","description","children"]);return r.a.createElement(ls,o,r.a.createElement(ss,null,n),r.a.createElement(cs,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/icon-lock.svg",alt:"lock"}),r.a.createElement("div",null,r.a.createElement("h3",null,"HOLD ON A SEC!"),r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement(us,null,r.a.createElement("a",{href:"https://developer.foursquare.com/contact-us",target:"_blank",rel:"noopener noreferrer"},"Contact Us"),r.a.createElement("hr",null),r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk",target:"_blank",rel:"noopener noreferrer"},"Learn more about tiering")))))}ps.propTypes={title:ua.a.string.isRequired,description:ua.a.string.isRequired,children:ua.a.node.isRequired};var ds=ps,ms={braze:{title:"Braze",overrideUrl:{name:"URL",values:["https://rest.iad-01.braze.com","https://rest.iad-02.braze.com","https://rest.iad-03.braze.com","https://rest.iad-04.braze.com","https://rest.iad-06.braze.com","https://rest.fra-01.braze.eu","https://indus.iad-01.braze.com"]},primaryId:{name:"Group Id",required:!0},secondaryId:{name:"Android App Id",required:!1},tertiaryId:{name:"iOS App Id",required:!1}},localytics:{title:"Localytics",primaryId:{name:"App UUID",required:!0},secondaryId:{name:"API Key",required:!0},tertiaryId:{name:"App Secret",required:!0}},mparticle:{title:"mParticle",primaryId:{name:"Android App Key",required:!1},secondaryId:{name:"Android App Secret",required:!1},tertiaryId:{name:"iOS App Key",required:!1},quaternaryId:{name:"iOS App Secret",required:!1}},airship:{title:"Airship",primaryId:{name:"App ID",required:!0},secondaryId:{name:"App Token",required:!0}},salesforce:{title:"SalesForce",primaryId:{name:"Client ID",required:!0},secondaryId:{name:"Client Secret",required:!0},tertiaryId:{name:"EventDefinitionKey for the Journey Entry Source",required:!0}},iterable:{title:"Iterable",primaryId:{name:"API Key",required:!0}},leanplum:{title:"Leanplum",primaryId:{name:"App ID",required:!0},secondaryId:{name:"Client Key",required:!0}},clevertap:{title:"CleverTap",primaryId:{name:"Account ID",required:!0},secondaryId:{name:"Account Passcode",required:!0}}},gs=X.b.div.withConfig({displayName:"WebhookStatusDetails__TimeStamp",componentId:"sc-17yv23q-0"})(["font-size:13px;opacity:0.55;"]),hs=X.b.div.withConfig({displayName:"WebhookStatusDetails__StatusHeader",componentId:"sc-17yv23q-1"})(["display:flex;justify-content:space-between;"]),fs=X.b.div.withConfig({displayName:"WebhookStatusDetails__WebhookStatusIndicator",componentId:"sc-17yv23q-2"})(["display:inline-block;height:10px;width:10px;border-radius:50%;margin-right:24px;font-size:14px;&.none{background-color:#d5d8e3;}&.unhealthy{background-color:rgb(255,75,62);animation:unhealthy-pulse 1s infinite;@keyframes unhealthy-pulse{0%{box-shadow:0 0 0 0px rgba(255,75,62,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(255,75,62,0);}}}&.degraded{background-color:rgb(249,202,72);animation:degraded-pulse 1s infinite;@keyframes degraded-pulse{0%{box-shadow:0 0 0 0px rgba(249,202,72,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(249,202,72,0);}}}&.healthy{background-color:rgb(123,240,235);animation:healthy-pulse 1s infinite;@keyframes healthy-pulse{0%{box-shadow:0 0 0 0px rgba(123,240,235,0.5);}100%{box-shadow:0px 0px 0px 6px rgba(123,240,235,0);}}}h3{font-size:15px;&.healthy{color:",";}&.unhealthy{color:",";}&.degraded{color:",";}}"],ae.TURQUOISE,re,ne);function bs(e){var t,a=e.visible,n=e.integrationType,o=e.title,i=e.webhookHealth;if(a&&i&&i.status){var l=i.status,s=i.successRate,c=i.success,u=i.failure,p=i.since,d=i?new Date(p):null;return r.a.createElement(fs,{className:Ea()({webhookStatus:!0,healthy:"healthy"===l,degraded:"degraded"===l,unhealthy:"unhealthy"===l})},r.a.createElement("span",{className:"tooltip"},r.a.createElement("div",null,r.a.createElement(hs,null,r.a.createElement("span",null,r.a.createElement("h3",null,o," Status")),r.a.createElement("span",null,r.a.createElement("h3",{className:Ea()({healthy:"healthy"===l,degraded:"degraded"===l,unhealthy:"unhealthy"===l})},(t=l).charAt(0).toUpperCase()+t.slice(1)))),"━━"),r.a.createElement("b",null,Math.round(100*s)/100,"% ")," Successful ",r.a.createElement("br",null),r.a.createElement("b",null,c)," Successful requests (past hour)",r.a.createElement("br",null),r.a.createElement("b",null,u)," Failed requests (past hour)",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(gs,null,"Last updated: ",d.toLocaleString()," "),r.a.createElement("br",null)))}var m="https://developer.foursquare.com/docs/pilgrim-sdk/integrations#".concat(n);return r.a.createElement(fs,{className:Ea()({webhookStatus:!0,none:a})},a&&r.a.createElement("span",{className:"tooltip"},"No status info available yet for ",r.a.createElement("a",{href:m},o),"."))}bs.defaultProps={visible:!1,integrationType:"",title:"",webhookHealth:null},bs.propTypes={visible:ua.a.bool,integrationType:ua.a.string,title:ua.a.string,webhookHealth:ua.a.object};var vs=bs,ys=X.b.div.withConfig({displayName:"IntegrationDetails__Wrapper",componentId:"sc-1tpg8zd-0"})(["& + &{border-top:1px solid #d5d9e3;}"]),Es=X.b.div.withConfig({displayName:"IntegrationDetails__Header",componentId:"sc-1tpg8zd-1"})(["display:flex;padding:24px 24px;cursor:pointer;transition:all 0.2s ease;&:hover{background-color:",";}&.isOpen > i{transform:rotate(180deg);}> i{margin-left:auto;flex-shrink:0;transition:transform 0.15s ease;}> button{margin-left:auto;border:0;background:none;padding:0;}.webhookStatus .tooltip{visibility:hidden;width:300px;background-color:",";color:",";padding:10px 15px;text-align:left;border-radius:4px;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);position:absolute;z-index:1;}.webhookStatus:hover .tooltip{visibility:visible;}"],ae.LIGHT_GREY,ae.WHITE,ae.DARK_BLUE),xs=X.b.div.withConfig({displayName:"IntegrationDetails__Content",componentId:"sc-1tpg8zd-2"})(["position:relative;padding:36px 48px;border-top:1px solid #d5d9e3;ul{margin:0;padding:0;list-style:none;}li + li{margin-top:32px;}"]),ws=X.b.div.withConfig({displayName:"IntegrationDetails__Buttons",componentId:"sc-1tpg8zd-3"})(["position:absolute;top:36px;right:48px;display:flex;button{margin-left:24px;}"]),Cs=X.b.div.withConfig({displayName:"IntegrationDetails__FieldLables",componentId:"sc-1tpg8zd-4"})(["display:flex;flex-wrap:wrap;margin:-6px;span{margin:6px;padding:4px 24px;background-color:#d5d8e3;border-radius:3px;}"]);function Is(e){var t=e.dispatch,a=e.appId,o=e.integration,i=e.showIntegrationWebhookStatus,l=Object(n.useState)(!1),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useCallback)(function(){return u(function(e){return!e})},[]),d=o.integrationType,m=(o.webhookHealth,We()(o,["integrationType","webhookHealth"])),g=Object(n.useCallback)(function(){t(yt(a,"integrations",{removedIntegrations:[d]}))},[d]);if(Ya()(m))return null;var h=m.visitMmaFields,f=m.geofenceMmaFields,b=ms[d];if(!b)return null;var v=b.title,y=We()(b,["title"]);return r.a.createElement(ys,null,r.a.createElement(Es,{className:Ea()({isOpen:c}),onClick:p},r.a.createElement("div",null,r.a.createElement(vs,{visible:i,integrationType:d,title:v,webhookHealth:o.webhookHealth}),r.a.createElement("span",null,v)),r.a.createElement(Fa,{type:"sort-down-regular"})),c&&r.a.createElement(xs,null,r.a.createElement(ws,null,r.a.createElement(da.b,{to:"/apps/".concat(a,"/pilgrim/config/integrations/").concat(d)},"Edit"),r.a.createElement(Ia,{text:!0,onClick:g},"Remove")),r.a.createElement("ul",null,Object.keys(y).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("h6",null,y[e].name),r.a.createElement("p",null,o[e]))}),!Ya()(h)&&r.a.createElement("li",null,r.a.createElement("h6",null,"Visit Fields"),r.a.createElement(Cs,null,h.sort().map(function(e){return r.a.createElement("span",{key:e},e)}))),!Ya()(f)&&r.a.createElement("li",null,r.a.createElement("h6",null,"Geofence Fields"),r.a.createElement(Cs,null,f.sort().map(function(e){return r.a.createElement("span",{key:e},e)}))))))}Is.defaultProps={showIntegrationWebhookStatus:!1},Is.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,integration:ua.a.object.isRequired,showIntegrationWebhookStatus:ua.a.bool};var ks=Is,Ss=X.b.div.withConfig({displayName:"S3ConfigDetails__Wrapper",componentId:"rd2idb-0"})(["border-bottom:1px solid #d5d9e3;"]),Rs=X.b.div.withConfig({displayName:"S3ConfigDetails__Header",componentId:"rd2idb-1"})(["display:flex;padding:24px 24px 24px 56px;cursor:pointer;transition:all 0.2s ease;&:hover{background-color:",";}&.isOpen > i{transform:rotate(180deg);}> i{margin-left:auto;flex-shrink:0;transition:transform 0.15s ease;}> button{margin-left:auto;border:0;background:none;padding:0;}"],ae.LIGHT_GREY),Ts=X.b.div.withConfig({displayName:"S3ConfigDetails__Content",componentId:"rd2idb-2"})(["position:relative;padding:36px 48px;border-top:1px solid #d5d9e3;p{margin:0;}"]),Os=X.b.div.withConfig({displayName:"S3ConfigDetails__Buttons",componentId:"rd2idb-3"})(["position:absolute;top:36px;right:48px;display:flex;button{margin-left:24px;}"]);function Ls(e){var t=e.dispatch,a=e.appId,o=e.s3Config,i=Object(n.useState)(!1),l=E()(i,2),s=l[0],c=l[1],u=Object(n.useCallback)(function(){return c(function(e){return!e})},[]),p=Object(n.useCallback)(function(){t(yt(a,"integrations",{s3BucketPath:""}))},[a]);return r.a.createElement(Ss,null,r.a.createElement(Rs,{className:Ea()({isOpen:s}),onClick:u},"Amazon S3",r.a.createElement(Fa,{type:"sort-down-regular"})),s&&r.a.createElement(Ts,null,r.a.createElement(Os,null,r.a.createElement(da.b,{to:"/apps/".concat(a,"/pilgrim/config/integrations/s3config")},"Edit"),r.a.createElement(Ia,{text:!0,onClick:p},"Remove")),r.a.createElement("h6",null,"Bucket"),r.a.createElement("p",null,o.s3BucketPath)))}Ls.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,s3Config:ua.a.object.isRequired};var _s=Ls;function As(e){var t=e.dispatch,a=e.history,o=e.match,i=e.pilgrim,l=e.appId,s=e.isFreeTierSDK,c=e.isFetching,u=e.showIntegrationWebhookStatus;Object(n.useEffect)(function(){Ya()(i)&&t(ht(l))},[l]);var p=Object(n.useMemo)(function(){var e=Je()(i,"s3Config",{}),t=e.s3BucketPath,a=e.s3DeliveryEnabled;return t&&a},[i]),d=Object(n.useMemo)(function(){return!Ya()(i)&&!Ya()(i.integrations)&&i.integrations.some(function(e){e.integrationType;var t=We()(e,["integrationType"]);return!Ya()(t)})},[i]),m=Object(n.useCallback)(function(){a.push("/apps/".concat(l,"/pilgrim/config/integrations/new"))},[l]);return c||Ya()(i)?r.a.createElement($a,null):s?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Integrations"),r.a.createElement(ds,{title:"Unlock this feature by upgrading to Enterprise",description:" Create content based on event through your preferred mobile marketing automation platform with integrations support. Upgrade to Enterprise to experience this and more. "},r.a.createElement(Ns,{_css:{marginTop:48}},r.a.createElement(Tn,{title:"Add New Integration"},r.a.createElement("a",{href:""},"Add New Integration")),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:""},"Related Links"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Integrations"),r.a.createElement(Tn,{title:"Add New Integration",onClick:m},r.a.createElement(da.b,{to:"".concat(o.url,"/new")},"Add New Integration")),(d||p)&&r.a.createElement(Tn,{noPadding:!0,title:"Active Integrations"},p&&r.a.createElement(_s,{dispatch:t,appId:l,s3Config:i.s3Config}),i.integrations.map(function(e){return r.a.createElement(ks,{showIntegrationWebhookStatus:u,key:e.integrationType,dispatch:t,appId:l,integration:e})})),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/integrations",target:"_blank",rel:"noopener noreferrer"},"Learn about Integrations")))}As.propTypes={dispatch:ua.a.func.isRequired,history:ua.a.object.isRequired,match:ua.a.object.isRequired,isFetching:ua.a.bool.isRequired,appId:ua.a.string.isRequired,isFreeTierSDK:ua.a.bool.isRequired,pilgrim:ua.a.object,showIntegrationWebhookStatus:ua.a.bool},As.defaultProps={pilgrim:null,showIntegrationWebhookStatus:!1};var Ps=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,isFreeTierSDK:!["enterprise","enterpriseTrial"].includes(a.accountType)&&r.allowPilgrimSdk,pilgrim:r.pilgrim,availableGeofenceFields:a.availableGeofenceFields,availableMMAFields:a.availableMMAFields,isFetching:a.isFetching,showIntegrationWebhookStatus:a.showIntegrationWebhookStatus}})(As),Ns=X.b.div.withConfig({displayName:"AppPilgrimIntegrationsPage___StyledDiv",componentId:"sc-19etirf-0"})(["",""],function(e){return e._css}),js=X.b.div.withConfig({displayName:"IntegrationForm__ConfigFields",componentId:"qd186w-0"})(["margin-top:48px;"]),Fs=X.b.div.withConfig({displayName:"IntegrationForm__Checkboxes",componentId:"qd186w-1"})(["display:flex;flex-wrap:wrap;margin:18px 0;> div{width:33%;margin:6px 0;}"]);function Ds(e){var t,a,o,i,l,s,c,u,p=e.dispatch,m=e.history,g=e.appId,h=e.integrations,f=e.integrationType,b=e.availableMMAFields,v=e.availableGeofenceFields,y=Object(n.useMemo)(function(){return b.filter(function(e){return e.isDefault}).map(function(e){return e.key})},[b]),x=Object(n.useMemo)(function(){return v.filter(function(e){return e.isDefault}).map(function(e){return e.key})},[v]),w=Object(n.useMemo)(function(){return h.find(function(e){return e.integrationType===f})||{integrationType:"",visitMmaFields:y,geofenceMmaFields:x}},[h,f]),C=pn(w),I=E()(C,2),k=I[0],S=I[1],R=Object(n.useMemo)(function(){return Object.keys(ms).reduce(function(e,t){var a=h.find(function(e){return e.integrationType===t})||{},n=(a.integrationType,We()(a,["integrationType"]));return(Ya()(a)||Ya()(n))&&e.push({value:t,label:ms[t].title}),e},[])},[h]),T=Object(n.useMemo)(function(){return R.find(function(e){return e.value===k.integrationType})},[k.integrationType,R]),O=ms[k.integrationType]||{},L=O.title,_=We()(O,["title"]),A=Object(n.useCallback)(function(e){return S({integrationType:e.value})},[]),P=function(e){return function(t){var a=t.target.dataset.key,n=k[e],r=n.indexOf(a),o=-1===r?[].concat(d()(n),[a]):[].concat(d()(n.slice(0,r)),d()(n.slice(r+1)));S(Ye()({},e,o))}},N=function(e){return function(t){return S(Ye()({},e,t.target.value))}},j=Object(n.useCallback)(function(){return S(w)},[w]),F=(a=w,o=(t=k).visitMmaFields,i=t.geofenceMmaFields,l=We()(t,["visitMmaFields","geofenceMmaFields"]),s=a.visitMmaFields,c=a.geofenceMmaFields,u=We()(a,["visitMmaFields","geofenceMmaFields"]),!(nn()(new Set(o),new Set(s))&&nn()(new Set(i),new Set(c))&&nn()(l,u)));return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:F}),!f&&r.a.createElement(Tn,{title:"Add new integration"},r.a.createElement(Gn,{label:"Integration Type",value:T,options:R,onChange:A})),k.integrationType&&r.a.createElement(Tn,{title:L,hasChanges:F,onCancel:j,onSave:function(){var e=k.integrationType,t=Object.keys(k).reduce(function(t,a){var n=a[0].toUpperCase()+a.slice(1);return t[e+n]=k[a],t},[]);p(yt(g,"integrations",t)).then(function(){m.push("/apps/".concat(g,"/pilgrim/config/integrations/"))})}},Object.keys(_).map(function(e){return r.a.createElement(cn,{key:e,label:_[e].name,required:_[e].required,value:k[e]||"",onChange:N(e)})}),r.a.createElement(js,null,r.a.createElement("h6",null,"Configure for Visits"),r.a.createElement("p",null,"Selected fields will be included in events sent to the integrated third party. By default we have selected the most commonly used fields for you."),r.a.createElement(Fs,null,b.map(function(e){return r.a.createElement(Xo,{key:e.key,label:e.apiJsonField,"data-key":e.key,checked:k.visitMmaFields.includes(e.key),onClick:P("visitMmaFields")})}))),r.a.createElement(js,null,r.a.createElement("h6",null,"Configure for Geofences"),r.a.createElement("p",null,"Selected fields will be included in events sent to the integrated third party. By default we have selected the most commonly used fields for you."),r.a.createElement(Fs,null,v.map(function(e){return r.a.createElement(Xo,{key:e.key,label:e.apiJsonField,"data-key":e.key,checked:k.geofenceMmaFields.includes(e.key),onClick:P("geofenceMmaFields")})})))))}Ds.propTypes={dispatch:ua.a.func.isRequired,history:ua.a.object.isRequired,appId:ua.a.string.isRequired,integrations:ua.a.array.isRequired,availableMMAFields:ua.a.array.isRequired,availableGeofenceFields:ua.a.array.isRequired,integrationType:ua.a.string},Ds.defaultProps={integrationType:null};var qs=Ds;function Us(e){var t=e.dispatch,a=e.appId,o=e.s3Config.s3BucketPath,i=void 0===o?"":o,l=Object(n.useState)(i),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useState)(null),d=E()(p,2),m=d[0],g=d[1],h=Object(n.useCallback)(function(){at.testAmazonS3Bucket(a,c).then(function(){me.success("S3 bucket validated!"),g(null)}).catch(function(){g("S3 bucket path is not valid.")})},[a,c]);Object(n.useEffect)(h,[]);var f=Object(n.useCallback)(function(e){return u(e.target.value)},[]),b=Object(n.useCallback)(function(){return u(i)},[]),v=!nn()(c,i)&&!m;return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:v}),r.a.createElement(Tn,{title:"Amazon S3",hasChanges:v,onCancel:b,onSave:function(){t(yt(a,"integrations",{s3BucketPath:c}))}},r.a.createElement(cn,{label:"S3 Bucket Path",error:m,value:c,onChange:f}),r.a.createElement("p",null,"Test permissions and validate Amazon S3 bucket."),r.a.createElement(Ia,{outline:!0,onClick:h},"Test S3 Bucket")))}Us.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,s3Config:ua.a.object},Us.defaultProps={s3Config:{}};var Ms=Us;function Bs(e){var t=e.dispatch,a=e.history,o=e.isFetching,i=e.appId,l=e.pilgrim,s=e.integrationType,c=e.availableMMAFields,u=e.availableGeofenceFields;return Object(n.useEffect)(function(){Ya()(l)&&t(ht(i))},[i]),o||Ya()(l)?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(da.b,{to:"/apps/".concat(i,"/pilgrim/config/integrations")},"Integrations")," /",s?"Edit":"New"," Integration"),"s3config"===s?r.a.createElement(Ms,{dispatch:t,history:a,appId:i,s3Config:l.s3Config}):r.a.createElement(qs,{dispatch:t,history:a,appId:i,integrationType:s,integrations:l.integrations,availableMMAFields:c,availableGeofenceFields:u}))}Bs.propTypes={dispatch:ua.a.func.isRequired,history:ua.a.object.isRequired,isFetching:ua.a.bool.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object,integrationType:ua.a.string,availableMMAFields:ua.a.array,availableGeofenceFields:ua.a.array},Bs.defaultProps={integrationType:null,pilgrim:null,availableMMAFields:[],availableGeofenceFields:[]};var Gs=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params,r=n.id;return{appId:r,integrationType:n.type,pilgrim:(a.byId[r]||{}).pilgrim,availableMMAFields:a.availableMMAFields,availableGeofenceFields:a.availableGeofenceFields,isFetching:a.isFetching}})(Bs),Hs=X.b.div.withConfig({displayName:"EmptyEvent__Wrapper",componentId:"sc-1cqm0ms-0"})(["position:absolute;top:42px;bottom:0px;left:0;right:0;align-items:center;background-color:",";display:flex;flex-direction:column;justify-content:center;min-height:650px;text-align:center;"],ae.WHITE),zs=X.b.div.withConfig({displayName:"EmptyEvent__EmptyImg",componentId:"sc-1cqm0ms-1"})(["background-position:center;background-repeat:no-repeat;background-image:",";height:200px;margin-bottom:20px;width:500px;"],function(e){return e.hasIds?"url('/img/developers/pilgrim/empty-logs-with-ids.svg');":e.hasError?"url('/img/developers/pilgrim/error.svg');":"url('/img/developers/pilgrim/empty-logs-without-ids.svg')"}),Vs=X.b.div.withConfig({displayName:"EmptyEvent__Title",componentId:"sc-1cqm0ms-2"})(["font-size:22px;margin:15px;"]),Ws=X.b.div.withConfig({displayName:"EmptyEvent__Desc",componentId:"sc-1cqm0ms-3"})(["max-width:70%;margin:15px 0;"]);function Ks(e){var t=e.loggingIds,a=e.hasError,n=void 0!==a&&a,o=t.adIds,i=void 0===o?[]:o,l=t.installIds,s=void 0===l?[]:l,c=t.userIds,u=void 0===c?[]:c,p=!Ya()([].concat(d()(i),d()(s),d()(u))),m=n?"Looks like something may have went wrong.":p?"Looks like you registered a device!":"You haven't registered any devices yet!",g=n?"Try refreshing the table, or the page.":p?"You will begin seeing events logged the next time a registered device sees a Pilgrim event. If you believe you are receiving this message in error, please contact your Technical Services rep.":"To register a new device, go to “Manage IDs”";return r.a.createElement(Hs,null,r.a.createElement(zs,{hasIds:p,hasError:n}),r.a.createElement(Vs,null,m),r.a.createElement(Ws,null,g))}function Ys(e){return e.replace(/([A-Z])/g,function(e){return" ".concat(e)}).replace(/^./,function(e){return e.toUpperCase()})}Ks.propTypes={loggingIds:ua.a.object.isRequired,hasError:ua.a.bool},Ks.defaultProps={hasError:!1};var Qs="YYYY-MM-DD HH:mm:ss";function $s(e){return e&&$e()(e).utc().format(Qs)}var Zs=X.b.div.withConfig({displayName:"EventsTable__HelpText",componentId:"sc-1ynivh8-0"})(["display:flex;align-items:center;margin:0 48px 8px;font-family:",";font-size:13px;color:#2b2b34;span:first-of-type{margin-right:auto;}button{margin-left:16px;background:none;border:0;padding:0;outline:none;cursor:pointer;img{display:block;width:16px;height:16px;}&.loading{animation:refreshIconSpin 0.7s linear infinite;@keyframes refreshIconSpin{to{transform:rotate(360deg);}}}}"],te.BROWN_PRO_LIGHT),Js=Object(X.b)(da.b).withConfig({displayName:"EventsTable__ManageIdsLink",componentId:"sc-1ynivh8-1"})(["position:absolute;top:0;right:48px;font-family:",";"],te.BROWN_PRO_BOLD),Xs=X.b.div.withConfig({displayName:"EventsTable__EventTypeIndicator",componentId:"sc-1ynivh8-2"})(["display:inline-block;height:8px;width:8px;border-radius:50%;background-color:",";"],function(e){var t=e.eventType;return t.startsWith("place")?ae.BLUE:t.startsWith("geofence")?ae.TURQUOISE:ae.WHITE}),ec=function(e){return r.a.createElement(Xs,{eventType:e.eventType})},tc=function(e){var t=e.locationType,a=e.venue;return["Home","Work"].includes(t)?t:Je()(a,"name","-")},ac=function(e){switch(e.eventType){case"placeArrival":return $s(e.arrival);case"placeDeparture":return $s(e.departure);default:return $s(e.arrival)}},nc=function(e){return Je()(e,"venue.location.city","-")};function rc(e){var t=e.appId,a=e.events,o=e.lastUpdated,i=e.loggingIds,l=e.loading,s=e.onRefresh,c=e.onClickRow,u=Object(n.useCallback)(function(e){var t=e.adId,a=e.installId,n=e.userId,r=i.adIds,o=void 0===r?[]:r,l=i.userIds,s=void 0===l?[]:l;return o.includes(t)?t:s.includes(n)?n:a},[i]),p=Object(n.useCallback)(function(){return r.a.createElement(Ks,{loggingIds:i})},[i]);return r.a.createElement(Tn,{noPadding:!0,title:"Event Logs",caption:r.a.createElement(Zs,null,r.a.createElement("span",null,"Showing events from the last 7 days. "),r.a.createElement("span",null,"Last Updated: ",o),r.a.createElement("button",{type:"button",className:Ea()({loading:l}),onClick:s},r.a.createElement("img",{src:"/img/developers/new-dev-console/icon-refresh.svg",alt:""})))},r.a.createElement(Js,{to:"/apps/".concat(t,"/pilgrim/events/manage-ids")},"Manage IDs"),r.a.createElement(xr,{className:"-highlight",data:a,loading:l,NoDataComponent:p,getTdProps:function(e,t){return{onClick:function(){c&&c(t.original)}}},columns:[{id:"status",accessor:ec,width:48,style:{textAlign:"center"}},{Header:"Logging ID",id:"logginId",accessor:u},{Header:"Event Type",accessor:"eventType"},{Header:"Venue",id:"venueName",accessor:tc},{Header:"Timestamp (UTC)",id:"ts",accessor:ac},{Header:"City",id:"city",accessor:nc}]}))}rc.propTypes={appId:ua.a.string.isRequired,events:ua.a.array.isRequired,loading:ua.a.bool.isRequired,lastUpdated:ua.a.string,loggingIds:ua.a.object,onRefresh:ua.a.func,onClickRow:ua.a.func},rc.defaultProps={lastUpdated:null,loggingIds:{},onRefresh:function(){return null},onClickRow:function(){return null}};var oc=[30,32,44,45,60,64,88,90,100,120,512],ic=function(e){return function(t,a){return Math.abs(a-e)<Math.abs(t-e)?a:t}};function lc(e){var t=e.category,a=e.size,n=We()(e,["category","size"]),o=a;if(oc.includes(o)||(o=oc.reduce(ic(a))),t){var i=t.name,l=t.icon,s=l.prefix,c=l.suffix;return r.a.createElement("img",va()({},n,{alt:i,src:"".concat(s).concat(o).concat(c),height:o,width:o}))}return r.a.createElement("img",va()({},n,{alt:"{categoryName}",src:"/img/categories_v2/none_".concat(o,".png"),height:o,width:o}))}function sc(e){var t=e.venue,a=We()(e,["venue"]),n=t.categories,o=n&&n.length>0&&n[0];return r.a.createElement(lc,va()({},a,{category:o}))}lc.propTypes={category:ua.a.object.isRequired,size:ua.a.oneOfType([ua.a.number,ua.a.string])},lc.defaultProps={size:32},sc.propTypes={venue:ua.a.object.isRequired,size:ua.a.oneOfType([ua.a.number,ua.a.string])},sc.defaultProps={size:32};var cc=X.b.div.withConfig({displayName:"VenueMarker__VenuePin",componentId:"sc-18fimvt-0"})(["background:url('/img/pin-squircle-blue.png') no-repeat;backface-visibility:hidden;height:55px;transition:filter 200ms;width:44px;&:hover{filter:drop-shadow(0 0 5px ",");}img{position:relative;top:8px;transform:translateX(-50%);left:50%;}"," ",""],ae.BLUE,function(e){return e.isOtherPossible&&"filter: grayscale(80%);"},function(e){return e.isOtherPossible&&"filter: grayscale(80%) drop-shadow(0 0 5px ".concat(ae.BLUE,");")});function uc(e){var t=e.venue,a=e.isOtherPossible,n=void 0!==a&&a,o=We()(e,["venue","isOtherPossible"]),i=t.id,l=t.name,s=t.location;return r.a.createElement(Ri.a,va()({key:i,latitude:s.lat,longitude:s.lng,offsetLeft:-18,offsetTop:-48},o),r.a.createElement("a",{title:l,href:"https://foursquare.com/v/".concat(i),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(cc,{isOtherPossible:n},r.a.createElement(sc,{size:"32",venue:t}))))}uc.propTypes={venue:ua.a.object.isRequired,isOtherPossible:ua.a.bool},uc.defaultProps={isOtherPossible:!1};var pc=uc,dc=Object(X.b)(Ri.b).withConfig({displayName:"EventMap__StyledNavControl",componentId:"sc-13bmug1-0"})(["position:absolute;left:20px;top:20px;"]),mc="mapbox://styles/foursquare/cjrtr84nuk2ez2spa3tnsv9yr",gc=5e-4,hc=.001;function fc(e){var t=e.event,a=t.lat,o=t.lng,i=t.venue,l=Object(n.useState)({width:"100%",height:265,latitude:a,longitude:o,zoom:15}),s=E()(l,2),c=s[0],u=s[1],p=Object(n.useRef)(null);Object(n.useEffect)(function(){var e=p.current;if(i&&e){var t=i.location,n=t.lat,r=t.lng,l=[Math.min(o,r)-hc,Math.min(a,n)-gc,Math.max(o,r)+hc,Math.max(a,n)+gc],s=_i.a.viewport(l,[e._width,350]),c=E()(s.center,2),d=c[0],m=c[1],h=s.zoom;u(function(e){return g()({},e,{latitude:m,longitude:d,zoom:h-1})})}},[a,o,i]);var d=Object(n.useCallback)(function(e){return u(e)},[]);return r.a.createElement(Ri.d,va()({ref:p},c,{mapStyle:mc,onViewportChange:d}),r.a.createElement(dc,{className:"fsc-mapControl",showZoom:!0,showCompass:!1,onViewportChange:d}),r.a.createElement(Ri.a,{latitude:a,longitude:o,offsetLeft:-7.5,offsetTop:-7.5},r.a.createElement(Ki,{title:"Device Location"})),i&&r.a.createElement(pc,{venue:i}))}fc.propTypes={event:ua.a.object.isRequired};var bc=X.b.div.withConfig({displayName:"components__MetaAttr",componentId:"vvex08-0"})(["font-family:",";& + &{margin-top:5px;}"],te.BROWN_PRO_LIGHT),vc=X.b.div.withConfig({displayName:"components__MetaGroup",componentId:"vvex08-1"})(["& + &{margin-top:20px;}"]),yc=X.b.div.withConfig({displayName:"components__MetaRow",componentId:"vvex08-2"})(["display:flex;& + &{margin-top:32px;}"]),Ec=X.b.strong.withConfig({displayName:"components__MetaTitleColumn",componentId:"vvex08-3"})(["margin-right:28px;min-width:100px;text-transform:uppercase;text-align:right;"]),xc=X.b.a.withConfig({displayName:"EventVenueAddress__VenueLink",componentId:"sc-1pggbin-0"})(["font-family:",";font-size:16px;"],te.BROWN_PRO_BOLD);function wc(e){var t=e.event,a=t.locationType,n=t.venue,o=n||{},i=o.id,l=o.name,s=o.location;return"Home"===a||"Work"===a?r.a.createElement(vc,null,r.a.createElement(bc,null,a)):n&&r.a.createElement(vc,null,r.a.createElement(bc,null,r.a.createElement(xc,{href:"https://foursquare.com/v/".concat(i),target:"_blank",rel:"noopener noreferrer"},l)),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bc,null,s.address&&r.a.createElement("span",null,s.address)),r.a.createElement(bc,null,s.city&&r.a.createElement("span",null,s.city),s.city&&s.state&&", ",s.state&&r.a.createElement("span",null,s.state)),r.a.createElement(bc,null,s.country&&r.a.createElement("span",null,s.country),s.postalCode&&r.a.createElement("span",null," ",s.postalCode))))}wc.propTypes={event:ua.a.object.isRequired};var Cc=Object(X.b)(sc).withConfig({displayName:"EventProbableVenues__CatLogo",componentId:"g2xyx5-0"})(["width:42px;height:42px;margin-right:24px;padding:8px;background-color:",";border-radius:50%;"],ae.BLUE),Ic=X.b.div.withConfig({displayName:"EventProbableVenues__OtherVenuesContainer",componentId:"g2xyx5-1"})(["display:flex;align-items:center;margin:16px 0;"]),kc=X.b.a.withConfig({displayName:"EventProbableVenues__VenueName",componentId:"g2xyx5-2"})(["font-family:",";color:",";"],te.BROWN_PRO_BOLD,ae.DARK_BLUE);function Sc(e){var t=e.otherProbableVenues,a=t.map(function(e){var t=e.id,a=e.name;return r.a.createElement(bc,{key:t},r.a.createElement(Ic,null,r.a.createElement(Cc,{venue:e}),r.a.createElement(kc,{className:"fsc-pilgrimOtherVenue__name",href:"https://foursquare.com/v/".concat(t),target:"_blank",rel:"noopener noreferrer"},a)))});return r.a.createElement(vc,null,r.a.createElement(bc,null,t.length," other probable locations:"),a)}function Rc(e){var t=e.user,a=t.userId,n=t.firstName,o=t.lastName,i=t.country,l=t.language,s=t.gender,c=t.dob,u=t.customFields,p=u&&!Ya()(u)&&Object.keys(u).map(function(e){var t=u[e];return r.a.createElement(bc,{key:e},e,":",t)});return r.a.createElement(yc,null,r.a.createElement(Ec,null,"User Info"),r.a.createElement(vc,null,a&&r.a.createElement(bc,null,"Partner User ID: ",a),n&&r.a.createElement(bc,null,"First Name: ",n),o&&r.a.createElement(bc,null,"Last Name: ",o),i&&r.a.createElement(bc,null,"Country: ",i),l&&r.a.createElement(bc,null,"Language: ",l),s&&r.a.createElement(bc,null,"Gender: ",s),c&&r.a.createElement(bc,null,"Date of Birth: ",c),u&&p))}function Tc(e){var t=e.event.geofence;return t&&r.a.createElement(vc,null,r.a.createElement(bc,null,"Geofence Name:",t.name),r.a.createElement(bc,null,"Geofence Type:",t.type),r.a.createElement(bc,null,"Dwell Time:",t.dwellTime," minutes "))}Sc.propTypes={otherProbableVenues:ua.a.arrayOf(ua.a.object).isRequired},Rc.propTypes={user:ua.a.object.isRequired},Tc.propTypes={event:ua.a.object.isRequired};var Oc=X.b.div.withConfig({displayName:"EventMeta__Container",componentId:"h0yqfh-0"})(["padding:48px;"]),Lc=X.b.span.withConfig({displayName:"EventMeta__IdSapn",componentId:"h0yqfh-1"})(["",""],function(e){return e.matched&&"font-family: ".concat(te.BROWN_PRO_BOLD)});function _c(e){var t=e.event,a=e.matchedId,n=t.id,o=t.eventType,i=t.lat,l=t.lng,s=t.llAcc,c=t.backfilled,u=t.arrival,p=t.departure,d=t.confidenceLevel,m=t.otherProbableVenues,g=t.installId,h=t.adId,f=t.consumerId,b=t.consumerType,v=t.osVersion,y=t.sdkVersion,E=t.appBuild,x=t.appVersion,w=t.partnerUserId,C=t.externalUser,I=$s(u),k=$s(p);return r.a.createElement(Oc,null,r.a.createElement(yc,null,r.a.createElement(Ec,null,"Event"),r.a.createElement("div",null,t.venue&&r.a.createElement(wc,{event:t}),t.geofence&&r.a.createElement(Tc,{event:t}),r.a.createElement(vc,null,r.a.createElement(bc,null,"Event ID:",n),r.a.createElement(bc,null,"Event Type:",Ys(o)),r.a.createElement(bc,null,"Coordinates: ",i,", ",l),r.a.createElement(bc,null,"Coordinates Accuracy:","".concat(s,"m")),r.a.createElement(bc,null,"Backfilled:",c?"Yes":"No")),r.a.createElement(vc,null,I&&r.a.createElement(bc,null,"Arrival:",I," (UTC)"),k&&r.a.createElement(bc,null,"Departure:",k," (UTC)"),d&&r.a.createElement(bc,null,"Confidence:",d)),m&&r.a.createElement(Sc,{otherProbableVenues:m}))),C&&!Ya()(C)&&r.a.createElement(Rc,{user:C}),r.a.createElement(yc,null,r.a.createElement(Ec,null,"Device"),r.a.createElement("div",null,r.a.createElement(vc,null,r.a.createElement(bc,null,"Install ID: ",r.a.createElement(Lc,{matched:a.installId},g)),h&&r.a.createElement(bc,null,"Ad ID: ",r.a.createElement(Lc,{matched:a.adId},h)),w&&r.a.createElement(bc,null,"Partner User ID: ",r.a.createElement(Lc,{matched:a.partnerUserId},w))),r.a.createElement(vc,null,r.a.createElement(bc,null,"Consumer ID:",f),r.a.createElement(bc,null,"Consumer Type:",Ys(b))),r.a.createElement(vc,null,r.a.createElement(bc,null,"SDK Version:",y),r.a.createElement(bc,null,"App Build:",E),r.a.createElement(bc,null,"App Version:",x)),r.a.createElement(bc,null,"OS Version:",v))))}function Ac(e){var t=e.event,a=e.matchedId,n=e.onClose;return r.a.createElement(Na,{isOpen:!0,onRequestClose:n},r.a.createElement(fc,{event:t}),r.a.createElement(_c,{event:t,matchedId:a}))}function Pc(e,t){var a=t.adId,n=t.installId,r=t.partnerUserId,o=e.debugEventLoggingIds;return{installId:o.installIds.includes(n),adId:o.adIds.includes(a),partnerUserId:o.userIds.includes(r)}}function Nc(e){var t=e.dispatch,a=e.isFetchingApp,o=e.isFetchingEvents,i=e.appId,l=e.appSecret,s=e.pilgrim,c=e.events,u=e.lastUpdated;Object(n.useEffect)(function(){Ya()(s)&&t(ht(i))},[]),Object(n.useEffect)(function(){!Ya()(l)&&Ya()(u)&&t(qt(i,l))},[i,l]);var p=Object(n.useCallback)(function(){return t(qt(i,l))},[i,l]),d=Object(n.useState)(null),m=E()(d,2),g=m[0],h=m[1],f=Object(n.useCallback)(function(){return h(null)},[]);return a||Ya()(s)?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Event Logs"),r.a.createElement(rc,{dispatch:t,appId:i,loading:o,loggingIds:s.debugEventLoggingIds,events:c,lastUpdated:u,onRefresh:p,onClickRow:h}),g&&r.a.createElement(Ac,{event:g,matchedId:Pc(s,g),onClose:f}))}_c.propTypes={event:ua.a.object.isRequired,matchedId:ua.a.shape({installId:ua.a.bool.isRequired,adId:ua.a.bool.isRequired,partnerUserId:ua.a.bool.isRequired}).isRequired},Ac.propTypes={event:ua.a.object.isRequired,matchedId:ua.a.object.isRequired,onClose:ua.a.func.isRequired},Nc.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,appSecret:ua.a.string,pilgrim:ua.a.object,events:ua.a.array,lastUpdated:ua.a.string,isFetchingApp:ua.a.bool,isFetchingEvents:ua.a.bool},Nc.defaultProps={appSecret:null,pilgrim:null,events:[],lastUpdated:null,isFetchingApp:!1,isFetchingEvents:!1};var jc=Object(o.b)(function(e,t){var a=e.apps,n=e.pilgrimExtras,r=t.match.params.id,o=a.byId[r]||{},i=n.eventsById[r]||{};return{appId:r,appSecret:o.secret,pilgrim:o.pilgrim,isFetchingApp:o.isFetching,isFetchingEvents:i.isFetching,events:i.events,lastUpdated:i.lastUpdated}})(Nc),Fc=X.b.ul.withConfig({displayName:"AppPilgrimEventsManageIdsPage__IdList",componentId:"sc-1eso49h-0"})(["margin:0;padding:0;list-style:none;font-family:",";li{display:flex;padding:12px 48px;+ li{border-top:solid 1px #d5d9e3;}span{&:first-child{margin-right:36px;width:16px;}}button{margin-left:auto;}}"],te.BROWN_PRO_LIGHT),Dc=X.b.div.withConfig({displayName:"AppPilgrimEventsManageIdsPage__EmptyState",componentId:"sc-1eso49h-1"})(["display:flex;align-items:center;justify-content:center;height:120px;color:",";letter-spacing:0.2px;"],ae.DARK_BLUE_55),qc=[{label:"Install ID",value:"installId"},{label:"Ad ID",value:"adId"},{label:"User ID",value:"userId"}];function Uc(e){var t=e.dispatch,a=e.isFetching,o=e.appId,i=e.pilgrim;Object(n.useEffect)(function(){Ya()(i)&&t(ht(o))},[]);var l={idTypeOption:null,id:""},s={id:""},c=pn(l),u=E()(c,2),p=u[0],m=u[1],g=pn(s),h=E()(g,2),f=h[0],b=h[1],v=Object(n.useCallback)(function(e){return m({idTypeOption:e})},[]),y=Object(n.useCallback)(function(e){return m({id:e.target.value})},[]),x=Object(n.useCallback)(function(){b(s),m(l)},[]);if(a||Ya()(i))return r.a.createElement($a,null);var w=i.debugEventLoggingIds,C=w.installIds,I=w.adIds,k=w.userIds,S=[].concat(d()(C.map(function(e){return{idType:"installId",id:e}})),d()(I.map(function(e){return{idType:"adId",id:e}})),d()(k.map(function(e){return{idType:"userId",id:e}}))),R=!Ya()(p.idTypeOption)&&!Ya()(p.id);return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,{when:R}),r.a.createElement("h1",null,r.a.createElement(da.b,{to:"/apps/".concat(o,"/pilgrim/events")},"Event Logs")," / Manage IDs"),r.a.createElement(Tn,{title:"Add New ID",hasChanges:R,onCancel:x,onSave:function(){if(function(){var e=p.idTypeOption,t=p.id;return b(s),!(["installId","adId"].includes(e)&&!/^\S{8}-\S{4}-\S{4}-\S{4}-\S{12}$/.test(t)&&(b({id:"Invalid ID Format (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)"}),1))}()){var e=p.idTypeOption,a=p.id,n=e.value;t(yt(o,"debugevents",{debugEventLoggingInstallIds:"installId"===n?d()(new Set([].concat(d()(C),[a]))):C,debugEventLoggingAdIds:"adId"===n?d()(new Set([].concat(d()(I),[a]))):I,debugEventLoggingUserIds:"userId"===n?d()(new Set([].concat(d()(k),[a]))):k})).then(function(){m(l)})}}},r.a.createElement(Gn,{label:"Select ID Type",options:qc,value:p.idTypeOption,onChange:v}),p.idTypeOption&&r.a.createElement(cn,{label:"Type in ID",error:f.id,value:p.id,onChange:y})),r.a.createElement(Tn,{noPadding:!0,title:"Active Ids"},Ya()(S)?r.a.createElement(Dc,null,"You have no active ids"):r.a.createElement(Fc,null,S.map(function(e,a){return r.a.createElement("li",{key:e.idType+e.id},r.a.createElement("span",null,a+1,"."),r.a.createElement("span",null,e.id),r.a.createElement(Ia,{text:!0,onClick:function(){return a=e.idType,n=e.id,void t(yt(o,"debugevents",{debugEventLoggingInstallIds:"installId"===a?C.filter(function(e){return e!==n}):C,debugEventLoggingAdIds:"adId"===a?I.filter(function(e){return e!==n}):I,debugEventLoggingUserIds:"userId"===a?k.filter(function(e){return e!==n}):k}));var a,n}},"Delete"))}))),r.a.createElement(Tn,{title:"Related Links"},r.a.createElement("a",{href:"https://developer.foursquare.com/docs/pilgrim-sdk/console#snap-to-place",target:"_blank",rel:"noopener noreferrer"},"Learn about Visit Detection")))}Uc.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,pilgrim:ua.a.object,isFetching:ua.a.bool},Uc.defaultProps={pilgrim:null,isFetching:!1};var Mc=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,pilgrim:r.pilgrim,isFetching:r.isFetching}})(Uc),Bc=a(110),Gc=X.b.div.withConfig({displayName:"OverviewColumnCharts__Wrapper",componentId:"sc-13j95jk-0"})(["margin-top:48px;> h3{margin:0 16px 20px 0;padding-left:48px;text-transform:uppercase;opacity:0.55;font-size:16px;}"]),Hc=X.b.div.withConfig({displayName:"OverviewColumnCharts__ColumnCharts",componentId:"sc-13j95jk-1"})(["display:flex;justify-content:space-between;> div{display:flex;flex-direction:column;padding:0 32px 32px;width:calc((100% - 64px) / 3);background-color:#fff;border-radius:4px;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);text-align:center;p{flex-grow:1;display:flex;align-items:center;margin:48px auto 32px;max-width:200px;color:",";}strong{display:block;margin:16px auto 0;max-width:200px;padding:6px 32px;border-radius:3px;background-color:#f0f3fa;font-size:30px;color:",";}span{display:block;margin:10px 0;font-size:18px;}small{font-size:12px;color:rgba(0,17,61,0.6);}}"],ae.DARK_BLUE_55,ae.DARK_BLUE),zc=function(e){return r.a.createElement(Ao,{height:250,options:{series:[{data:e}],chart:{type:"column",spacing:[0,0,0,0]},legend:{enabled:!1},exporting:{enabled:!1},plotOptions:{column:{states:{hover:{color:ae.BLUE}}},series:{pointWidth:32,color:"rgba(7, 50, 162, 0.3)",backgroundColor:ae.DARK_BLUE}},title:null,tooltip:{backgroundColor:ae.LIGHT_GREY,borderWidth:0,borderRadius:4,shadow:!1,useHTML:!0,style:{padding:2,fontFamily:te.BROWN_PRO_REGULAR,color:ae.DARK_BLUE},formatter:function(){return(this.y||0).toLocaleString()}},xAxis:{type:"category",margin:0,lineWidth:0,tickWidth:0,labels:{style:{fontFamily:te.BROWN_PRO_REGULAR,fontSize:12,color:"rgba(0, 17, 61, 0.6)"}}},yAxis:{visible:!1}}})};function Vc(e){var t=e.stats,a=e.platform,n=e.timespan,o="".concat($e()().subtract(n||7,"days").format("MMM DD, YYYY")," - ").concat($e()().format("MMM DD, YYYY")),i=t.users,l=t.visits,s=t.geofence,c="-",u=null;return Ya()(i)||(c=i.total,u=[{name:"Users",y:i.total},{name:"iOS",y:i.iosUsers},{name:"Android",y:i.androidUsers}],"ios"===a?(c=i.iosUsers,u=[{name:"iOS",y:i.iosUsers}]):"android"===a&&(c=i.androidUsers,u=[{name:"Android",y:i.androidUsers}])),r.a.createElement(Gc,null,r.a.createElement("h3",null,"Usage Overview"),r.a.createElement(Hc,null,r.a.createElement("div",null,Ya()(i)?r.a.createElement("p",null,"Not enough data available to display the chart"):zc(u),r.a.createElement("strong",null,(c||0).toLocaleString()),r.a.createElement("span",null,"Total Unique Users"),r.a.createElement("small",null,o)),r.a.createElement("div",null,Ya()(l)?r.a.createElement("p",null,"Not enough data available to display the chart"):zc([{name:"Visits",y:l.total},{name:"Venue",y:l.venue},{name:"Home",y:l.home},{name:"Work",y:l.work}]),r.a.createElement("strong",null,Ya()(l)?"-":l.total.toLocaleString()),r.a.createElement("span",null,"Total Visits"),r.a.createElement("small",null,o)),r.a.createElement("div",null,Ya()(s)?r.a.createElement("p",null,"Not enough data available to display the chart"):zc([{name:"Total",y:s.total},{name:"Enter",y:s.enter},{name:"Dwell",y:s.dwell},{name:"Exit",y:s.exit}]),r.a.createElement("strong",null,Ya()(s)?"-":s.total.toLocaleString()),r.a.createElement("span",null,"Total Geofence Events"),r.a.createElement("small",null,o))))}Vc.propTypes={stats:ua.a.object.isRequired,platform:ua.a.string.isRequired,timespan:ua.a.number.isRequired};var Wc=Vc,Kc=a(393),Yc=a.n(Kc),Qc=Object(X.b)(xr).withConfig({displayName:"VisitsTables__StyledTable",componentId:"sc-89gfsr-0"})(["&.ReactTable{height:526px;.rt-thead{&.-header{height:50px;background-color:#fff;border-bottom:0;box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);z-index:1;.rt-th{display:flex;align-items:center;&.-sort-asc,&.-sort-desc{box-shadow:none;color:",";> div{text-decoration:underline;}}&.-sort-asc::before{content:'↑';position:relative;top:-5px;}&.-sort-desc::before{content:'↓';position:relative;bottom:-5px;}&.-alignRight{justify-content:flex-end;}}}&.-filters{position:absolute;top:10px;left:160px;background:transparent;border:0;border-radius:0;z-index:1;.rt-th:not(.-filter){display:none;}.rt-th.-filter{padding:0;> div{position:relative;margin-left:15px;> div{position:absolute;left:16px;top:7px;svg{width:10px;height:10px;}}> input{padding:8px 16px 7px 34px;width:200px;background-color:",";border:0;border-bottom:1px solid ",";border-radius:4px;outline:none;transition:all 200ms;color:",";&:active,&:focus{border-bottom:1px solid ",";}::placeholder{font-family:",";color:rgba(0,17,61,0.3);}}}}}}.rt-tbody .rt-td{padding:12px 0;&.-alignRight{text-align:right;}}.pagination-bottom ul{padding-left:24px;padding-right:24px;}}"],ae.BLUE,ae.LIGHT_GREY,ae.LIGHT_GREY,ae.DARK_BLUE,ae.BLUE,te.BROWN_PRO_REGULAR),$c=function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0},Zc=function(e){return[{width:24},{accessor:"name",headerClassName:"-filter",filterable:!0,filterMethod:function(e,t){return t[e.id].toLowerCase().includes(e.value.toLowerCase())},sortable:!0,Header:"".concat(e," Name"),Filter:function(t){var a=t.onChange,n=Yc()(a,300);return r.a.createElement("div",null,r.a.createElement(ja.a,{src:"/img/developers/new-dev-console/icon-search.svg"}),r.a.createElement("input",{placeholder:"Filter by ".concat(e.toLowerCase()),onChange:function(e){return n(e.target.value)}}))}},{Header:"Users",accessor:"stats.users",width:100,className:"-alignRight",headerClassName:"-alignRight",sortable:!0,Cell:function(e){return e.value.toLocaleString()}},{Header:"Geofence"===e?"Events":"Visits",accessor:"stats.visits",width:100,className:"-alignRight",headerClassName:"-alignRight",sortable:!0,Cell:function(e){return e.value.toLocaleString()}},{width:24}]},Jc=Zc("Chain"),Xc=Zc("Category"),eu=Zc("Geofence"),tu=Zc("Dummy"),au=Array(10).fill(null).map(function(){return{name:"Dummy Name",stats:{users:1e3,visits:1e3}}});function nu(e){var t=e.isFreeTierSDK,a=e.stats,o=a.byVenueChainId,i=void 0===o?[]:o,l=a.byCategoryId,s=void 0===l?[]:l,c=a.byGeofenceId,u=void 0===c?[]:c,p=Object(n.useMemo)(function(){return i.filter(function(e){return!Ya()(e.name)}).sort($c)},[i]),d=Object(n.useMemo)(function(){return s.filter(function(e){return!Ya()(e.name)}).sort($c)},[s]),m=Object(n.useMemo)(function(){return u.filter(function(e){return!Ya()(e.name)}).sort($c)},[u]);return t?r.a.createElement(ou,{title:"Unlock this feature by upgrading to Enterprise",description:" Go beyond user and visit counts by accessing chain and category metrics from your stats dashboard. Upgrade to Enterprise to experience this feature and more. ",_css:{marginTop:170}},r.a.createElement(iu,{_css2:{transform:"translateY(-150px)"}},r.a.createElement(Tn,{noPadding:!0,title:"Dummy Visits"},r.a.createElement(Qc,{columns:tu,data:au,showPagination:!1})),r.a.createElement(Tn,{noPadding:!0,title:"Dummy Visits"},r.a.createElement(Qc,{columns:tu,data:au,showPagination:!1})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Tn,{noPadding:!0,title:"Chain Visits"},r.a.createElement(Qc,{columns:Jc,data:p,noDataText:"Not enough data available to display the chart"})),r.a.createElement(Tn,{noPadding:!0,title:"Category Visits"},r.a.createElement(Qc,{columns:Xc,data:d,noDataText:"Not enough data available to display the chart"})),r.a.createElement(Tn,{noPadding:!0,title:"Geofence Events"},r.a.createElement(Qc,{columns:eu,data:m,noDataText:"Not enough data available to display the chart"})))}nu.propTypes={isFreeTierSDK:ua.a.bool.isRequired,stats:ua.a.object.isRequired};var ru=nu,ou=Object(X.b)(ds).withConfig({displayName:"VisitsTables___StyledPilgrimFeatureGate",componentId:"sc-89gfsr-1"})(["",""],function(e){return e._css}),iu=X.b.div.withConfig({displayName:"VisitsTables___StyledDiv",componentId:"sc-89gfsr-2"})(["",""],function(e){return e._css2}),lu=X.b.div.withConfig({displayName:"AppPilgrimUsagePage__Filters",componentId:"sc-1izjx4l-0"})(["position:absolute;right:128px;top:105px;display:flex;z-index:1;.select{margin-left:24px;&:nth-child(1),&:nth-child(2){width:140px;}}"]),su={control:function(e){return g()({},e,{padding:"0 8px",minWidth:100,height:32,minHeight:32,backgroundColor:"#fff",borderStyle:"none",borderRadius:"4px",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.1)",fontSize:12,transition:"background-color 0.2s, border 0.2s",":hover":{backgroundColor:ae.BLUE,color:"#fff"}})},input:function(e){return g()({},e,{color:"#fff"})},placeholder:function(e){return g()({},e,{color:"inherit"})},singleValue:function(e){return g()({},e,{color:"inherit"})},dropdownIndicator:function(e){return g()({},e,{padding:6,":hover":{color:"#fff"}})},indicatorSeparator:function(){}},cu=[{value:"",label:"All Countries"}].concat(Object.keys(Object(Bc.getCodeList)()).map(function(e){return{value:e.toUpperCase(),label:Object(Bc.getName)(e)}})),uu=[{label:"All Platforms",value:""},{label:"iOS",value:"ios"},{label:"Android",value:"android"}],pu=[{label:"1 day",value:1},{label:"7 days",value:7},{label:"14 days",value:14},{label:"30 days",value:30}];function du(e){var t=e.appId,a=e.statsInfo,o=e.isFreeTierSDK,i=e.isFetching,l=e.dispatch,s=pn({cc:"",platform:"",timespan:7}),c=E()(s,2),u=c[0],p=c[1],d=a[_t.a.stringify(u)]||{};return Object(n.useEffect)(function(){Ya()(d)&&l(Ut(t,u))},[u.cc,u.platform,u.timespan]),i?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Pilgrim SDK Usage"),r.a.createElement(lu,null,r.a.createElement(jn.a,{className:"select",placeholder:"Country",styles:su,options:cu,value:cu.filter(function(e){return e.value===u.cc}),onChange:function(e){return p({cc:e.value})}}),r.a.createElement(jn.a,{className:"select",placeholder:"Platform",styles:su,isSearchable:!1,options:uu,value:uu.filter(function(e){return e.value===u.platform}),onChange:function(e){return p({platform:e.value})}}),r.a.createElement(jn.a,{className:"select",styles:su,isSearchable:!1,options:pu,value:pu.filter(function(e){return e.value===u.timespan}),onChange:function(e){return p({timespan:e.value})}})),r.a.createElement(Wc,{stats:d,platform:u.platform,timespan:u.timespan}),r.a.createElement(ru,{stats:d,isFreeTierSDK:o}))}du.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,statsInfo:ua.a.object.isRequired,isFreeTierSDK:ua.a.bool.isRequired,isFetching:ua.a.bool},du.defaultProps={isFetching:!1};var mu=Object(o.b)(function(e,t){var a=e.apps,n=e.pilgrimExtras,r=t.match.params.id,o=a.byId[r]||{},i=["enterprise","enterpriseTrial"].includes(a.accountType),l=n.statsById[r]||{};return{appId:r,statsInfo:l,isFreeTierSDK:!i&&o.allowPilgrimSdk,isFetching:o.isFetching||l.isFetching}})(du);function gu(){return r.a.createElement("section",null,r.a.createElement("h3",null,"DOS AND DON’TS"),r.a.createElement("div",null,r.a.createElement("h4",null,"We are thrilled that you are interested in using our geo-location SDK!"),r.a.createElement("p",null,"Foursquare is committed to being an ethical company ensuring the products are designed to protect user data. Our location technology is a powerful tool and we believe that mobile applications should only use our technology if they meet all three pillars:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Consumer value"),r.a.createElement("li",null,"Transparency and clear consent"),r.a.createElement("li",null,"Consumer control")),r.a.createElement("p",null,"We work closely with partners to share best industry practices for building a clear and transparent onboarding flow, location permissioning and privacy policy. Hence, we have compiled a list of Dos and Don’ts to aid you as you incorporate our SDK in your mobile application."),r.a.createElement("h4",null,"Dos:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Be clear in your privacy policy and consent notification about what data you are collecting from your users, how you are using that data and who you are sharing that data with."),r.a.createElement("li",null,"Obtain opt-in consent from your users if you intend to track their location. "),r.a.createElement("li",null,"Use our location technology only if there is a value to consumers. If there is a change and you do not need location data anymore, discontinue use of our SDK."),r.a.createElement("li",null,"Secure location data collected using industry standard administrative, technical and organizational security."),r.a.createElement("li",null,"Be aware of how your application might be used if put in the hands of bad actors (defined as individuals or organizations who may use your application to create harm) and ensure you have safeguards in place to mitigate risks.")),r.a.createElement("h4",null,"Don’ts:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Do not")," use the SDK for any purpose other than what was described and approved by Foursquare through the vetting process."),r.a.createElement("li",null,r.a.createElement("b",null,"Do not")," share the SDK or provide access to individuals or organizations who are not directly associated with the development of your application."),r.a.createElement("li",null,r.a.createElement("b",null,"Do not")," use the SDK to collect and pass data to third-party sources without prior notification to Foursquare."))))}var hu=X.b.div.withConfig({displayName:"RequestForm__Row",componentId:"sc-19gq1aq-0"})(["display:flex;justify-content:space-between;> div{flex-grow:1;+ div{margin-left:24px;}}"]),fu=[{value:"Advertising and AdTech",label:"Advertising and AdTech"},{value:"Artificial Intelligence ",label:"Artificial Intelligence "},{value:"Auto and Nav",label:"Auto and Nav"},{value:"Consumer Apps",label:"Consumer Apps"},{value:"Creative Agency",label:"Creative Agency"},{value:"Entertainment and Media",label:"Entertainment and Media"},{value:"Financial Services",label:"Financial Services"},{value:"Fitness",label:"Fitness"},{value:"Government",label:"Government"},{value:"Healthcare",label:"Healthcare"},{value:"Hospitality",label:"Hospitality"},{value:"Insurance Services",label:"Insurance Services"},{value:"Listing Syndicator",label:"Listing Syndicator"},{value:"Mobile Hardware",label:"Mobile Hardware"},{value:"Mobile Marketing Automation",label:"Mobile Marketing Automation"},{value:"Other",label:"Other"},{value:"Real Estate",label:"Real Estate"},{value:"Restaurant Industry",label:"Restaurant Industry"},{value:"Retail",label:"Retail"},{value:"Software",label:"Software"},{value:"Travel",label:"Travel"}],bu=[{value:!0,label:"YES"},{value:!1,label:"NO"}],vu=[{value:"0-100",label:"0-100"},{value:"100-1000",label:"100-1000"},{value:"1,000-10,000",label:"1,000-10,000"},{value:"> 10,000",label:"> 10,000"}],yu=[{value:"Industry",label:"Industry"},{value:"Event/Conference",label:"Event/Conference"},{value:"Referral",label:"Word of Mouth/Referral"},{value:"Enterprise.foursquare.com",label:"Enterprise.foursquare.com"},{value:"Developer.foursquare.com",label:"Developer.foursquare.com"},{value:"Pilgrimsdk.com",label:"Pilgrimsdk.com"},{value:"Social Media",label:"Social Media"},{value:"Other",label:"Other"}],Eu=[{value:"Airship",label:"Airship"},{value:"Braze",label:"Braze"},{value:"Iterable",label:"Iterable"},{value:"Leanplum",label:"Leanplum"},{value:"Localytics",label:"Localytics"},{value:"mParticle",label:"mParticle"},{value:"Salesforce Marketing",label:"Salesforce Marketing"},{value:"Cloud",label:"Cloud"},{value:"Other",label:"Other"}],xu=Object(Bc.getNameList)(),wu=Object.keys(xu).reduce(function(e,t){return[].concat(d()(e),[{value:t.toLocaleUpperCase(),label:t.toLocaleUpperCase()}])},[]);function Cu(e){var t=e.errors,a=e.state,o=e.setState,i=un(pr),l=E()(i,3),s=l[0],c=l[1],u=l[2];Object(n.useEffect)(function(){if(u)me.error(u.message);else if(c){var e=c.user;o({firstName:e.firstName,lastName:e.lastName,email:e.contact.email,userId:e.id})}},[u,c,o]);var p=Object(n.useCallback)(function(e){return o({firstName:e.target.value})}),d=Object(n.useCallback)(function(e){return o({lastName:e.target.value})}),m=Object(n.useCallback)(function(e){return o({email:e.target.value})}),g=Object(n.useCallback)(function(e){return o({company:e.target.value})}),h=Object(n.useCallback)(function(e){return o({industry:e.value})}),f=Object(n.useCallback)(function(e){return o({address:e.target.value})}),b=Object(n.useCallback)(function(e){return o({country:e.value})}),v=Object(n.useCallback)(function(e){return o({source:e.value,sourceText:""})}),y=Object(n.useCallback)(function(e){return o({needsPilgrimSDK:e.value})}),x=Object(n.useCallback)(function(e){o({mmas:e.map(function(e){return e.value})})},[]),w=Object(n.useCallback)(function(e){return o({monthlyActiveUsers:e.value})}),C=Object(n.useCallback)(function(e){return o({othermma:e.target.value})}),I=Object(n.useCallback)(function(e){return o({appStoreUrl:e.target.value})}),k=Object(n.useCallback)(function(e){return o({googlePlayStoreUrl:e.target.value})}),S=Object(n.useCallback)(function(e){return o({privacyPolicyUrl:e.target.value})}),R=Object(n.useCallback)(function(e){return o({inEuropeanUnion:e.value})}),T=Object(n.useCallback)(function(e){return o({useCase:e.target.value})}),O=Object(n.useCallback)(function(e){return o({sourceText:e.target.value})});return s?r.a.createElement($a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement("h3",null,"DEVELOPER INFORMATION"),r.a.createElement("div",null,r.a.createElement(hu,null,r.a.createElement(cn,{label:"First Name",value:a.firstName,onChange:p,error:t.firstName,required:!0,disabled:!0}),r.a.createElement(cn,{label:"Last Name",value:a.lastName,onChange:d,error:t.lastName,required:!0,disabled:!0})),r.a.createElement(cn,{label:"Email",value:a.email,onChange:m,error:t.email,required:!0,disabled:!0}),r.a.createElement(Gn,{label:"How did you hear about us?",value:yu.filter(function(e){return e.value===a.source}),options:yu,onChange:v,error:t.source,required:!0}),"Event/Conference"===a.source&&r.a.createElement(cn,{value:a.sourceText,placeholder:"Enter the name of the event/conference",onChange:O,error:t.sourceText,required:!0}),"Other"===a.source&&r.a.createElement(cn,{value:a.sourceText,placeholder:"Please enter here",onChange:O,error:t.sourceText,required:!0}),r.a.createElement("hr",null))),r.a.createElement("section",null,r.a.createElement("h3",null,"COMPANY INFORMATION"),r.a.createElement("div",null,r.a.createElement(cn,{label:"Company Name",placeholder:"Company",value:a.company,onChange:g,error:t.company,required:!0}),r.a.createElement(Gn,{label:"Industry",value:fu.filter(function(e){return e.value===a.industry}),options:fu,onChange:h}),r.a.createElement(cn,{label:"Address",placeholder:"Street, City, State, Zip",value:a.address,onChange:f,error:t.address,required:!0}),r.a.createElement(Gn,{label:"Country",placeholder:"Country",value:wu.filter(function(e){return e.value===a.country}),options:wu,onChange:b,error:t.country,required:!0}),r.a.createElement("hr",null))),r.a.createElement("section",null,r.a.createElement("h3",null,"APP INFORMATION"),r.a.createElement("div",null,r.a.createElement(Gn,{label:"Monthly Active Users",value:vu.filter(function(e){return e.value===a.monthlyActiveUsers}),options:vu,onChange:w}),r.a.createElement(cn,{label:"Privacy Policy URL",placeholder:"https://www.yourapp.com/privacy",value:a.privacyPolicyUrl,onChange:S}),r.a.createElement(cn,{label:"IOS App Store URL",placeholder:"https://itunes.apple.com/us/app/foursquare/id306934924?mt=8",value:a.appStoreUrl,onChange:I}),r.a.createElement(cn,{label:"Google Play Store URL",placeholder:"https://play.google.com/store/apps/details?id=com.joelapenna.foursquared",value:a.googlePlayStoreUrl,onChange:k}),r.a.createElement(Gn,{label:"Which of the following mobile marketing automation tools do you currently use?",options:Eu,value:a.mmas&&a.mmas.map(function(e){return{label:e,value:e}}),onChange:x,isMulti:!0}),a.mmas.includes("Other")&&r.a.createElement(cn,{value:a.othermma,placeholder:"Please enter other mobile marketing automation",onChange:C}),r.a.createElement(Gn,{label:"Will your app be available to users in the European Union?",options:bu,value:bu.filter(function(e){return e.value===a.inEuropeanUnion}),onChange:R,error:t.inEuropeanUnion,required:!0}),r.a.createElement(Gn,{label:"Are you sure you want the Pilgrim SDK?",options:bu,value:bu.filter(function(e){return e.value===a.needsPilgrimSDK}),onChange:y,required:!0,error:t.needsPilgrimSDK,helpText:r.a.createElement(r.a.Fragment,null,"The API might be all you need. Checkout this"," ",r.a.createElement("a",{href:"https://developer.foursquare.com/comparison",target:"_blank",rel:"noopener noreferrer"},"product comparison"),"!")}),r.a.createElement(cn,{multiline:!0,label:"Use Case",placeholder:"Please tell us a bit about what your app does and how you plan to utilize the Pilgrim SDK to benefit your user's experience",helpText:"Submissions without enough details will be rejected. (125 character minimum)",onChange:T,value:a.useCase,error:t.useCase,required:!0}))))}Cu.propTypes={errors:ua.a.object.isRequired,state:ua.a.object.isRequired,setState:ua.a.func.isRequired};var Iu=Cu,ku=X.b.div.withConfig({displayName:"TermsOfService__Content",componentId:"d7qmkf-0"})(["height:520px;overflow-y:scroll;padding-right:12px;"]);function Su(){return r.a.createElement("section",null,r.a.createElement("h3",null,"SDK LICENSE AGREEMENT"),r.a.createElement("div",null,r.a.createElement(ku,null,r.a.createElement("h4",null,"PLEASE READ THESE THIS SDK LICENSE AGREEMENT (“AGREEMENT”) CAREFULLY BEFORE USING THE FOURSQUARE SDK THAT IS OFFERED BY FOURSQUARE LABS, INC. (“FOURSQUARE”). THIS AGREEMENT IS MADE AND ENTERED INTO BY AND BETWEEN FOURSQUARE AND THE ENTITY OR PERSON AGREEING TO THESE TERMS (“LICENSEE”)."),r.a.createElement("p",null,"This Agreement is effective as of the date Licensee downloads the SDK. If you are accepting on behalf of Licensee, you represent and warrant that (i) you have full legal authority to bind Licensee to this Agreement; (ii) you have read and understand this Agreement; and (iii) you agree, on behalf of Licensee, to this Agreement."),r.a.createElement("p",null,"1. License. Subject to full compliance with the terms of this Agreement, Foursquare hereby grants Licensee a limited, personal, non-sublicensable, non-transferable, royalty-free, nonexclusive license to (i) download and use Foursquare’s Software Development Kit (“SDK”) solely to allow Licensee to copy, install, use and integrate the SDK in object code form only into Licensee’s application (the “App”) to communicate with Foursquare’s proprietary services (the “Service”) and to access content, documentation, code, data and related materials (the “Content”), (the SDK, Service, and Content, collectively, the “Foursquare Materials”)(ii) distribute the SDK in object code form only as part of an App, and (iii) use, reproduce, distribute, transmit, display and perform the Content as part of the App; provided that distribution of the Foursquare Materials shall be subject to an end-user license agreement which is at least as protective of Foursquare’s proprietary rights in the Foursquare Materials as those contained in this Agreement. Without limiting the foregoing, such terms and conditions shall include, without limitation terms for Foursquare’s benefit regarding (a) restrictions on reverse engineering (to the maximum extent permitted by applicable law); (b) disclaimer of warranties; and (c) limitation of liability."),r.a.createElement("p",null,"2. Restrictions. Except as set forth in Section 1, no other right or license is granted to Licensee regarding the SDK, the Service or Content. Except in connection with Licensee’s limited right to distribute the SDK in object code form in accordance with Section 1(ii), Licensee will not disclose (or allow access to) the SDK (or any information derived from them) to any third party and will limit access to the SDK (and any derived information) to employees of Licensee who are developing the App. In support of this obligation, Licensee will implement and maintain industry standard administrative, technical and organizational security. Licensee will not (i) reverse assemble, reverse compile or reverse engineer any aspect of the SDK, or otherwise attempt to discover any SDK source code or underlying Proprietary Information (as that term is defined below), or authorize or encourage anyone else to do so (except to the extent such restriction is prohibited by applicable law), (ii) store or cache any Content after termination or expiration of this Agreement, (iv) interfere with, circumvent, modify, disrupt or disable features or functionality, including without limitation any such mechanism used to restrict or control the functionality of any Foursquare service, (v) use the Foursquare Materials to create a location database or to improve, edit, augment or supplement venue information in Licensee’s own places or location database (if applicable) for their own internal use or (vi) use the Foursquare Materials for the purpose of selling advertisements, ad targeting or ad re-targeting, or offering attribution services or analytics products; (vi) use the Foursquare Materials for any illegal or illicit purpose; or (vii) use the SDK for any life-saving or medical purpose."),r.a.createElement("p",null,"3. Proprietary Rights. The Foursquare Materials (including, without limitation, all improvements, derivatives, modifications and the like to the Foursquare Materials), and all intellectual property rights in and to the foregoing, are and shall at all times remain the sole and exclusive property of Foursquare and are protected by applicable intellectual property laws and treaties."),r.a.createElement("p",null,"4. Privacy. Licensee shall post a privacy policy to users of the App compliant with all applicable laws, rules, regulations and industry standards that clearly discloses how Licensee collects, uses, stores and discloses user data, including that the App incorporates the SDK and that the App will transmit data to third parties such as Foursquare. Foursquare will not provide to Licensee any location data in certain categories, such as personal homes, places of worship, schools, gun stores, and medical centers. Foursquare may update this hidden category list at any time and in its sole discretion."),r.a.createElement("p",null,"5. Audit. At any time during the Term, Foursquare shall have the right to audit Licensee’s compliance with the terms of this Agreement, including Licensee’s privacy policy and consent disclosures (the “Disclosures”). If Foursquare, in its sole discretion, believes that the Disclosures do not comply with applicable laws, including if applicable, EU Regulation 2016/679 (known as the General Data Protection Regulation) or do not clearly describe Licensee’s data practices, Foursquare may immediately terminate this Agreement."),r.a.createElement("p",null,"6. Compatibility. From time to time, Foursquare may update the SDK or the Service, and Licensee shall promptly incorporate the update to The App If any Licensee App uses or implements an outdated version of the SDK or the Service, Licensee acknowledges and agrees that such App may not be able to communicate with the Service. Licensee understands that Foursquare may cease support of old versions or releases of the SDK."),r.a.createElement("p",null,"7. Support. Licensee agrees to report to Foursquare any errors or difficulties discovered with respect to the SDK and the characteristic conditions and symptoms of such errors and difficulties. Foursquare is in no way obligated to provide Licensee with any error correction or support, but may provide whatever error correction and/or support services Foursquare may determine in its sole discretion (and anything it provides in connection therewith will be deemed part of the SDK). If Licensee’s access to the Service causes material harm to Foursquare’s infrastructure, Foursquare may suspend Licensee’s access to the Service."),r.a.createElement("p",null,"8. Feedback. Licensee may provide Foursquare with feedback it reasonably requests with respect to Licensee’s use of the SDK and Services (e.g., suggestions or other information or materials relating to the SDK), and may voluntarily provide additional feedback (collectively, “Feedback”). Licensee hereby grants Foursquare a nonexclusive, transferable, sublicensable, worldwide, perpetual, irrevocable, royalty-free license to freely exploit and make available all Feedback."),r.a.createElement("p",null,"9. Termination. Foursquare may terminate this Agreement, for any or no reason. In addition, Foursquare may suspend Licensee’s access to the SDK if Foursquare determines that such access may result in material harm to Foursquare, the Services, its systems or its reputation. Foursquare may also terminate this Agreement on written notice if Licensee enters bankruptcy, has a receiver appointed or becomes insolvent. Upon termination, the license granted hereunder will terminate and Licensee shall immediately destroy all copies of the Foursquare Materials in Licensee’s possession or control, together with any and all documents, notes and other materials regarding the SDK to Licensee, including, without limitation, all Proprietary Information and all copies and extracts of the foregoing, but the terms of this Agreement will otherwise remain in effect. The following Sections shall survive termination of this Agreement: 2 through 4 and 7 through 15 ."),r.a.createElement("p",null,"10. Confidentiality. The SDK, along with any other non-public information disclosed by Foursquare in connection with this Agreement, constitutes Foursquare’s confidential information (“Confidential Information”). Licensee hereby agrees (i) to hold the Confidential Information in confidence and to take reasonable precautions to protect such Confidential Information (including, without limitation, all precautions the Licensee employs with respect to its own confidential materials), (ii) not to divulge any Confidential Information to any third person (except consultants, subject to the conditions stated below), (iii) not to use any Confidential Information except for the purposes set forth in this Agreement, and (iv) not to copy or reverse engineer any Confidential Information. Any employee or consultant of Licensee given access to the Confidential Information must have a legitimate “need to know” and must be bound to confidentiality obligations and use restrictions at least as protective of the Confidential Information as this Agreement. Licensee acknowledges and agrees that due to the unique nature of the Foursquare’s Confidential Information, there can be no adequate remedy at law for any breach of its obligations hereunder and therefore, that upon any such breach or any threat thereof, Foursquare shall be entitled to seek appropriate equitable relief (without the posting of a bond) in addition to whatever remedies it might have at law."),r.a.createElement("p",null,"11. REPRESENTATIONS & WARRANTIES. LICENSEE REPRESENTS AND WARRANTS THAT IT SHALL (A) USE THE LICENSED MATERIAL IN ITS MOBILE APPLICATIONS OR SERVICES WHERE THERE IS A CLEAR BENEFIT TO ITS END USERS AND/OR CONSUMERS AND (B) MAINTAIN SUCH USE IN ITS MOBILE APPLICATIONS OR SERVICES FOR AS LONG AS IT LICENSES THE LICENSED MATERIAL."),r.a.createElement("p",null,"12. WARRANTY DISCLAIMER FOURSQUARE PROVIDES THE FOURSQUARE MATERIALS “AS IS” AND WITHOUT WARRANTY OF ANY KIND, AND HEREBY DISCLAIMS ALL EXPRESS OR IMPLIED WARRANTIES, INCLUDING WITHOUT LIMITATION WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, PERFORMANCE, ACCURACY, RELIABILITY, AND NON-INFRINGEMENT."),r.a.createElement("p",null,"13. LIMITATION OF LIABILITY. UNDER NO CIRCUMSTANCES AND UNDER NO LEGAL THEORY, INCLUDING, BUT NOT LIMITED TO, TORT, CONTRACT, NEGLIGENCE, STRICT LIABILITY, OR OTHERWISE, SHALL FOURSQUARE OR ITS SUPPLIERS OR RESELLERS BE LIABLE TO LICENSEE OR ANY OTHER PERSON FOR ANY INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OF ANY CHARACTER INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOST PROFITS, LOSS OF GOODWILL, WORK STOPPAGE, ACCURACY OF DATA OR RESULTS, COMPUTER FAILURE OR MALFUNCTION, OR DAMAGES RESULTING FROM LICENSEE’S USE OF THE SDK OR SERVICES, OR LICENSEE’S END USERS’ USE OF THE APP. FOURSQUARE’S LIABILITY FOR DAMAGES OF ANY KIND WHATSOEVER ARISING OUT OF THIS AGREEMENT SHALL BE LIMITED TO $1. THE FOREGOING LIMITATIONS SHALL APPLY EVEN IF LICENSEE SHALL HAVE BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGES. NEITHER FOURSQUARE NOR ITS LICENSORS SHALL BE RESPONSIBLE FOR ANY MATTER BEYOND THEIR REASONABLE CONTROL."),r.a.createElement("p",null,"14. Indemnity. Licensee shall indemnify and hold harmless Foursquare from any and all claims, damages, liabilities, costs and fees (including reasonable attorneys’ fees) arising from Licensee’s use of the SDK and any claim arising from Licensee’s breach of Section 4."),r.a.createElement("p",null,"15. Government Use. If Licensee is part of an agency, department, or other entity of the United States Government (“Government”), the use, duplication, reproduction, release, modification, disclosure or transfer of the SDK are restricted in accordance with the Federal Acquisition Regulations as applied to civilian agencies and the Defense Federal Acquisition Regulation Supplement as applied to military agencies. The SDK is a “commercial item,” “commercial computer software” and “commercial computer software documentation.” In accordance with such provisions, any use of the SDK by the Government shall be governed solely by the terms of this Agreement."),r.a.createElement("p",null,"16. Export Controls. Licensee shall comply with all export laws and restrictions and regulations of the Department of Commerce, the United States Department of Treasury Office of Foreign Assets Control (“OFAC”), or other United States or foreign agency or authority, and Licensee shall not export, or allow the export or re-export of the SDK in violation of any such restrictions, laws or regulations. By downloading or using the SDK, Licensee agrees to the foregoing and represents and warrants that Licensee is not located in, under the control of, or a national or resident of any restricted country."),r.a.createElement("p",null,"17. Miscellaneous. This Agreement represents the complete agreement concerning the subject matter hereof between the parties and supersedes all prior agreements and representations between them. This Agreement may be amended only by a writing executed by both parties. If any provision of this Agreement is held to be unenforceable for any reason, such provision shall be reformed only to the extent necessary to make it enforceable. The failure of Foursquare to act with respect to a breach of this Agreement by Licensee or others does not constitute a waiver and shall not limit Foursquare’s rights with respect to such breach or any subsequent breaches. Licensee acknowledges and agrees that due to the unique nature of Foursquare’s Proprietary Information, there can be no adequate remedy at law for any breach of its obligations hereunder, that any such breach may allow Licensee or third parties to unfairly compete with Foursquare resulting in irreparable harm to Foursquare, and therefore, that upon any such breach or threat thereof, Foursquare shall be entitled to injunctions and other appropriate equitable relief without posting a bond in addition to whatever remedies it may have at law. This Agreement is personal to Licensee and may not be assigned or transferred for any reason whatsoever without Foursquare’s consent and any action or conduct in violation of the foregoing shall be void and without effect. Foursquare expressly reserves the right to assign this Agreement and to delegate any of its obligations hereunder. This Agreement shall be governed by and construed under New York without regard to the conflicts of laws provisions therein. The sole and exclusive jurisdiction and venue for actions arising under this Agreement shall be the State and Federal courts in New York, New York; Licensee hereby agrees to service of process in accordance with the rules of such courts. The party prevailing in any dispute under this Agreement shall be entitled to its costs and legal fees."),r.a.createElement("p",null,"18. European Union. This Section 18 shall apply if the App or Licensee processes Relevant Personal Data as defined herein. In the course of Processing Relevant Personal Data (defined below) in connection with the Agreement, Foursquare and Licensee agrees to comply with its respective processing obligations set forth below, each acting reasonably and in good faith. In the event of a conflict, in relation to the Processing of Relevant Personal Data, between this Section 18 and the other terms of the Agreement, this Section 18 shall prevail. Any capitalized term used but not defined in this Section 18 shall have the meaning set forth elsewhere in the Agreement."),r.a.createElement("h4",null,"A. DEFINITIONS "),r.a.createElement("p",null,"The following capitalized terms used in this Section 18 shall have the meanings given to them below: “appropriate technical and organizational measures,” “Controller,” “Data Protection Impact Assessment,” “Data Subject, “Processor,” “Processing,” “Personal Data,” and “Supervisory Authority,” have the meaning given to them by applicable Data Protection Laws."),r.a.createElement("p",null,"“Data Protection Laws” means: (a) Regulation (EU) 2016/679, Directive 95/46/EC, Directive 2002/58/EC and Directive 2009/136/EC, together with any national implementing laws in any member state of the European Union; and (b) any equivalent legislation, or legislation dealing with the same subject matter, anywhere in the world; each as applicable to either party and each as amended, repealed, consolidated or replaced from time to time."),r.a.createElement("p",null,"“Foursquare Personal Data” means any data disclosed by Foursquare to Licensee in connection with the Agreement which is Personal Data under applicable Data Protection Laws. “Licensee Personal Data” means, to the extent it is Personal Data under applicable Data Protection Laws, Licensee Data, Licensee User Information, Feedback and any other data disclosed by Licensee to Foursquare in connection with the Agreement."),r.a.createElement("p",null,"“Privacy Shield Principles” means the data protection principles established under the EU-US Privacy Shield Framework, as administered by the US Department of Commerce, accessible at"," ",r.a.createElement("a",{href:"https://www.privacyshield.gov/article?id=Requirements-of-Participation"},"https://www.privacyshield.gov/article?id=Requirements-of-Participation"),"."),r.a.createElement("p",null,"“Relevant Personal Data” means Foursquare Personal Data and Licensee Personal Data."),r.a.createElement("p",null,"“Sub-processor” means any Processor engaged by the Processor Party (defined in Section 3 below) to Process Relevant Personal Data in accordance with and as permitted by the Agreement"),r.a.createElement("h4",null,"B. ROLES AND RESPONSIBILITIES OF THE PARTIES"),r.a.createElement("p",null,"1. Both parties shall, in connection with the Agreement, only Process Relevant Personal Data in accordance with the requirements of applicable Data Protection Laws."," "),r.a.createElement("p",null,"2. The parties hereby acknowledge and agree that either party may, from time to time, as expressly permitted by the Agreement, act as a Controller in respect of Relevant Personal Data it receives from the other party, in which case the party receiving the Relevant Personal Data shall:"),r.a.createElement("p",null,"(a) only Process the Relevant Personal Data for limited and specified purposes consistent with the consent provided by the Data Subject or another lawful basis under applicable Data Protection Laws;"," "),r.a.createElement("p",null,"(b) provide the same level of protection for the Relevant Personal Data as the Privacy Shield Principles, not including the requirement to be a Privacy Shield organization or have an independent recourse mechanism, provided it makes available an equivalent mechanism; and"),r.a.createElement("p",null,"(c) if it makes a determination that it can no longer provide protection in accordance with Section 2(b), notify the other party and cease Processing or take other reasonable and appropriate steps to remediate."),r.a.createElement("p",null,"3. The parties hereby acknowledge and agree that, in the event that a party Processes Relevant Personal Data on behalf of the other party, the party performing such Processing shall be a Processor (the “Processor Party”) on behalf of the other party (the “Controller Party”). The Processor Party shall, in relation to such Processing:"),r.a.createElement("p",null,"(a) Process Relevant Personal Data (including any transfers of Relevant Personal Data to recipients located outside the European Economic Area) only for limited and specified purposes on behalf of and in accordance with the Controller Party’s prior written instructions, which shall be deemed to include an instruction to Process Relevant Personal Data as necessary to perform the Processor Party’s obligations under the Agreement, unless such instruction is amended in writing by the Controller Party;"),r.a.createElement("p",null,"(b) if at any point the Processor Party is unable to comply with the Controller Party’s instructions regarding the Processing of Relevant Personal Data (whether as a result of a change in applicable Data Protection Laws, or a change in the Controller Party’s instructions, or howsoever), the Processor Party shall promptly: (i) notify the Controller Party of such inability, providing a reasonable level of detail as to the instructions with which it cannot comply and the reasons why it cannot comply, to the greatest extent permitted by applicable law; and (ii) cease all Processing of the affected Relevant Personal Data (other than merely storing and maintaining the security of the affected Relevant Personal Data) until such time as the Controller Party issues new instructions with which the Processor Party is able to comply;"),r.a.createElement("p",null,"(c) ensure that its employees, officers, representatives, advisers or consultants, and any Sub-processors, have committed themselves to ensuring the confidentiality of all Relevant Personal Data that they Process;"),r.a.createElement("p",null,"(d) implement appropriate technical and organizational measures, taking into account in particular the risks presented by Processing, in particular from accidental or unlawful loss, alteration, unauthorized disclosure or access to Relevant Personal Data. Such measures shall ensure a level of security appropriate to the risk;"),r.a.createElement("p",null,"(e) in each instance in which the Processor Party engages a Sub-processor: (i) only appoint such Sub-processor in accordance with the prior written authorization of the Controller Party (such authorization not to be unreasonably withheld, conditioned or delayed), including as permitted pursuant to the Agreement; (ii) keep the Controller Party informed of any change to the role or status of any Sub-processor; (iii) enter into a binding written agreement with the Sub-processor that imposes on the Sub-processor the same obligations that apply to the Processor Party under the Agreement, including this DPA, with respect to the Processing of Relevant Personal Data; and (iv) remain primarily liable and responsible for the acts and omissions of each Sub-processor that breach such Sub-processor’s data protection obligations as if they were acts and omissions of the Processor Party;"),r.a.createElement("p",null,"(f) at the Controller Party’s request and expense, promptly provide the Controller Party with all reasonable assistance necessary to respond appropriately to requests from Data Subjects to exercise their rights;"),r.a.createElement("p",null,"(g) taking into account the nature of the Processing, assist the Controller Party by appropriate technical and organizational measures, insofar as this is possible, for the fulfilment of the Controller Party’s obligation to respond to requests for exercising a data subject’s rights under applicable Data Protection Laws;"," "),r.a.createElement("p",null,"(h) promptly provide the Controller Party with all information necessary to enable the Controller Party to demonstrate compliance with its obligations under Applicable Data Protection Laws, to the extent that the Processor Party is able to provide such information;"),r.a.createElement("p",null,"(i) permanently and securely delete (or, at the election of the Controller Party, return) all Relevant Personal Data in the possession or control of the Processor Party or any of its Sub-processors or upon notification by the Controller Party that a Data Subject has exercised its right to delete any Relevant Personal Data in its control or possession, within thirty (30) calendar days after the termination or expiration of the Agreement, unless otherwise required by any applicable law of the EU or an member state of the EU; and (ii) procure that its Sub-processors shall do the same;"," "),r.a.createElement("p",null,"(j) at the Controller Party’s request and expense: (i) promptly provide the Controller Party with all information necessary to enable the Controller Party to demonstrate compliance with its obligations under applicable Data Protection Laws, to the extent that the Processor Party is able to provide such information; and (ii) allow for and contribute to audits, conducted by the Controller Party or an independent auditor selected by the Controller Party and bound by a duty of confidentiality, including inspection, of any documentation, responses to questions and other written information reasonably requested by the Controller Party or such auditor;"),r.a.createElement("p",null,"(k) upon the Controller Party’s reasonable request, promptly provide the Controller Party with all reasonable assistance necessary to enable the Controller Party to: (i) notify relevant breaches of applicable Data Protection Laws to the relevant Supervisory Authorities and/or affected Data Subjects; and (ii) obtain any necessary authorizations from Supervisory Authorities;"),r.a.createElement("p",null,"(l) provide at least the same level of privacy protection as is required by the Privacy Shield Principles and, upon reasonable notice, undertake reasonable and appropriate steps to stop and remediate unauthorized Processing;"," "),r.a.createElement("p",null,"(m) notify the Controller Party if the Processor Party makes a determination that it can no longer meet its obligation to provide the same level of protection as is required by the Privacy Shield Principles;"," "),r.a.createElement("p",null,"(n) Process the Personal Data in a manner consistent with the Controller Party’s obligations (if any) under the Privacy Shield Principles; and"),r.a.createElement("p",null,"(o) taking into account the nature of the Processing, assist the Controller Party in responding to individuals exercising their rights under the Privacy Shield Principles."))))}var Ru=Object(X.b)(Tn).withConfig({displayName:"PilgrimSDKRequestSteps__StyledTile",componentId:"sc-1sbqpwk-0"})(["max-width:1000px;header{display:flex;align-items:flex-start;flex-direction:row;font-size:16px;> img{flex-basis:200px;padding-right:36px;}> div{max-width:800px;width:100%;}h2{font-size:36px;margin-bottom:24px;}span{display:block;border-radius:3px;background-color:rgba(7,50,162,0.2);padding:12px 8px;margin-top:24px;}}section{display:flex;flex-direction:row;> h3{flex-basis:200px;padding-right:36px;text-transform:uppercase;font-family:",";color:rgba(0,17,61,0.6);margin:0;}> div{max-width:800px;width:100%;}label{text-transform:none;}h4{font-size:14px;margin-top:0;}li{margin-bottom:24px;}p{font-size:14px;margin-bottom:24px;}}"],te.BROWN_PRO_REGULAR);function Tu(e){var t=e.match,a=e.history,o=Object(n.useState)(1),i=E()(o,2),l=i[0],s=i[1],c=pn({appId:t.params.id,firstName:"",lastName:"",userId:"",email:"",company:"",industry:"",address:"",country:"",monthlyActiveUsers:"",appStoreUrl:"",googlePlayStoreUrl:"",privacyPolicyUrl:"",inEuropeanUnion:null,useCase:"",mmas:[],othermma:"",source:"",sourceText:"",needsPilgrimSDK:null}),u=E()(c,2),p=u[0],d=u[1],m=pn({}),h=E()(m,2),f=h[0],b=h[1],v={firstName:"",lastName:"",email:"",source:"",sourceText:"",company:"",address:"",country:"",inEuropeanUnion:null,useCase:"",mmas:"",needsPilgrimSDK:""},y=function(){if(1===l)s(2);else if(2===l)i=g()({},v),Ya()(p.firstName)&&(i.firstName="Please enter your first name."),Ya()(p.lastName)&&(i.lastName="Please enter your last name."),Ya()(p.email)&&(i.email="Please enter your email."),Ya()(p.company)&&(i.company="Please enter your company."),Ya()(p.address)&&(i.address="Please enter your address."),Ya()(p.country)&&(i.country="Please enter your country."),null!==p.inEuropeanUnion&&void 0!==p.inEuropeanUnion||(i.inEuropeanUnion="Please select"),Ya()(p.useCase)?i.useCase="Please enter your use case.":p.useCase.length<125&&(i.useCase="At least 125 character minimum."),Ya()(p.source)&&(i.source="Please select one"),!Ya()(p.sourceText)||"Other"!==p.source&&"Event/Conference"!==p.source||(i.sourceText="Please enter"),null!==p.needsPilgrimSDK&&void 0!==p.needsPilgrimSDK||(i.needsPilgrimSDK="Please select"),b(i),nn()(i,v)&&s(3);else{var e=p.mmas,n=p.othermma,r=p.sourceText,o=We()(p,["mmas","othermma","sourceText"]);o.mobileMarketingAutomation=e.map(function(e){return"Other"===e?"".concat(e,": ").concat(n):e}).join(", "),"Other"!==o.source&&"Event/Conference"!==o.source||(o.source="".concat(o.source,": ").concat(r)),at.requestPilgrimAccess(o).then(function(){me.success(),a.push("/apps/".concat(t.params.id,"?requestSubmitted=true"))}).catch(function(e){return me.error(e.message?e.message:"Oops something went wrong")})}var i},x=function(){1===l?a.push("/apps/".concat(t.params.id,"/pilgrim")):s(l-1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Pilgrim SDK Request Form"),r.a.createElement(Ru,{title:"Step ".concat(l," of 3"),saveBtnText:1===l?"Accept":2===l?"Continue":"Submit",cancelBtnText:1===l?"Cancel":"Back",onSave:y,onCancel:x,hasChanges:!0,buttonsOnRight:!0},r.a.createElement("header",null,r.a.createElement("img",{src:"/img/developers/new-dev-console/introduction-logo.svg",alt:"images"}),r.a.createElement("div",null,r.a.createElement("h2",null,"Pilgrim SDK Free Tier Request Form"),r.a.createElement("div",null,"Apply below for access to Pilgrim SDK to start engaging users with context-aware content in real-time."),r.a.createElement("span",null,"Please note: Only developers with strong use cases will be considered. "))),r.a.createElement("hr",null),1===l&&r.a.createElement(gu,{onAccept:function(){return s(1)},onCancel:x}),2===l&&r.a.createElement(Iu,{errors:f,state:p,setState:d,onContinue:function(){return s(2)},onCancel:x}),3===l&&r.a.createElement(Su,{onAccept:y,onCancel:x})))}Tu.propTypes={match:ua.a.object.isRequired,history:ua.a.object.isRequired};var Ou=Object(pa.h)(Tu),Lu={verifyEmail:function(){return M("v2/privateweb/verifyemail",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},resendVerifyEmail:function(){return M("v2/privateweb/verifyemail/resend",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},_u=X.b.div.withConfig({displayName:"EmailVerificationPage__Wrapper",componentId:"wxgzum-0"})(["margin:100px auto;padding:30px 48px 24px;width:calc(100% - 60px);max-width:640px;background-color:",";box-shadow:0 4px 12px 0 rgba(0,0,0,0.1);border-radius:4px;border-top:48px solid ",";text-align:center;> h1{font-size:32px;}> h3{margin:24px 0;font-family:",";font-size:18px;form{display:inline-block;margin-left:8px;}}> button{margin-bottom:36px;}> p{margin:0;font-size:14px;font-family:",";}a{color:",";}"],ae.WHITE,ae.DARK_BLUE,te.BROWN_PRO_REGULAR,te.BROWN_PRO_LIGHT,ae.BLUE),Au=fourSq.config.user.USER_PROFILE,Pu=fourSq.api.services.getCommonParams_().oauth_token;var Nu=function(){var e=un(Lu.resendVerifyEmail,!1),t=E()(e,4),a=t[0],o=t[1],i=t[2],l=t[3];return Object(n.useEffect)(function(){i?me.error(i.message):o&&me.success("Thank you. Please check your inbox.")},[o,i]),r.a.createElement(_u,null,r.a.createElement("img",{src:"/img/developers/new-dev-console/email.svg",alt:"envelop"}),r.a.createElement("h1",null,"Email Verification Required"),r.a.createElement("p",null,"Hey ",Au.firstName,", it looks like you haven't verified your email yet. Before you can proceed to the Foursquare Developer Console, we need you to verify ownership of:"),r.a.createElement("h3",null,Au.contact.email,r.a.createElement("form",{name:"logout",method:"POST",action:"/logout"},r.a.createElement("input",{type:"hidden",name:"token",value:Pu}),r.a.createElement("input",{type:"hidden",name:"continue",value:"https://developer.foursquare.com"}),r.a.createElement(Ia,{text:!0,type:"submit"},"(Logout)"))),r.a.createElement(Ia,{onClick:l,isLoading:a},"Resend Email"),r.a.createElement("p",null,"Questions? Email us at"," ",r.a.createElement("a",{href:"mailto:developers@foursquare.com"},"developers@foursquare.com")))},ju={deleteIDs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M("v2/apps/".concat(e,"/erasureRequest"),t)}};function Fu(e){var t=e.match,a=e.code,o=Object(n.useState)(""),i=E()(o,2),l=i[0],s=i[1],c=un(function(){return ju.deleteIDs(t.params.id,{installId:l,code:a})},!1),u=E()(c,4),p=u[0],d=u[1],m=u[2],g=u[3],h=Object(n.useCallback)(function(e){return s(e.target.value)},[]),f=Object(n.useCallback)(function(){return s("")},[]),b=Object(n.useCallback)(function(){g()},[g]);return Object(n.useEffect)(function(){m?me.error(m.message):d&&me.success()},[m,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Delete IDs"),r.a.createElement(Tn,{title:"Request User Data Removal",hasChanges:!!l,onCancel:f,isSaving:p,onSave:b},r.a.createElement("p",null,"Enter up to 1000 Pilgrim SDK Install IDs below and we will process them for deletion as soon as possible."),r.a.createElement(cn,{label:"Pilgrim SDK Install IDs",placeholder:"A comma-separated list of install ids",value:l,onChange:h})))}Fu.propTypes={match:ua.a.object.isRequired,code:ua.a.string.isRequired};var Du=Object(pa.h)(Object(o.b)(function(e){return{code:e.apps.csrfToken||""}})(Fu)),qu=X.b.div.withConfig({displayName:"AppPushConsolePage__Wrapper",componentId:"sc-1drsm3i-0"})(["> label{display:block;margin:0 0 8px;text-transform:uppercase;font-size:14px;color:",";}> p,button{margin-bottom:24px;}"],ae.DARK_BLUE_55);function Uu(e){var t=e.app,a=e.csrfToken,o=pn({status:"Congrats! No pushes to your app have failed today. ",target:"",response:"Response to you test pushes will appear here",resendLabel:"",resendPlaceholder:""}),i=E()(o,2),l=i[0],s=i[1],c=un(Object(n.useCallback)(function(){return tt.testPush(t.id,{code:a,v:t.pushApi.version})},[t,a]),!1),u=E()(c,4),p=u[0],d=u[1],m=u[2],g=u[3],h=un(function(){return tt.resendPush(t.id,{target:l.target,code:a,v:t.pushApi.version})},!1),f=E()(h,4),b=f[0],v=f[1],y=f[2],x=f[3],w=Object(n.useCallback)(function(e){return s({target:e.target.value})},[]);return Object(n.useEffect)(function(){m?me.error():d&&(me.success("Push sent!"),s({response:d.response}))},[d,m]),Object(n.useEffect)(function(){y?me.error():v&&(me.success("Push sent!"),s({response:v.response}))},[v,m]),Object(n.useEffect)(function(){!Ya()(t.failedPushes)&&t.failedPushes.count>0&&s({status:"Your app has been sent ".concat(t.failedPushes.length," pushes that failed today.")}),Ya()(t.pushApi)||(t.pushApi.venue?s({resendLabel:"Resend last push at venue",resendPlaceholder:"Enter Venue ID"}):t.pushApi.user&&s({resendLabel:"Resend last push from user",resendPlaceholder:"Enter foursquare ID or twitter name"}))},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(da.b,{to:"/apps/".concat(t.id,"/settings")},"App Settings")," / Push Console"),r.a.createElement(Tn,{title:"PUSH STATUS"},r.a.createElement("div",null,l.status)),r.a.createElement(Tn,{title:"Test console"},r.a.createElement(qu,null,r.a.createElement("p",null,"You can use this console to send your application test pushes or to resend recent pushes from targeted users or venues."),r.a.createElement("label",null,"TEST PUSH"),r.a.createElement("p",null,"Send your app an anonymous test push from foursquare"),r.a.createElement(Ia,{outline:!0,onClick:g,isLoading:p},"send push"),r.a.createElement(cn,{label:l.resendLabel,placeholder:l.resendPlaceholder,onChange:w}),r.a.createElement(Ia,{outline:!0,onClick:x,isLoading:b,disabled:Ya()(l.target)},"Resend"),r.a.createElement("label",null,"PUSH RESPONSES"),r.a.createElement("p",null,l.response))))}Uu.propTypes={app:ua.a.object.isRequired,csrfToken:ua.a.string},Uu.defaultProps={csrfToken:null};var Mu=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{app:r,csrfToken:a.csrfToken,isFetching:r.isFetching}})(Uu),Bu=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Feedback"),r.a.createElement(Tn,{noPadding:!0},r.a.createElement("iframe",{title:"Send Feedback",src:"https://docs.google.com/forms/d/e/1FAIpQLSfLUvvO5ILVkRXhhcPOKpLH4u4ATHMR70f9OSIbHmWarPjz1g/viewform",width:"100%",height:"1000",frameBorder:"0",marginHeight:"0",marginWidth:"0"})))},Gu=X.b.div.withConfig({displayName:"AppPilgrimFreeTierTeaserPage__Wrapper",componentId:"s3un30-0"})(["display:flex;flex-direction:row;h2,p,span{color:",";}h2{font-size:36px;}h3{font-size:16px;color:",";}p{font-size:16px;}img{width:40%;max-width:320px;height:auto;padding:10px 10px 50px 10px;}"],function(e){return e.textColor},function(e){return e.h3Color}),Hu=X.b.div.withConfig({displayName:"AppPilgrimFreeTierTeaserPage__Text",componentId:"s3un30-1"})(["display:flex;flex-direction:column;justify-content:center;a{text-decoration:none;}"]),zu=X.b.div.withConfig({displayName:"AppPilgrimFreeTierTeaserPage__Row",componentId:"s3un30-2"})(["display:flex;align-items:center;a{color:",";&.white{color:#fff;}}button:disabled,button[disabled]{opacity:1;color:rgba(0,17,61,0.5);}"],ae.DARK_BLUE),Vu=X.b.div.withConfig({displayName:"AppPilgrimFreeTierTeaserPage__Divider",componentId:"s3un30-3"})(["display:flex;background-color:#efeff4;opacity:0.5;margin-left:16px;margin-right:16px;width:1px;height:32px;"]);function Wu(e){var t=e.dispatch,a=e.appId,o=e.app,i=e.history,l=e.isFetching,s=!!o.freeTierApplicationStatus&&"Pending"===o.freeTierApplicationStatus,c=s?"Request Pending":"Apply for Free Tier Access";return Object(n.useEffect)(function(){Ya()(o)&&t(ht(a))},[]),l||Ya()(o)?r.a.createElement($a,null):o.allowPilgrimSdk?r.a.createElement(pa.b,{to:"/apps/".concat(a,"/pilgrim/config/snap-to-places")}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Pilgrim SDK"),r.a.createElement(Tn,{backgroundColor:ae.BLUE},r.a.createElement(Gu,{textColor:"white",h3Color:"#f9ca48"},r.a.createElement("img",{src:"/img/developers/new-dev-console/illustration-phone.svg",alt:"Blue grid with location data hovering over a phone"}),r.a.createElement(Hu,null,r.a.createElement("h3",null,"NEW!"),r.a.createElement("h2",null,"Introducing Free Tier for the Pilgrim SDK"),r.a.createElement("p",null,"Apply for access to embed the most comprehensive location awareness engine into your iOS and Android applications to engage users with contextually-relevant and geo-aware content."),r.a.createElement(zu,null,r.a.createElement(Ia,{onClick:function(){i.push("/apps/".concat(a,"/pilgrim/request"))},disabled:s},c),r.a.createElement(Vu,null),r.a.createElement("a",{className:"white",href:"https://developer.foursquare.com/docs/pilgrim-sdk",target:"_blank",rel:"noopener noreferrer"},"Learn more about the Pilgrim SDK"))))),r.a.createElement(Tn,{backgroundColor:ae.LIGHT_GREY},r.a.createElement(Gu,{h3Color:"rgba(0, 17, 61, 0.6)"},r.a.createElement("img",{src:"/img/developers/new-dev-console/illustration-city.svg",alt:"Blue pages of code hovering over a city"}),r.a.createElement(Hu,null,r.a.createElement("h3",null," YOU HAVE ACCESS TO THE PLACES API!"),r.a.createElement("h2",null," Looking for venue data?"),r.a.createElement("p",null,"Do you want access to Foursquare’s global database of over 105M places? Then you might be looking for the Places API. Get started below."),r.a.createElement("a",{href:"https://developer.foursquare.com/docs/api"},"Getting started with the Places API")))))}Wu.propTypes={dispatch:ua.a.func.isRequired,appId:ua.a.string.isRequired,app:ua.a.object.isRequired,history:ua.a.object.isRequired,isFetching:ua.a.bool},Wu.defaultProps={isFetching:!1};var Ku=Object(o.b)(function(e,t){var a=e.apps,n=t.match.params.id,r=a.byId[n]||{};return{appId:n,app:r,isFetching:r.isFetching}})(Wu),Yu=X.b.div.withConfig({displayName:"App__Wrapper",componentId:"sc-1n26dj6-0"})(["display:flex;min-height:100vh;main{position:relative;flex-grow:1;margin-left:240px;padding:0 80px 80px;h1{position:absolute;top:24px;left:128px;margin:0;opacity:0.6;font-size:24px;color:",";a{color:",";}}}"],ae.DARK_BLUE,ae.DARK_BLUE),Qu=Object(pa.h)(function(e){var t=e.children,a=e.location.pathname;return Object(n.useEffect)(function(){window.scrollTo(0,0)},[a]),t}),$u=X.b.div.withConfig({displayName:"App__NavigationPromptBody",componentId:"sc-1n26dj6-1"})(["padding:32px 48px;p{margin:0 0 32px;}button + button{margin-left:24px;}"]),Zu=function(e,t){var a=document.createElement("div");document.body.appendChild(a);var n=function(e){l.a.unmountComponentAtNode(a),document.body.removeChild(a),t(e)};l.a.render(r.a.createElement(Na,{isOpen:!0,title:"Leave Page?",showCloseButton:!1,onRequestClose:function(){return n(!1)}},r.a.createElement($u,null,r.a.createElement("p",null,e),r.a.createElement(Ia,{onClick:function(){return n(!0)}},"Leave Without Saving"),r.a.createElement(Ia,{text:!0,onClick:function(){return n(!1)}},"Cancel"))),a)};function Ju(e){var t=e.verifiedEmail,a=e.isFetching,n=e.hasError;return a?r.a.createElement($a,null):n?null:r.a.createElement(da.a,{basename:"/developers",getUserConfirmation:Zu},t?r.a.createElement(Qu,null,r.a.createElement(Yu,null,r.a.createElement(Wa,null),r.a.createElement("main",null,r.a.createElement(_a,null),r.a.createElement(pa.e,null,r.a.createElement(pa.b,{exact:!0,from:"/(app)?",to:"/apps"}),r.a.createElement(pa.b,{exact:!0,from:"/app/*",to:"/apps/*"}),r.a.createElement(pa.b,{exact:!0,from:"/billing",to:"/account/billing"}),r.a.createElement(pa.b,{exact:!0,from:"/credits",to:"/account/credits"}),r.a.createElement(pa.b,{exact:!0,from:"/apps/:id/pilgrim",to:"/apps/:id/pilgrim/config"}),r.a.createElement(pa.b,{exact:!0,from:"/apps/:id/pilgrim/config/geofences/new",to:"/apps/:id/pilgrim/config/geofences/builder"}),r.a.createElement(pa.c,{exact:!0,path:"/apps",component:vn}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/(settings)?",component:ur}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/push",component:Mu}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/places/usage",component:Zo}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/(freetier)?",component:Ku}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/snap-to-places",component:Si}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/webhook",component:is}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/geofences",component:yl}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/geofences/builder/:geofenceId?",component:Yl}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/integrations",component:Ps}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/integrations/new",component:Gs}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/config/integrations/:type",component:Gs}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/events",component:jc}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/events/manage-ids",component:Mc}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/usage",component:mu}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/gdpr",component:Du}),r.a.createElement(pa.c,{exact:!0,path:"/apps/:id/pilgrim/request",component:Ou}),r.a.createElement(pa.c,{exact:!0,path:"/account/(profile)?",component:hr}),r.a.createElement(pa.c,{exact:!0,path:"/account/billing",component:$r}),r.a.createElement(pa.c,{exact:!0,path:"/account/credits",component:ko}),r.a.createElement(pa.c,{exact:!0,path:"/feedback",component:Bu}))))):r.a.createElement(Nu,null),r.a.createElement(J.a,{position:"top-center",draggable:!1,hideProgressBar:!0,autoClose:2e3,closeButton:!1}),r.a.createElement(fa,null))}Ju.propTypes={verifiedEmail:ua.a.bool.isRequired,isFetching:ua.a.bool.isRequired,hasError:ua.a.bool.isRequired};var Xu=Object(o.b)(function(e){var t=e.apps;return{verifiedEmail:t.verifiedEmail,isFetching:t.isFetching,hasError:t.hasError}})(Ju);a(708),a(711),a(713),a(715);document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("appContainer");s.setAppElement(e);var t,a,n=e.dataset.csrfToken,l=(t=ia,Object(u.e)(t,sa(Object(u.a)(la.a))));l.dispatch({type:nt,code:n}),l.dispatch((a=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:rt}),e.next=4,tt.getApps();case 4:a=e.sent,t({type:ot,data:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:it}),me.error();case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return a.apply(this,arguments)})),Object(i.render)(r.a.createElement(o.a,{store:l},r.a.createElement(Xu,null)),e)})}});
//# sourceMappingURL=main.28589ea58e7318cea362.js.map